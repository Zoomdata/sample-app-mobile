<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Zoomdata Javascript SDK Class: Client</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	<link type="text/css" rel="stylesheet" href="styles/site.flatly.css">

</head>

<body>
<div class="container-fluid">
	<div class="navbar navbar-fixed-top navbar-inverse">
		<div class="navbar-inner">
			<a class="brand" href="index.html">Zoomdata Javascript SDK</a>
			<ul class="nav">
				
				<li class="dropdown">
					<a href="namespaces.list.html" class="dropdown-toggle" data-toggle="dropdown">Namespaces<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="controller.html">controller</a>
						</li>
						
						<li>
							<a href="ZoomdataSDK.html">ZoomdataSDK</a>
						</li>
						

					</ul>
				</li>
				
				<li class="dropdown">
					<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="Client.html">Client</a>
						</li>
						
						<li>
							<a href="CollectionAPI.html">CollectionAPI</a>
						</li>
						
						<li>
							<a href="FiltersAPI.html">FiltersAPI</a>
						</li>
						
						<li>
							<a href="ModelAPI.html">ModelAPI</a>
						</li>
						
						<li>
							<a href="Query.html">Query</a>
						</li>
						

					</ul>
				</li>
				
				<li class="dropdown">
					<a href="global.html" class="dropdown-toggle" data-toggle="dropdown">Global<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="global.html#FieldType">FieldType</a>
						</li>
						
						<li>
							<a href="global.html#FilterOperations">FilterOperations</a>
						</li>
						
						<li>
							<a href="global.html#HistogramFunction">HistogramFunction</a>
						</li>
						
						<li>
							<a href="global.html#MetricFunction">MetricFunction</a>
						</li>
						
						<li>
							<a href="global.html#SortDirection">SortDirection</a>
						</li>
						
						<li>
							<a href="global.html#TimeGranularity">TimeGranularity</a>
						</li>
						

					</ul>
				</li>
				
			</ul>
		</div>
	</div>

	<div class="row-fluid">

		
		<div class="span8">
			
				<div id="main">
					


	<h1 class="page-title">Class: Client</h1>
<section>

<header>
    <h2>
    Client
    </h2>
    
        <div class="class-description"><p>The Client class is the principal object of the Zoomdata Application Framework. You create the Client object for your application by calling ZoomdataSDK.createClient(). Once you have created the Client object, you use it to create queries and visualizations.</p></div>
    
</header>

<article>
    <div class="container-overview">
    

    
        
<dt>
    <h4 class="name" id="Client"><span class="type-signature"></span>new Client<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    

    
    
    
    
    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<dt>
    <h4 class="name" id="createQuery"><span class="type-signature"></span>createQuery<span class="signature">(source, config)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Used to create a data query.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>source</code></td>
            

            <td class="type">
            
                
<span class="param-type">SourceObject</span>


            
            </td>

            

            

            <td class="description last"><p>Object with a single key, name, that gives the name of the data source being queried, or data source model.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>config</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#QueryConfig">QueryConfig</a></span>


            
            </td>

            

            

            <td class="description last"><p>Query options.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    
    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript">ZoomdataSDK.createClient({
     application: {
         secure: false,
         host: &#x27;localhost&#x27;,
         port: 8080,
         path: &#x27;/zoomdata&#x27;
     },
     credentials: {
         key: API_KEY
     })
    .then(function (client) {
         console.log(&#x27;Validated:&#x27;, client);
         client.createQuery({name: &#x27;Real Time Sales&#x27;}, {
             player: {
                 speed: 1,
                 pauseAfterRead: true
             },
             time: {
                 timeField: &#x27;_ts&#x27;
             },
             filters: [{
                 path: &#x27;usersentiment&#x27;,
                 operation: &#x27;BETWEEN&#x27;,
                 value: [-0.5, 0.5]
             }],
             groups: [{
                 name: &#x27;usercity&#x27;,
                 limit: 10,
                 sort: {
                     dir: &#x27;desc&#x27;,
                     name: &#x27;usersentiment&#x27;
                 }
             }],
             metrics: [{
                 name: &#x27;usersentiment&#x27;,
                 func: &#x27;avg&#x27;
             }]
         });
     })
     .catch(onError);</pre>


    
</dd>

        
            
<dt>
    <h4 class="name" id="runQuery"><span class="type-signature"></span>runQuery<span class="signature">(query, onUpdate, onError)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Run a query.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>query</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Query.html">Query</a></span>


            
            </td>

            

            

            <td class="description last"><p>The query object to be executed.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>onUpdate</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The function to handle data from a successful query execution. This function accepts a data object as its parameter.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>onError</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The function to handle data from a failed query execution. This function accepts a string containing an error message.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    
    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript">theClient.runQuery(theQuery,
     function(data) {
         console.log(&quot;The data from the query is: &quot;, data);
     },
     function(msg) {
         console.log(&quot;Oh, snap! An error on the query: &quot;, msg);
     });</pre>


    
</dd>

        
            
<dt>
    <h4 class="name" id="visualize"><span class="type-signature"></span>visualize<span class="signature">(parameters)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Embed a visualization into the page.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>parameters</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Parameters required by visualize() to embed a visualization into a page.</p>
                <h6>Properties</h6>
                

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		
		<th>Argument</th>
		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>element</code></td>
            

            <td class="type">
            
                
<span class="param-type">HTMLElement</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>HTML element to which the visualization will be attached.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>query</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Query.html">Query</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Query object used for this visualization; if used, omit config and source.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>config</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#QueryConfig">QueryConfig</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Query config used for this visualization; required if Query object not supplied.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>source</code></td>
            

            <td class="type">
            
                
<span class="param-type">SourceObject</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Object with a single key, name, that gives the name of the data source being queried, or data source model; required if Query object not supplied.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>visualization</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Name of the visualization. This must match the name as shown in the Zoomdata application.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>variables</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Object of variables to override the defaults.</p></td>
        </tr>

	
	</tbody>
</table>

            </td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    
    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript">var queryConfig = {
        player: {
            speed: 1,
            pauseAfterRead: true
        },
        time: {
            timeField: &#x27;_ts&#x27;
        },
        filters: [{
            path: &#x27;usersentiment&#x27;,
            operation: &#x27;BETWEEN&#x27;,
            value: [-0.5, 0.5]
        }],
        groups: [{
            name: &#x27;usercity&#x27;,
            limit: 10,
            sort: {
                dir: &#x27;desc&#x27;,
                name: &#x27;usersentiment&#x27;
            }
        }],
        metrics: [{
            name: &#x27;usersentiment&#x27;,
            func: &#x27;avg&#x27;
        }]
    };

// Visualizing from a query:
// Creating a query and using it in visualize method allows you to use
// query instance to manipulate data. Moreover visualization variables
// will have no effect on the query.
//
// Contrast this approach to that of visualizing from a
// query configuration, shown below.

ZoomdataSDK.createClient({
     application: applicationConfig,
     credentials: credentialsConfig
     })
 .then(function (client) {
    return client.createQuery(queryConfig);
 })
 .then(function(query) {
    return client.visualize({
        element: vizLocation,
        query: theQuery,
        visualization: visualization.name,
        variables: visualization.variables
    });
})
.catch(onError);

// Visualizing from a query configuration object
// Passing QueryConfig to visualize method will instruct it to construct
// the query. This way groups, metrics, and fields properties of
// queryConfig will be ignored and visualization variables will be used
// to determine actual groups, metrics and fields.

ZoomdataSDK.createClient({
     application: applicationConfig,
     credentials: credentialsConfig
}).then(function (client) {
    client.visualize({
        element: element,
        config: queryConfig,
        source: {name: sourceName},
        visualization: visualization.name,
        variables: visualization.variables
    });
})
.catch(onError);</pre>


    
</dd>

        </dl>
    

    

    
</article>

</section>




				</div>

				<div class="clearfix"></div>
				<footer>
					
					
		<span class="jsdoc-message">
		Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.3</a>
		on Mon May 23rd 2016 using the <a
			href="https://github.com/terryweiss/docstrap">DocStrap template</a>.
		</span>
				</footer>
			</div>

			
			<div class="span3">
				<div id="toc"></div>
			</div>
			
			<br clear="both">
		</div>

	</div>
	<!--<script src="scripts/sunlight.js"></script>-->
	<script src="scripts/docstrap.lib.js"></script>
	<script src="scripts/bootstrap-dropdown.js"></script>
	<script src="scripts/toc.js"></script>

	<script>
		$( function () {
			$( "[id*='$']" ).each( function () {
				var $this = $( this );

				$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
			} );

			$( "#toc" ).toc( {
				anchorName  : function ( i, heading, prefix ) {
					return $( heading ).attr( "id" ) || ( prefix + i );
				},
				selectors   : "h1,h2,h3,h4",
				showAndHide : false,
				scrollTo    : "100px"
			} );

			$( "#toc>ul" ).addClass( "nav nav-pills nav-stacked" );
			$( "#main span[id^='toc']" ).addClass( "toc-shim" );
			$( '.dropdown-toggle' ).dropdown();
//			$( ".tutorial-section pre, .readme-section pre" ).addClass( "sunlight-highlight-javascript" ).addClass( "linenums" );

			$( ".tutorial-section pre, .readme-section pre" ).each( function () {
				var $this = $( this );

				var example = $this.find( "code" );
				exampleText = example.html();
				var lang = /{@lang (.*?)}/.exec( exampleText );
				if ( lang && lang[1] ) {
					exampleText = exampleText.replace( lang[0], "" );
					example.html( exampleText );
					lang = lang[1];
				} else {
					lang = "javascript";
				}

				if ( lang ) {

					$this
						.addClass( "sunlight-highlight-" + lang )
						.addClass( "linenums" )
						.html( example.html() );

				}
			} );

			Sunlight.highlightAll( {
				lineNumbers : true,
				showMenu : true,
				enableDoclinks : true
			} );
		} );
	 </script>



	<!--Navigation and Symbol Display-->
	


	<!--Google Analytics-->
	

</body>
</html>