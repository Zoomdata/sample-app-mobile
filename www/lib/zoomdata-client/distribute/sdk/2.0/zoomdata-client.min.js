/*
 * Copyright (C) Zoomdata, Inc. 2012-2016. All rights reserved.
 * License and Terms of Use: See http://www.zoomdata.com/terms-of-use/
 */
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.ZoomdataSDK=a()}}(function(){var define,module,exports;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){},{}],2:[function(a,b,c){arguments[4][1][0].apply(c,arguments)},{dup:1}],3:[function(a,b,c){arguments[4][1][0].apply(c,arguments)},{dup:1}],4:[function(a,b,c){(function(c,d){"use strict";function e(b,e){function f(a){var b,c;for(b=0;a[b];b+=1)if(c=a[b],"."===c)a.splice(b,1),b-=1;else if(".."===c){if(1===b&&(".."===a[2]||".."===a[0]))break;b>0&&(a.splice(b-1,2),b-=2)}}function g(a,b){var c;return a&&"."===a.charAt(0)&&b&&(c=b.split("/"),c=c.slice(0,c.length-1),c=c.concat(a.split("/")),f(c),a=c.join("/")),a}function h(a){return function(b){return g(b,a)}}function i(a){function b(b){o[a]=b}return b.fromText=function(a,b){throw new Error("amdefine does not implement load.fromText")},b}function j(a,c,f){var g,h,i,j;if(a)h=o[a]={},i={id:a,uri:d,exports:h},g=l(e,h,i,a);else{if(p)throw new Error("amdefine with no module ID cannot be called more than once per file.");p=!0,h=b.exports,i=b,g=l(e,h,i,b.id)}c&&(c=c.map(function(a){return g(a)})),j="function"==typeof f?f.apply(i.exports,c):f,void 0!==j&&(i.exports=j,a&&(o[a]=i.exports))}function k(a,b,c){Array.isArray(a)?(c=b,b=a,a=void 0):"string"!=typeof a&&(c=a,a=b=void 0),b&&!Array.isArray(b)&&(c=b,b=void 0),b||(b=["require","exports","module"]),a?n[a]=[a,b,c]:j(a,b,c)}var l,m,n={},o={},p=!1,q=a("path");return l=function(a,b,d,e){function f(f,g){return"string"==typeof f?m(a,b,d,f,e):(f=f.map(function(c){return m(a,b,d,c,e)}),void(g&&c.nextTick(function(){g.apply(null,f)})))}return f.toUrl=function(a){return 0===a.indexOf(".")?g(a,q.dirname(d.filename)):a},f},e=e||function(){return b.require.apply(b,arguments)},m=function(a,b,c,d,e){var f,k,p=d.indexOf("!"),q=d;if(-1===p){if(d=g(d,e),"require"===d)return l(a,b,c,e);if("exports"===d)return b;if("module"===d)return c;if(o.hasOwnProperty(d))return o[d];if(n[d])return j.apply(null,n[d]),o[d];if(a)return a(q);throw new Error("No module with ID: "+d)}return f=d.substring(0,p),d=d.substring(p+1,d.length),k=m(a,b,c,f,e),d=k.normalize?k.normalize(d,h(e)):g(d,e),o[d]?o[d]:(k.load(d,l(a,b,c,e),i(d),{}),o[d])},k.require=function(a){return o[a]?o[a]:n[a]?(j.apply(null,n[a]),o[a]):void 0},k.amd={},k}b.exports=e}).call(this,a("_process"),"/node_modules/amdefine/amdefine.js")},{_process:8,path:35}],5:[function(a,b,c){var d=a("cuid"),e=a("css"),f=a("insert-css"),g=["*","body","html"];b.exports=function(a,b){var c=d.slug();a.setAttribute("data-scoped-css",c);var h=e.parse(b);h.stylesheet.rules.forEach(function(a,b){if("rule"===h.stylesheet.rules[b].type){var d=h.stylesheet.rules[b].selectors[0],e=!1;g.indexOf(d)>-1&&(e=!0);var f=e?d+' [data-scoped-css="'+c+'"]':'[data-scoped-css="'+c+'"] '+d;h.stylesheet.rules[b].selectors[0]=f}}),f(e.stringify(h))}},{css:12,cuid:19,"insert-css":28}],6:[function(a,b,c){(function(a){function c(){for(;e.next;){e=e.next;var a=e.task;e.task=void 0;var b=e.domain;b&&(e.domain=void 0,b.enter());try{a()}catch(d){if(i)throw b&&b.exit(),setTimeout(c,0),b&&b.enter(),d;setTimeout(function(){throw d},0)}b&&b.exit()}g=!1}function d(b){f=f.next={task:b,domain:i&&a.domain,next:null},g||(g=!0,h())}var e={task:void 0,next:null},f=e,g=!1,h=void 0,i=!1;if("undefined"!=typeof a&&a.nextTick)i=!0,h=function(){a.nextTick(c)};else if("function"==typeof setImmediate)h="undefined"!=typeof window?setImmediate.bind(window,c):function(){setImmediate(c)};else if("undefined"!=typeof MessageChannel){var j=new MessageChannel;j.port1.onmessage=c,h=function(){j.port2.postMessage(0)}}else h=function(){setTimeout(c,0)};b.exports=d}).call(this,a("_process"))},{_process:8}],7:[function(a,b,c){arguments[4][1][0].apply(c,arguments)},{dup:1}],8:[function(a,b,c){function d(){if(!h){h=!0;for(var a,b=g.length;b;){a=g,g=[];for(var c=-1;++c<b;)a[c]();b=g.length}h=!1}}function e(){}var f=b.exports={},g=[],h=!1;f.nextTick=function(a){g.push(a),h||setTimeout(d,0)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=e,f.addListener=e,f.once=e,f.off=e,f.removeListener=e,f.removeAllListeners=e,f.emit=e,f.binding=function(a){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(a){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],9:[function(a,b,c){(function(){var a,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba=[].slice;wa=function(){var a,b,c,d,e;for(a={},e="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),d=0,b=e.length;b>d;d++)c=e[d],a["[object "+c+"]"]=c.toLowerCase();return function(b){var c;return c=Object.prototype.toString.call(b),a[c]||"object"}}(),U=function(a,b,c){return null==b&&(b=0),null==c&&(c=1),b>a&&(a=b),a>c&&(a=c),a},xa=function(a){return a.length>=3?[].slice.call(a):a[0]},v=function(a){var b;for(b in a)3>b?(a[b]<0&&(a[b]=0),a[b]>255&&(a[b]=255)):3===b&&(a[b]<0&&(a[b]=0),a[b]>1&&(a[b]=1));return a},f=Math.PI,ra=Math.round,y=Math.cos,D=Math.floor,ba=Math.pow,V=Math.log,ta=Math.sin,ua=Math.sqrt,o=Math.atan2,Y=Math.max,n=Math.abs,i=2*f,g=f/3,d=f/180,h=180/f,u=function(){return arguments[0]instanceof a?arguments[0]:function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,arguments,function(){})},m=[],"undefined"!=typeof b&&null!==b&&null!=b.exports&&(b.exports=u),"function"==typeof define&&define.amd?define([],function(){return u}):(qa="undefined"!=typeof c&&null!==c?c:this,qa.chroma=u),u.version="1.1.1",l={},j=[],k=!1,a=function(){function a(){var a,b,c,d,e,f,g,h,i;for(f=this,b=[],h=0,d=arguments.length;d>h;h++)a=arguments[h],null!=a&&b.push(a);if(g=b[b.length-1],null!=l[g])f._rgb=v(l[g](xa(b.slice(0,-1))));else{for(k||(j=j.sort(function(a,b){return b.p-a.p}),k=!0),i=0,e=j.length;e>i&&(c=j[i],!(g=c.test.apply(c,b)));i++);g&&(f._rgb=v(l[g].apply(l,b)))}null==f._rgb&&console.warn("unknown format: "+b),null==f._rgb&&(f._rgb=[0,0,0]),3===f._rgb.length&&f._rgb.push(1)}return a.prototype.alpha=function(a){return arguments.length?(this._rgb[3]=a,this):this._rgb[3]},a.prototype.toString=function(){return this.name()},a}(),u._input=l,u.brewer=s={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},ya={indigo:"#4b0082",gold:"#ffd700",hotpink:"#ff69b4",firebrick:"#b22222",indianred:"#cd5c5c",yellow:"#ffff00",mistyrose:"#ffe4e1",darkolivegreen:"#556b2f",olive:"#808000",darkseagreen:"#8fbc8f",pink:"#ffc0cb",tomato:"#ff6347",lightcoral:"#f08080",orangered:"#ff4500",navajowhite:"#ffdead",lime:"#00ff00",palegreen:"#98fb98",darkslategrey:"#2f4f4f",greenyellow:"#adff2f",burlywood:"#deb887",seashell:"#fff5ee",mediumspringgreen:"#00fa9a",fuchsia:"#ff00ff",papayawhip:"#ffefd5",blanchedalmond:"#ffebcd",chartreuse:"#7fff00",dimgray:"#696969",black:"#000000",peachpuff:"#ffdab9",springgreen:"#00ff7f",aquamarine:"#7fffd4",white:"#ffffff",orange:"#ffa500",lightsalmon:"#ffa07a",darkslategray:"#2f4f4f",brown:"#a52a2a",ivory:"#fffff0",dodgerblue:"#1e90ff",peru:"#cd853f",lawngreen:"#7cfc00",chocolate:"#d2691e",crimson:"#dc143c",forestgreen:"#228b22",darkgrey:"#a9a9a9",lightseagreen:"#20b2aa",cyan:"#00ffff",mintcream:"#f5fffa",silver:"#c0c0c0",antiquewhite:"#faebd7",mediumorchid:"#ba55d3",skyblue:"#87ceeb",gray:"#808080",darkturquoise:"#00ced1",goldenrod:"#daa520",darkgreen:"#006400",floralwhite:"#fffaf0",darkviolet:"#9400d3",darkgray:"#a9a9a9",moccasin:"#ffe4b5",saddlebrown:"#8b4513",grey:"#808080",darkslateblue:"#483d8b",lightskyblue:"#87cefa",lightpink:"#ffb6c1",mediumvioletred:"#c71585",slategrey:"#708090",red:"#ff0000",deeppink:"#ff1493",limegreen:"#32cd32",darkmagenta:"#8b008b",palegoldenrod:"#eee8aa",plum:"#dda0dd",turquoise:"#40e0d0",lightgrey:"#d3d3d3",lightgoldenrodyellow:"#fafad2",darkgoldenrod:"#b8860b",lavender:"#e6e6fa",maroon:"#800000",yellowgreen:"#9acd32",sandybrown:"#f4a460",thistle:"#d8bfd8",violet:"#ee82ee",navy:"#000080",magenta:"#ff00ff",dimgrey:"#696969",tan:"#d2b48c",rosybrown:"#bc8f8f",olivedrab:"#6b8e23",blue:"#0000ff",lightblue:"#add8e6",ghostwhite:"#f8f8ff",honeydew:"#f0fff0",cornflowerblue:"#6495ed",slateblue:"#6a5acd",linen:"#faf0e6",darkblue:"#00008b",powderblue:"#b0e0e6",seagreen:"#2e8b57",darkkhaki:"#bdb76b",snow:"#fffafa",sienna:"#a0522d",mediumblue:"#0000cd",royalblue:"#4169e1",lightcyan:"#e0ffff",green:"#008000",mediumpurple:"#9370db",midnightblue:"#191970",cornsilk:"#fff8dc",paleturquoise:"#afeeee",bisque:"#ffe4c4",slategray:"#708090",darkcyan:"#008b8b",khaki:"#f0e68c",wheat:"#f5deb3",teal:"#008080",darkorchid:"#9932cc",deepskyblue:"#00bfff",salmon:"#fa8072",darkred:"#8b0000",steelblue:"#4682b4",palevioletred:"#db7093",lightslategray:"#778899",aliceblue:"#f0f8ff",lightslategrey:"#778899",lightgreen:"#90ee90",orchid:"#da70d6",gainsboro:"#dcdcdc",mediumseagreen:"#3cb371",lightgray:"#d3d3d3",mediumturquoise:"#48d1cc",lemonchiffon:"#fffacd",cadetblue:"#5f9ea0",lightyellow:"#ffffe0",lavenderblush:"#fff0f5",coral:"#ff7f50",purple:"#800080",aqua:"#00ffff",whitesmoke:"#f5f5f5",mediumslateblue:"#7b68ee",darkorange:"#ff8c00",mediumaquamarine:"#66cdaa",darksalmon:"#e9967a",beige:"#f5f5dc",blueviolet:"#8a2be2",azure:"#f0ffff",lightsteelblue:"#b0c4de",oldlace:"#fdf5e6",rebeccapurple:"#663399"},u.colors=x=ya,P=function(){var a,b,c,d,f,g,h,i,j;return b=xa(arguments),f=b[0],a=b[1],c=b[2],i=(f+16)/116,h=isNaN(a)?i:i+a/500,j=isNaN(c)?i:i-c/200,i=e.Yn*Q(i),h=e.Xn*Q(h),j=e.Zn*Q(j),g=Aa(3.2404542*h-1.5371385*i-.4985314*j),d=Aa(-.969266*h+1.8760108*i+.041556*j),c=Aa(.0556434*h-.2040259*i+1.0572252*j),g=U(g,0,255),d=U(d,0,255),c=U(c,0,255),[g,d,c,b.length>3?b[3]:1]},Aa=function(a){return ra(255*(.00304>=a?12.92*a:1.055*ba(a,1/2.4)-.055))},Q=function(a){return a>e.t1?a*a*a:e.t2*(a-e.t0)},e={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},ia=function(){var a,b,c,d,e,f,g,h;return d=xa(arguments),c=d[0],b=d[1],a=d[2],e=na(c,b,a),f=e[0],g=e[1],h=e[2],[116*g-16,500*(f-g),200*(g-h)]},oa=function(a){return(a/=255)<=.04045?a/12.92:ba((a+.055)/1.055,2.4)},za=function(a){return a>e.t3?ba(a,1/3):a/e.t2+e.t0},na=function(){var a,b,c,d,f,g,h;return d=xa(arguments),c=d[0],b=d[1],a=d[2],c=oa(c),b=oa(b),a=oa(a),f=za((.4124564*c+.3575761*b+.1804375*a)/e.Xn),g=za((.2126729*c+.7151522*b+.072175*a)/e.Yn),h=za((.0193339*c+.119192*b+.9503041*a)/e.Zn),[f,g,h]},u.lab=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Ba.call(arguments).concat(["lab"]),function(){})},l.lab=P,a.prototype.lab=function(){return ia(this._rgb)},p=function(a){var b,c,d,e,f,g,h,i,j,k,l;return a=function(){var b,c,d;for(d=[],c=0,b=a.length;b>c;c++)e=a[c],d.push(u(e));return d}(),2===a.length?(j=function(){var b,c,d;for(d=[],c=0,b=a.length;b>c;c++)e=a[c],d.push(e.lab());return d}(),f=j[0],g=j[1],b=function(a){var b,c;return c=function(){var c,d;for(d=[],b=c=0;2>=c;b=++c)d.push(f[b]+a*(g[b]-f[b]));return d}(),u.lab.apply(u,c)}):3===a.length?(k=function(){var b,c,d;for(d=[],c=0,b=a.length;b>c;c++)e=a[c],d.push(e.lab());return d}(),f=k[0],g=k[1],h=k[2],b=function(a){var b,c;return c=function(){var c,d;for(d=[],b=c=0;2>=c;b=++c)d.push((1-a)*(1-a)*f[b]+2*(1-a)*a*g[b]+a*a*h[b]);return d}(),u.lab.apply(u,c)}):4===a.length?(l=function(){var b,c,d;for(d=[],c=0,b=a.length;b>c;c++)e=a[c],d.push(e.lab());return d}(),f=l[0],g=l[1],h=l[2],i=l[3],b=function(a){var b,c;return c=function(){var c,d;for(d=[],b=c=0;2>=c;b=++c)d.push((1-a)*(1-a)*(1-a)*f[b]+3*(1-a)*(1-a)*a*g[b]+3*(1-a)*a*a*h[b]+a*a*a*i[b]);return d}(),u.lab.apply(u,c)}):5===a.length&&(c=p(a.slice(0,3)),d=p(a.slice(2,5)),b=function(a){return.5>a?c(2*a):d(2*(a-.5))}),b},u.bezier=function(a){var b;return b=p(a),b.scale=function(){return u.scale(b)},b},u.cubehelix=function(a,b,c,d,e){var f,g,h;return null==a&&(a=300),null==b&&(b=-1.5),null==c&&(c=1),null==d&&(d=1),null==e&&(e=[0,1]),g=e[1]-e[0],f=0,h=function(h){var j,k,l,m,n,o,p,q,r;return j=i*((a+120)/360+b*h),p=ba(e[0]+g*h,d),o=0!==f?c[0]+h*f:c,k=o*p*(1-p)/2,m=y(j),r=ta(j),q=p+k*(-.14861*m+1.78277*r),n=p+k*(-.29227*m-.90649*r),l=p+k*(1.97294*m),u(v([255*q,255*n,255*l]))},h.start=function(b){return null==b?a:(a=b,h)},h.rotations=function(a){return null==a?b:(b=a,h)},h.gamma=function(a){return null==a?d:(d=a,h)},h.hue=function(a){return null==a?c:(c=a,"array"===wa(c)?(f=c[1]-c[0],0===f&&(c=c[1])):f=0,h)},h.lightness=function(a){return null==a?e:(e=a,"array"===wa(e)?(g=e[1]-e[0],0===g&&(e=e[1])):g=0,h)},h.scale=function(){return u.scale(h)},h.hue(c),h},u.random=function(){var b,c,d,e;for(c="0123456789abcdef",b="#",d=e=0;6>e;d=++e)b+=c.charAt(D(16*Math.random()));return new a(b)},l.rgb=function(){var a,b,c,d;b=xa(arguments),c=[];for(a in b)d=b[a],c.push(d);return c},u.rgb=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Ba.call(arguments).concat(["rgb"]),function(){})},a.prototype.rgb=function(){return this._rgb.slice(0,3)},a.prototype.rgba=function(){return this._rgb},j.push({p:15,test:function(a){var b;return b=xa(arguments),"array"===wa(b)&&3===b.length?"rgb":4===b.length&&"number"===wa(b[3])&&b[3]>=0&&b[3]<=1?"rgb":void 0}}),E=function(a){var b,c,d,e,f,g;if(a.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==a.length&&7!==a.length||(a=a.substr(1)),3===a.length&&(a=a.split(""),a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),g=parseInt(a,16),e=g>>16,d=g>>8&255,c=255&g,[e,d,c,1];if(a.match(/^#?([A-Fa-f0-9]{8})$/))return 9===a.length&&(a=a.substr(1)),g=parseInt(a,16),e=g>>24&255,d=g>>16&255,c=g>>8&255,b=ra((255&g)/255*100)/100,[e,d,c,b];if(null!=l.css&&(f=l.css(a)))return f;throw"unknown color: "+a},ea=function(a,b){var c,d,e,f,g,h,i;return null==b&&(b="rgb"),g=a[0],e=a[1],d=a[2],c=a[3],i=g<<16|e<<8|d,h="000000"+i.toString(16),h=h.substr(h.length-6),f="0"+ra(255*c).toString(16),f=f.substr(f.length-2),"#"+function(){switch(b.toLowerCase()){case"rgba":return h+f;case"argb":return f+h;default:return h}}()},l.hex=function(a){return E(a)},u.hex=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Ba.call(arguments).concat(["hex"]),function(){})},a.prototype.hex=function(a){return null==a&&(a="rgb"),ea(this._rgb,a)},j.push({p:10,test:function(a){return 1===arguments.length&&"string"===wa(a)?"hex":void 0}}),H=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n;if(a=xa(arguments),e=a[0],k=a[1],g=a[2],0===k)i=d=b=255*g;else{for(n=[0,0,0],c=[0,0,0],m=.5>g?g*(1+k):g+k-g*k,l=2*g-m,e/=360,n[0]=e+1/3,n[1]=e,n[2]=e-1/3,f=h=0;2>=h;f=++h)n[f]<0&&(n[f]+=1),n[f]>1&&(n[f]-=1),6*n[f]<1?c[f]=l+6*(m-l)*n[f]:2*n[f]<1?c[f]=m:3*n[f]<2?c[f]=l+(m-l)*(2/3-n[f])*6:c[f]=l;j=[ra(255*c[0]),ra(255*c[1]),ra(255*c[2])],i=j[0],d=j[1],b=j[2]}return a.length>3?[i,d,b,a[3]]:[i,d,b]},ga=function(a,b,c){var d,e,f,g,h;return void 0!==a&&a.length>=3&&(g=a,a=g[0],b=g[1],c=g[2]),a/=255,b/=255,c/=255,f=Math.min(a,b,c),Y=Math.max(a,b,c),e=(Y+f)/2,Y===f?(h=0,d=Number.NaN):h=.5>e?(Y-f)/(Y+f):(Y-f)/(2-Y-f),a===Y?d=(b-c)/(Y-f):b===Y?d=2+(c-a)/(Y-f):c===Y&&(d=4+(a-b)/(Y-f)),d*=60,0>d&&(d+=360),[d,h,e]},u.hsl=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Ba.call(arguments).concat(["hsl"]),function(){})},l.hsl=H,a.prototype.hsl=function(){return ga(this._rgb)},I=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;if(a=xa(arguments),e=a[0],p=a[1],r=a[2],r*=255,0===p)i=d=b=r;else switch(360===e&&(e=0),e>360&&(e-=360),0>e&&(e+=360),e/=60,f=D(e),c=e-f,g=r*(1-p),h=r*(1-p*c),q=r*(1-p*(1-c)),f){case 0:j=[r,q,g],i=j[0],d=j[1],b=j[2];break;case 1:k=[h,r,g],i=k[0],d=k[1],b=k[2];break;case 2:l=[g,r,q],i=l[0],d=l[1],b=l[2];break;case 3:m=[g,h,r],i=m[0],d=m[1],b=m[2];break;case 4:n=[q,g,r],i=n[0],d=n[1],b=n[2];break;case 5:o=[r,g,h],i=o[0],d=o[1],b=o[2]}return i=ra(i),d=ra(d),b=ra(b),[i,d,b,a.length>3?a[3]:1]},ha=function(){var a,b,c,d,e,f,g,h,i;return g=xa(arguments),f=g[0],c=g[1],a=g[2],e=Math.min(f,c,a),Y=Math.max(f,c,a),b=Y-e,i=Y/255,0===Y?(d=Number.NaN,h=0):(h=b/Y,f===Y&&(d=(c-a)/b),c===Y&&(d=2+(a-f)/b),a===Y&&(d=4+(f-c)/b),d*=60,0>d&&(d+=360)),[d,h,i]},u.hsv=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Ba.call(arguments).concat(["hsv"]),function(){})},l.hsv=I,a.prototype.hsv=function(){return ha(this._rgb)},_=function(a){var b,c,d;return"number"===wa(a)&&a>=0&&16777215>=a?(d=a>>16,c=a>>8&255,b=255&a,[d,c,b,1]):(console.warn("unknown num color: "+a),[0,0,0,1])},la=function(){var a,b,c,d;return d=xa(arguments),c=d[0],b=d[1],a=d[2],(c<<16)+(b<<8)+a},u.num=function(b){return new a(b,"num")},a.prototype.num=function(a){return null==a&&(a="rgb"),la(this._rgb,a)},l.num=_,j.push({p:10,test:function(a){return 1===arguments.length&&"number"===wa(a)&&a>=0&&16777215>=a?"num":void 0}}),z=function(a){var b,c,d,e,f,g,h,i;if(a=a.toLowerCase(),null!=u.colors&&u.colors[a])return E(u.colors[a]);if(f=a.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(h=f.slice(1,4),e=g=0;2>=g;e=++g)h[e]=+h[e];h[3]=1}else if(f=a.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(h=f.slice(1,5),e=i=0;3>=i;e=++i)h[e]=+h[e];else if(f=a.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(h=f.slice(1,4),e=b=0;2>=b;e=++b)h[e]=ra(2.55*h[e]);h[3]=1}else if(f=a.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(h=f.slice(1,5),e=c=0;2>=c;e=++c)h[e]=ra(2.55*h[e]);h[3]=+h[3]}else(f=a.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(d=f.slice(1,4),d[1]*=.01,d[2]*=.01,h=H(d),h[3]=1):(f=a.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(d=f.slice(1,4),d[1]*=.01,d[2]*=.01,h=H(d),h[3]=+f[4]);return h},da=function(a){var b;return b=a[3]<1?"rgba":"rgb","rgb"===b?b+"("+a.slice(0,3).map(ra).join(",")+")":"rgba"===b?b+"("+a.slice(0,3).map(ra).join(",")+","+a[3]+")":void 0},pa=function(a){return ra(100*a)/100},G=function(a,b){var c;return c=1>b?"hsla":"hsl",a[0]=pa(a[0]||0),a[1]=pa(100*a[1])+"%",a[2]=pa(100*a[2])+"%","hsla"===c&&(a[3]=b),c+"("+a.join(",")+")"},l.css=function(a){return z(a)},u.css=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Ba.call(arguments).concat(["css"]),function(){})},a.prototype.css=function(a){return null==a&&(a="rgb"),"rgb"===a.slice(0,3)?da(this._rgb):"hsl"===a.slice(0,3)?G(this.hsl(),this.alpha()):void 0},l.named=function(a){return E(ya[a])},j.push({p:20,test:function(a){return 1===arguments.length&&null!=ya[a]?"named":void 0}}),a.prototype.name=function(a){var b,c;arguments.length&&(ya[a]&&(this._rgb=E(ya[a])),this._rgb[3]=1),b=this.hex();for(c in ya)if(b===ya[c])return c;return b},R=function(){var a,b,c,e;return e=xa(arguments),c=e[0],a=e[1],b=e[2],b*=d,[c,y(b)*a,ta(b)*a]},S=function(){var a,b,c,d,e,f,g,h,i,j,k;return c=xa(arguments),h=c[0],e=c[1],g=c[2],j=R(h,e,g),a=j[0],b=j[1],d=j[2],k=P(a,b,d),i=k[0],f=k[1],d=k[2],[U(i,0,255),U(f,0,255),U(d,0,255),c.length>3?c[3]:1]},O=function(){var a,b,c,d,e,f;return f=xa(arguments),e=f[0],a=f[1],b=f[2],c=ua(a*a+b*b),d=(o(b,a)*h+360)%360,0===ra(1e4*c)&&(d=Number.NaN),[e,c,d]},ja=function(){var a,b,c,d,e,f,g;return f=xa(arguments),e=f[0],c=f[1],b=f[2],g=ia(e,c,b),d=g[0],a=g[1],b=g[2],O(d,a,b)},u.lch=function(){var b;return b=xa(arguments),new a(b,"lch")},u.hcl=function(){var b;return b=xa(arguments),new a(b,"hcl")},l.lch=S,l.hcl=function(){var a,b,c,d;return d=xa(arguments),b=d[0],a=d[1],c=d[2],S([c,a,b])},a.prototype.lch=function(){return ja(this._rgb)},a.prototype.hcl=function(){return ja(this._rgb).reverse()},ca=function(a){var b,c,d,e,f,g,h,i,j;return null==a&&(a="rgb"),i=xa(arguments),h=i[0],e=i[1],b=i[2],h/=255,e/=255,b/=255,f=1-Math.max(h,Math.max(e,b)),d=1>f?1/(1-f):0,c=(1-h-f)*d,g=(1-e-f)*d,j=(1-b-f)*d,[c,g,j,f]},w=function(){var a,b,c,d,e,f,g,h,i;return b=xa(arguments),d=b[0],g=b[1],i=b[2],f=b[3],a=b.length>4?b[4]:1,1===f?[0,0,0,a]:(h=d>=1?0:ra(255*(1-d)*(1-f)),e=g>=1?0:ra(255*(1-g)*(1-f)),c=i>=1?0:ra(255*(1-i)*(1-f)),[h,e,c,a])},l.cmyk=function(){return w(xa(arguments))},u.cmyk=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Ba.call(arguments).concat(["cmyk"]),function(){})},a.prototype.cmyk=function(){return ca(this._rgb)},l.gl=function(){var a,b,c,d,e;for(d=function(){var a,c;a=xa(arguments),c=[];for(b in a)e=a[b],c.push(e);return c}.apply(this,arguments),a=c=0;2>=c;a=++c)d[a]*=255;return d},u.gl=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Ba.call(arguments).concat(["gl"]),function(){})},a.prototype.gl=function(){var a;return a=this._rgb,[a[0]/255,a[1]/255,a[2]/255,a[3]]},ka=function(a,b,c){var d;return d=xa(arguments),a=d[0],b=d[1],c=d[2],a=W(a),b=W(b),c=W(c),.2126*a+.7152*b+.0722*c},W=function(a){return a/=255,.03928>=a?a/12.92:ba((a+.055)/1.055,2.4)},m=[],J=function(a,b,c,d){var e,f,g,h;for(null==c&&(c=.5),null==d&&(d="rgb"),"object"!==wa(a)&&(a=u(a)),"object"!==wa(b)&&(b=u(b)),g=0,f=m.length;f>g;g++)if(e=m[g],d===e[0]){h=e[1](a,b,c,d);break}if(null==h)throw"color mode "+d+" is not supported";return h.alpha(a.alpha()+c*(b.alpha()-a.alpha())),h},u.interpolate=J,a.prototype.interpolate=function(a,b,c){return J(this,a,b,c)},u.mix=J,a.prototype.mix=a.prototype.interpolate,N=function(b,c,d,e){var f,g;return f=b._rgb,g=c._rgb,new a(f[0]+d*(g[0]-f[0]),f[1]+d*(g[1]-f[1]),f[2]+d*(g[2]-f[2]),e)},m.push(["rgb",N]),a.prototype.luminance=function(a,b){var c,d,e,f;return null==b&&(b="rgb"),arguments.length?(0===a?this._rgb=[0,0,0,this._rgb[3]]:1===a?this._rgb=[255,255,255,this._rgb[3]]:(d=1e-7,e=20,f=function(c,g){var h,i;return i=c.interpolate(g,.5,b),h=i.luminance(),Math.abs(a-h)<d||!e--?i:h>a?f(c,i):f(i,g)},c=ka(this._rgb),this._rgb=(c>a?f(u("black"),this):f(this,u("white"))).rgba()),this):ka(this._rgb)},va=function(a){var b,c,d,e;return e=a/100,66>e?(d=255,c=-155.25485562709179-.44596950469579133*(c=e-2)+104.49216199393888*V(c),b=20>e?0:-254.76935184120902+.8274096064007395*(b=e-10)+115.67994401066147*V(b)):(d=351.97690566805693+.114206453784165*(d=e-55)-40.25366309332127*V(d),c=325.4494125711974+.07943456536662342*(c=e-50)-28.0852963507957*V(c),b=255),v([d,c,b])},ma=function(){var a,b,c,d,e,f,g,h,i;for(g=xa(arguments),f=g[0],c=g[1],a=g[2],e=1e3,d=4e4,b=.4;d-e>b;)i=.5*(d+e),h=va(i),h[2]/h[0]>=a/f?d=i:e=i;return ra(i)},u.temperature=u.kelvin=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Ba.call(arguments).concat(["temperature"]),function(){})},l.temperature=l.kelvin=l.K=va,a.prototype.temperature=function(){return ma(this._rgb)},a.prototype.kelvin=a.prototype.temperature,u.contrast=function(b,c){var d,e,f,g;return"string"!==(f=wa(b))&&"number"!==f||(b=new a(b)),"string"!==(g=wa(c))&&"number"!==g||(c=new a(c)),d=b.luminance(),e=c.luminance(),d>e?(d+.05)/(e+.05):(e+.05)/(d+.05)},a.prototype.get=function(a){var b,c,d,e,f,g;return d=this,f=a.split("."),e=f[0],b=f[1],g=d[e](),b?(c=e.indexOf(b),c>-1?g[c]:console.warn("unknown channel "+b+" in mode "+e)):g},a.prototype.set=function(a,b){var c,d,e,f,g,h;if(e=this,g=a.split("."),f=g[0],c=g[1],c)if(h=e[f](),d=f.indexOf(c),d>-1)if("string"===wa(b))switch(b.charAt(0)){case"+":h[d]+=+b;break;case"-":h[d]+=+b;break;case"*":h[d]*=+b.substr(1);break;case"/":h[d]/=+b.substr(1);break;default:h[d]=+b}else h[d]=b;else console.warn("unknown channel "+c+" in mode "+f);else h=b;return e._rgb=u(h,f).alpha(e.alpha())._rgb,e},a.prototype.darken=function(a){var b,c;return null==a&&(a=1),c=this,b=c.lab(),b[0]-=e.Kn*a,u.lab(b).alpha(c.alpha())},a.prototype.brighten=function(a){return null==a&&(a=1),this.darken(-a)},a.prototype.darker=a.prototype.darken,a.prototype.brighter=a.prototype.brighten,a.prototype.saturate=function(a){var b,c;return null==a&&(a=1),c=this,b=c.lch(),b[1]+=a*e.Kn,b[1]<0&&(b[1]=0),u.lch(b).alpha(c.alpha())},a.prototype.desaturate=function(a){return null==a&&(a=1),this.saturate(-a)},a.prototype.premultiply=function(){var a,b;return b=this.rgb(),a=this.alpha(),u(b[0]*a,b[1]*a,b[2]*a,a)},q=function(a,b,c){if(!q[c])throw"unknown blend mode "+c;return q[c](a,b)},r=function(a){return function(b,c){var d,e;return d=u(c).rgb(),e=u(b).rgb(),u(a(d,e),"rgb")}},C=function(a){return function(b,c){var d,e,f;for(f=[],d=e=0;3>=e;d=++e)f[d]=a(b[d],c[d]);return f}},$=function(a,b){return a},Z=function(a,b){return a*b/255},A=function(a,b){return a>b?b:a},T=function(a,b){return a>b?a:b},sa=function(a,b){return 255*(1-(1-a/255)*(1-b/255))},aa=function(a,b){return 128>b?2*a*b/255:255*(1-2*(1-a/255)*(1-b/255))},t=function(a,b){return 255*(1-(1-b/255)/(a/255))},B=function(a,b){return 255===a?255:(a=255*(b/255)/(1-a/255),a>255?255:a)},q.normal=r(C($)),q.multiply=r(C(Z)),q.screen=r(C(sa)),q.overlay=r(C(aa)),q.darken=r(C(A)),q.lighten=r(C(T)),q.dodge=r(C(B)),q.burn=r(C(t)),u.blend=q,u.analyze=function(a){var b,c,d,e;for(d={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},c=0,b=a.length;b>c;c++)e=a[c],null==e||isNaN(e)||(d.values.push(e),d.sum+=e,e<d.min&&(d.min=e),e>d.max&&(d.max=e),d.count+=1);return d.domain=[d.min,d.max],d.limits=function(a,b){return u.limits(d,a,b)},d},u.scale=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,v,w,x;return k="rgb",l=u("#ccc"),p=0,h=!1,g=[0,1],o=[],n=[0,0],c=!1,e=[],m=!1,j=0,i=1,f=!1,d={},w=function(a){var b,c,d,f,g,h,i;if(null==a&&(a=["#fff","#000"]),null!=a&&"string"===wa(a)&&null!=(null!=(f=u.brewer)?f[a]:void 0)&&(a=u.brewer[a]),"array"===wa(a)){for(a=a.slice(0),b=d=0,g=a.length-1;g>=0?g>=d:d>=g;b=g>=0?++d:--d)c=a[b],"string"===wa(c)&&(a[b]=u(c));for(o.length=0,b=i=0,h=a.length-1;h>=0?h>=i:i>=h;b=h>=0?++i:--i)o.push(b/(a.length-1))}return v(),e=a},s=function(a){var b,d;if(null!=c){for(d=c.length-1,b=0;d>b&&a>=c[b];)b++;return b-1}return 0},x=function(a){return a},q=function(a){var b,d,e,f,g;return g=a,c.length>2&&(f=c.length-1,b=s(a),e=c[0]+(c[1]-c[0])*(0+.5*p),d=c[f-1]+(c[f]-c[f-1])*(1-.5*p),g=j+(c[b]+.5*(c[b+1]-c[b])-e)/(d-e)*(i-j)),g},t=function(a,b){var f,g,h,m,p,q,r,t;if(null==b&&(b=!1),isNaN(a))return l;if(b?t=a:c&&c.length>2?(f=s(a),t=f/(c.length-2),t=n[0]+t*(1-n[0]-n[1])):i!==j?(t=(a-j)/(i-j),t=n[0]+t*(1-n[0]-n[1]),t=Math.min(1,Math.max(0,t))):t=1,b||(t=x(t)),m=Math.floor(1e4*t),d[m])g=d[m];else{if("array"===wa(e))for(h=p=0,r=o.length-1;r>=0?r>=p:p>=r;h=r>=0?++p:--p){if(q=o[h],q>=t){g=e[h];break}if(t>=q&&h===o.length-1){g=e[h];break}if(t>q&&t<o[h+1]){t=(t-q)/(o[h+1]-q),g=u.interpolate(e[h],e[h+1],t,k);break}}else"function"===wa(e)&&(g=e(t));d[m]=g}return g},v=function(){return d={}},w(a),r=function(a){var b;return b=u(t(a)),m&&b[m]?b[m]():b},r.classes=function(a){var b;return null!=a?("array"===wa(a)?(c=a,g=[a[0],a[a.length-1]]):(b=u.analyze(g),c=0===a?[b.min,b.max]:u.limits(b,"e",a)),r):c},r.domain=function(a){var b,c,d,f,h,k,l;if(!arguments.length)return g;if(j=a[0],i=a[a.length-1],o=[],d=e.length,a.length===d&&j!==i)for(h=0,f=a.length;f>h;h++)c=a[h],o.push((c-j)/(i-j));else for(b=l=0,k=d-1;k>=0?k>=l:l>=k;b=k>=0?++l:--l)o.push(b/(d-1));return g=[j,i],r},r.mode=function(a){return arguments.length?(k=a,v(),r):k},r.range=function(a,b){return w(a,b),r},r.out=function(a){return m=a,r},r.spread=function(a){return arguments.length?(p=a,r):p},r.correctLightness=function(a){return null==a&&(a=!0),f=a,v(),x=f?function(a){var b,c,d,e,f,g,h,i,j;for(b=t(0,!0).lab()[0],c=t(1,!0).lab()[0],h=b>c,d=t(a,!0).lab()[0],f=b+(c-b)*a,e=d-f,i=0,j=1,g=20;Math.abs(e)>.01&&g-- >0;)!function(){return h&&(e*=-1),0>e?(i=a,a+=.5*(j-a)):(j=a,a+=.5*(i-a)),d=t(a,!0).lab()[0],e=d-f}();return a}:function(a){return a},r},r.padding=function(a){
return null!=a?("number"===wa(a)&&(a=[a,a]),n=a,r):n},r.colors=function(){var b,d,e,f,h,i,j,k,l;if(f=0,h="hex",1===arguments.length&&("string"===wa(arguments[0])?h=arguments[0]:f=arguments[0]),2===arguments.length&&(f=arguments[0],h=arguments[1]),f)return d=g[0],b=g[1]-d,function(){j=[];for(var a=0;f>=0?f>a:a>f;f>=0?a++:a--)j.push(a);return j}.apply(this).map(function(a){return r(d+a/(f-1)*b)[h]()});if(a=[],k=[],c&&c.length>2)for(e=l=1,i=c.length;i>=1?i>l:l>i;e=i>=1?++l:--l)k.push(.5*(c[e-1]+c[e]));else k=g;return k.map(function(a){return r(a)[h]()})},r},null==u.scales&&(u.scales={}),u.scales.cool=function(){return u.scale([u.hsl(180,1,.9),u.hsl(250,.7,.4)])},u.scales.hot=function(){return u.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},u.analyze=function(a,b,c){var d,e,f,g,h,i,j;if(h={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==c&&(c=function(){return!0}),d=function(a){null==a||isNaN(a)||(h.values.push(a),h.sum+=a,a<h.min&&(h.min=a),a>h.max&&(h.max=a),h.count+=1)},j=function(a,e){return c(a,e)?d(null!=b&&"function"===wa(b)?b(a):null!=b&&"string"===wa(b)||"number"===wa(b)?a[b]:a):void 0},"array"===wa(a))for(g=0,f=a.length;f>g;g++)i=a[g],j(i);else for(e in a)i=a[e],j(i,e);return h.domain=[h.min,h.max],h.limits=function(a,b){return u.limits(h,a,b)},h},u.limits=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,o,p,q,r,s,t,v,w,x,y,z,A,B,C,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,W,X,Z,$,_,aa,ca,da,ea,fa,ga,ha,ia,ja;if(null==b&&(b="equal"),null==c&&(c=7),"array"===wa(a)&&(a=u.analyze(a)),E=a.min,Y=a.max,fa=a.sum,ia=a.values.sort(function(a,b){return a-b}),B=[],"c"===b.substr(0,1)&&(B.push(E),B.push(Y)),"e"===b.substr(0,1)){for(B.push(E),y=K=1,O=c-1;O>=1?O>=K:K>=O;y=O>=1?++K:--K)B.push(E+y/c*(Y-E));B.push(Y)}else if("l"===b.substr(0,1)){if(0>=E)throw"Logarithmic scales are only possible for values > 0";for(F=Math.LOG10E*V(E),C=Math.LOG10E*V(Y),B.push(E),y=ja=1,P=c-1;P>=1?P>=ja:ja>=P;y=P>=1?++ja:--ja)B.push(ba(10,F+y/c*(C-F)));B.push(Y)}else if("q"===b.substr(0,1)){for(B.push(E),y=d=1,W=c-1;W>=1?W>=d:d>=W;y=W>=1?++d:--d)L=ia.length*y/c,M=D(L),M===L?B.push(ia[M]):(N=L-M,B.push(ia[M]*N+ia[M+1]*(1-N)));B.push(Y)}else if("k"===b.substr(0,1)){for(H=ia.length,r=new Array(H),w=new Array(c),ea=!0,I=0,t=null,t=[],t.push(E),y=e=1,X=c-1;X>=1?X>=e:e>=X;y=X>=1?++e:--e)t.push(E+y/c*(Y-E));for(t.push(Y);ea;){for(z=f=0,Z=c-1;Z>=0?Z>=f:f>=Z;z=Z>=0?++f:--f)w[z]=0;for(y=g=0,$=H-1;$>=0?$>=g:g>=$;y=$>=0?++g:--g){for(ha=ia[y],G=Number.MAX_VALUE,z=h=0,_=c-1;_>=0?_>=h:h>=_;z=_>=0?++h:--h)x=n(t[z]-ha),G>x&&(G=x,s=z);w[s]++,r[y]=s}for(J=new Array(c),z=i=0,aa=c-1;aa>=0?aa>=i:i>=aa;z=aa>=0?++i:--i)J[z]=null;for(y=j=0,ca=H-1;ca>=0?ca>=j:j>=ca;y=ca>=0?++j:--j)v=r[y],null===J[v]?J[v]=ia[y]:J[v]+=ia[y];for(z=k=0,da=c-1;da>=0?da>=k:k>=da;z=da>=0?++k:--k)J[z]*=1/w[z];for(ea=!1,z=l=0,Q=c-1;Q>=0?Q>=l:l>=Q;z=Q>=0?++l:--l)if(J[z]!==t[y]){ea=!0;break}t=J,I++,I>200&&(ea=!1)}for(A={},z=m=0,R=c-1;R>=0?R>=m:m>=R;z=R>=0?++m:--m)A[z]=[];for(y=o=0,S=H-1;S>=0?S>=o:o>=S;y=S>=0?++o:--o)v=r[y],A[v].push(ia[y]);for(ga=[],z=p=0,T=c-1;T>=0?T>=p:p>=T;z=T>=0?++p:--p)ga.push(A[z][0]),ga.push(A[z][A[z].length-1]);for(ga=ga.sort(function(a,b){return a-b}),B.push(ga[0]),y=q=1,U=ga.length-1;U>=q;y=q+=2)isNaN(ga[y])||B.push(ga[y])}return B},F=function(a,b,c){var d,e,f,h;return d=xa(arguments),a=d[0],b=d[1],c=d[2],a/=360,1/3>a?(e=(1-b)/3,h=(1+b*y(i*a)/y(g-i*a))/3,f=1-(e+h)):2/3>a?(a-=1/3,h=(1-b)/3,f=(1+b*y(i*a)/y(g-i*a))/3,e=1-(h+f)):(a-=2/3,f=(1-b)/3,e=(1+b*y(i*a)/y(g-i*a))/3,h=1-(f+e)),h=U(c*h*3),f=U(c*f*3),e=U(c*e*3),[255*h,255*f,255*e,d.length>3?d[3]:1]},fa=function(){var a,b,c,d,e,f,g,h;return g=xa(arguments),f=g[0],b=g[1],a=g[2],i=2*Math.PI,f/=255,b/=255,a/=255,e=Math.min(f,b,a),d=(f+b+a)/3,h=1-e/d,0===h?c=0:(c=(f-b+(f-a))/2,c/=Math.sqrt((f-b)*(f-b)+(f-a)*(b-a)),c=Math.acos(c),a>b&&(c=i-c),c/=i),[360*c,h,d]},u.hsi=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Ba.call(arguments).concat(["hsi"]),function(){})},l.hsi=F,a.prototype.hsi=function(){return fa(this._rgb)},K=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q;return"hsl"===d?(p=a.hsl(),q=b.hsl()):"hsv"===d?(p=a.hsv(),q=b.hsv()):"hsi"===d?(p=a.hsi(),q=b.hsi()):"lch"!==d&&"hcl"!==d||(d="hcl",p=a.hcl(),q=b.hcl()),"h"===d.substr(0,1)&&(g=p[0],n=p[1],j=p[2],h=q[0],o=q[1],k=q[2]),isNaN(g)||isNaN(h)?isNaN(g)?isNaN(h)?f=Number.NaN:(f=h,1!==j&&0!==j||"hsv"===d||(m=o)):(f=g,1!==k&&0!==k||"hsv"===d||(m=n)):(e=h>g&&h-g>180?h-(g+360):g>h&&g-h>180?h+360-g:h-g,f=g+c*e),null==m&&(m=n+c*(o-n)),i=j+c*(k-j),l=u[d](f,m,i)},m=m.concat(function(){var a,b,c,d;for(c=["hsv","hsl","hsi","hcl","lch"],d=[],b=0,a=c.length;a>b;b++)X=c[b],d.push([X,K]);return d}()),M=function(a,b,c,d){var e,f;return e=a.num(),f=b.num(),u.num(e+(f-e)*c,"num")},m.push(["num",M]),L=function(b,c,d,e){var f,g,h;return g=b.lab(),h=c.lab(),f=new a(g[0]+d*(h[0]-g[0]),g[1]+d*(h[1]-g[1]),g[2]+d*(h[2]-g[2]),e)},m.push(["lab",L])}).call(this)},{}],10:[function(a,b,c){!function(){var a={YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}};"function"==typeof define&&define.amd?define(a):"object"==typeof b&&b.exports?b.exports=a:this.colorbrewer=a}()},{}],11:[function(a,b,c){b.exports=a("./colorbrewer.js")},{"./colorbrewer.js":10}],12:[function(a,b,c){c.parse=a("./lib/parse"),c.stringify=a("./lib/stringify")},{"./lib/parse":13,"./lib/stringify":17}],13:[function(a,b,c){function d(a){return a?a.replace(/^\s+|\s+$/g,""):""}function e(a,b){var c=a&&"string"==typeof a.type,d=c?a:b;for(var f in a){var g=a[f];Array.isArray(g)?g.forEach(function(a){e(a,d)}):g&&"object"==typeof g&&e(g,d)}return c&&Object.defineProperty(a,"parent",{configurable:!0,writable:!0,enumerable:!1,value:b||null}),a}var f=/\/\*[^*]*\*+([^\/*][^*]*\*+)*\//g;b.exports=function(a,b){function c(a){var b=a.match(/\n/g);b&&(G+=b.length);var c=a.lastIndexOf("\n");H=~c?a.length-c:H+a.length}function g(){var a={line:G,column:H};return function(b){return b.position=new h(a),o(),b}}function h(a){this.start=a,this.end={line:G,column:H},this.source=b.source}function i(c){var d=new Error(b.source+":"+G+":"+H+": "+c);if(d.reason=c,d.filename=b.source,d.line=G,d.column=H,d.source=a,!b.silent)throw d;I.push(d)}function j(){var a=m();return{type:"stylesheet",stylesheet:{rules:a,parsingErrors:I}}}function k(){return n(/^{\s*/)}function l(){return n(/^}/)}function m(){var b,c=[];for(o(),p(c);a.length&&"}"!=a.charAt(0)&&(b=E()||F());)b!==!1&&(c.push(b),p(c));return c}function n(b){var d=b.exec(a);if(d){var e=d[0];return c(e),a=a.slice(e.length),d}}function o(){n(/^\s*/)}function p(a){var b;for(a=a||[];b=q();)b!==!1&&a.push(b);return a}function q(){var b=g();if("/"==a.charAt(0)&&"*"==a.charAt(1)){for(var d=2;""!=a.charAt(d)&&("*"!=a.charAt(d)||"/"!=a.charAt(d+1));)++d;if(d+=2,""===a.charAt(d-1))return i("End of comment missing");var e=a.slice(2,d-2);return H+=2,c(e),a=a.slice(d),H+=2,b({type:"comment",comment:e})}}function r(){var a=n(/^([^{]+)/);if(a)return d(a[0]).replace(/\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,function(a){return a.replace(/,/g,"‌")}).split(/\s*(?![^(]*\)),\s*/).map(function(a){return a.replace(/\u200C/g,",")})}function s(){var a=g(),b=n(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(b){if(b=d(b[0]),!n(/^:\s*/))return i("property missing ':'");var c=n(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),e=a({type:"declaration",property:b.replace(f,""),value:c?d(c[0]).replace(f,""):""});return n(/^[;\s]*/),e}}function t(){var a=[];if(!k())return i("missing '{'");p(a);for(var b;b=s();)b!==!1&&(a.push(b),p(a));return l()?a:i("missing '}'")}function u(){for(var a,b=[],c=g();a=n(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)b.push(a[1]),n(/^,\s*/);return b.length?c({type:"keyframe",values:b,declarations:t()}):void 0}function v(){var a=g(),b=n(/^@([-\w]+)?keyframes\s*/);if(b){var c=b[1],b=n(/^([-\w]+)\s*/);if(!b)return i("@keyframes missing name");var d=b[1];if(!k())return i("@keyframes missing '{'");for(var e,f=p();e=u();)f.push(e),f=f.concat(p());return l()?a({type:"keyframes",name:d,vendor:c,keyframes:f}):i("@keyframes missing '}'")}}function w(){var a=g(),b=n(/^@supports *([^{]+)/);if(b){var c=d(b[1]);if(!k())return i("@supports missing '{'");var e=p().concat(m());return l()?a({type:"supports",supports:c,rules:e}):i("@supports missing '}'")}}function x(){var a=g(),b=n(/^@host\s*/);if(b){if(!k())return i("@host missing '{'");var c=p().concat(m());return l()?a({type:"host",rules:c}):i("@host missing '}'")}}function y(){var a=g(),b=n(/^@media *([^{]+)/);if(b){var c=d(b[1]);if(!k())return i("@media missing '{'");var e=p().concat(m());return l()?a({type:"media",media:c,rules:e}):i("@media missing '}'")}}function z(){var a=g(),b=n(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);return b?a({type:"custom-media",name:d(b[1]),media:d(b[2])}):void 0}function A(){var a=g(),b=n(/^@page */);if(b){var c=r()||[];if(!k())return i("@page missing '{'");for(var d,e=p();d=s();)e.push(d),e=e.concat(p());return l()?a({type:"page",selectors:c,declarations:e}):i("@page missing '}'")}}function B(){var a=g(),b=n(/^@([-\w]+)?document *([^{]+)/);if(b){var c=d(b[1]),e=d(b[2]);if(!k())return i("@document missing '{'");var f=p().concat(m());return l()?a({type:"document",document:e,vendor:c,rules:f}):i("@document missing '}'")}}function C(){var a=g(),b=n(/^@font-face\s*/);if(b){if(!k())return i("@font-face missing '{'");for(var c,d=p();c=s();)d.push(c),d=d.concat(p());return l()?a({type:"font-face",declarations:d}):i("@font-face missing '}'")}}function D(a){var b=new RegExp("^@"+a+"\\s*([^;]+);");return function(){var c=g(),d=n(b);if(d){var e={type:a};return e[a]=d[1].trim(),c(e)}}}function E(){return"@"==a[0]?v()||y()||z()||w()||J()||K()||L()||B()||A()||x()||C():void 0}function F(){var a=g(),b=r();return b?(p(),a({type:"rule",selectors:b,declarations:t()})):i("selector missing")}b=b||{};var G=1,H=1;h.prototype.content=a;var I=[],J=D("import"),K=D("charset"),L=D("namespace");return e(j())}},{}],14:[function(a,b,c){function d(a){this.options=a||{}}b.exports=d,d.prototype.emit=function(a){return a},d.prototype.visit=function(a){return this[a.type](a)},d.prototype.mapVisit=function(a,b){var c="";b=b||"";for(var d=0,e=a.length;e>d;d++)c+=this.visit(a[d]),b&&e-1>d&&(c+=this.emit(b));return c}},{}],15:[function(a,b,c){function d(a){e.call(this,a)}var e=a("./compiler"),f=a("inherits");b.exports=d,f(d,e),d.prototype.compile=function(a){return a.stylesheet.rules.map(this.visit,this).join("")},d.prototype.comment=function(a){return this.emit("",a.position)},d.prototype["import"]=function(a){return this.emit("@import "+a["import"]+";",a.position)},d.prototype.media=function(a){return this.emit("@media "+a.media,a.position)+this.emit("{")+this.mapVisit(a.rules)+this.emit("}")},d.prototype.document=function(a){var b="@"+(a.vendor||"")+"document "+a.document;return this.emit(b,a.position)+this.emit("{")+this.mapVisit(a.rules)+this.emit("}")},d.prototype.charset=function(a){return this.emit("@charset "+a.charset+";",a.position)},d.prototype.namespace=function(a){return this.emit("@namespace "+a.namespace+";",a.position)},d.prototype.supports=function(a){return this.emit("@supports "+a.supports,a.position)+this.emit("{")+this.mapVisit(a.rules)+this.emit("}")},d.prototype.keyframes=function(a){return this.emit("@"+(a.vendor||"")+"keyframes "+a.name,a.position)+this.emit("{")+this.mapVisit(a.keyframes)+this.emit("}")},d.prototype.keyframe=function(a){var b=a.declarations;return this.emit(a.values.join(","),a.position)+this.emit("{")+this.mapVisit(b)+this.emit("}")},d.prototype.page=function(a){var b=a.selectors.length?a.selectors.join(", "):"";return this.emit("@page "+b,a.position)+this.emit("{")+this.mapVisit(a.declarations)+this.emit("}")},d.prototype["font-face"]=function(a){return this.emit("@font-face",a.position)+this.emit("{")+this.mapVisit(a.declarations)+this.emit("}")},d.prototype.host=function(a){return this.emit("@host",a.position)+this.emit("{")+this.mapVisit(a.rules)+this.emit("}")},d.prototype["custom-media"]=function(a){return this.emit("@custom-media "+a.name+" "+a.media+";",a.position)},d.prototype.rule=function(a){var b=a.declarations;return b.length?this.emit(a.selectors.join(","),a.position)+this.emit("{")+this.mapVisit(b)+this.emit("}"):""},d.prototype.declaration=function(a){return this.emit(a.property+":"+a.value,a.position)+this.emit(";")}},{"./compiler":14,inherits:27}],16:[function(a,b,c){function d(a){a=a||{},e.call(this,a),this.indentation=a.indent}var e=a("./compiler"),f=a("inherits");b.exports=d,f(d,e),d.prototype.compile=function(a){return this.stylesheet(a)},d.prototype.stylesheet=function(a){return this.mapVisit(a.stylesheet.rules,"\n\n")},d.prototype.comment=function(a){return this.emit(this.indent()+"/*"+a.comment+"*/",a.position)},d.prototype["import"]=function(a){return this.emit("@import "+a["import"]+";",a.position)},d.prototype.media=function(a){return this.emit("@media "+a.media,a.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(a.rules,"\n\n")+this.emit(this.indent(-1)+"\n}")},d.prototype.document=function(a){var b="@"+(a.vendor||"")+"document "+a.document;return this.emit(b,a.position)+this.emit("  {\n"+this.indent(1))+this.mapVisit(a.rules,"\n\n")+this.emit(this.indent(-1)+"\n}")},d.prototype.charset=function(a){return this.emit("@charset "+a.charset+";",a.position)},d.prototype.namespace=function(a){return this.emit("@namespace "+a.namespace+";",a.position)},d.prototype.supports=function(a){return this.emit("@supports "+a.supports,a.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(a.rules,"\n\n")+this.emit(this.indent(-1)+"\n}")},d.prototype.keyframes=function(a){return this.emit("@"+(a.vendor||"")+"keyframes "+a.name,a.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(a.keyframes,"\n")+this.emit(this.indent(-1)+"}");
},d.prototype.keyframe=function(a){var b=a.declarations;return this.emit(this.indent())+this.emit(a.values.join(", "),a.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(b,"\n")+this.emit(this.indent(-1)+"\n"+this.indent()+"}\n")},d.prototype.page=function(a){var b=a.selectors.length?a.selectors.join(", ")+" ":"";return this.emit("@page "+b,a.position)+this.emit("{\n")+this.emit(this.indent(1))+this.mapVisit(a.declarations,"\n")+this.emit(this.indent(-1))+this.emit("\n}")},d.prototype["font-face"]=function(a){return this.emit("@font-face ",a.position)+this.emit("{\n")+this.emit(this.indent(1))+this.mapVisit(a.declarations,"\n")+this.emit(this.indent(-1))+this.emit("\n}")},d.prototype.host=function(a){return this.emit("@host",a.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(a.rules,"\n\n")+this.emit(this.indent(-1)+"\n}")},d.prototype["custom-media"]=function(a){return this.emit("@custom-media "+a.name+" "+a.media+";",a.position)},d.prototype.rule=function(a){var b=this.indent(),c=a.declarations;return c.length?this.emit(a.selectors.map(function(a){return b+a}).join(",\n"),a.position)+this.emit(" {\n")+this.emit(this.indent(1))+this.mapVisit(c,"\n")+this.emit(this.indent(-1))+this.emit("\n"+this.indent()+"}"):""},d.prototype.declaration=function(a){return this.emit(this.indent())+this.emit(a.property+": "+a.value,a.position)+this.emit(";")},d.prototype.indent=function(a){return this.level=this.level||1,null!=a?(this.level+=a,""):Array(this.level).join(this.indentation||"  ")}},{"./compiler":14,inherits:27}],17:[function(a,b,c){var d=a("./compress"),e=a("./identity");b.exports=function(b,c){c=c||{};var f=c.compress?new d(c):new e(c);if(c.sourcemap){var g=a("./source-map-support");g(f);var h=f.compile(b);f.applySourceMaps();var i="generator"===c.sourcemap?f.map:f.map.toJSON();return{code:h,map:i}}var h=f.compile(b);return h}},{"./compress":15,"./identity":16,"./source-map-support":18}],18:[function(a,b,c){function d(a){a._comment=a.comment,a.map=new e,a.position={line:1,column:1},a.files={};for(var b in c)a[b]=c[b]}var e=a("source-map").SourceMapGenerator,f=a("source-map").SourceMapConsumer,g=a("source-map-resolve"),h=a("urix"),i=a("fs"),j=a("path");b.exports=d,c.updatePosition=function(a){var b=a.match(/\n/g);b&&(this.position.line+=b.length);var c=a.lastIndexOf("\n");this.position.column=~c?a.length-c:this.position.column+a.length},c.emit=function(a,b){if(b){var c=h(b.source||"source.css");this.map.addMapping({source:c,generated:{line:this.position.line,column:Math.max(this.position.column-1,0)},original:{line:b.start.line,column:b.start.column-1}}),this.addFile(c,b)}return this.updatePosition(a),a},c.addFile=function(a,b){"string"==typeof b.content&&(Object.prototype.hasOwnProperty.call(this.files,a)||(this.files[a]=b.content))},c.applySourceMaps=function(){Object.keys(this.files).forEach(function(a){var b=this.files[a];if(this.map.setSourceContent(a,b),this.options.inputSourcemaps!==!1){var c=g.resolveSync(b,a,i.readFileSync);if(c){var d=new f(c.map),e=c.sourcesRelativeTo;this.map.applySourceMap(d,a,h(j.dirname(e)))}}},this)},c.comment=function(a){return/^# sourceMappingURL=/.test(a.comment)?this.emit("",a.position):this._comment(a)}},{fs:7,path:35,"source-map":44,"source-map-resolve":42,urix:55}],19:[function(a,b,c){!function(a){"use strict";var c="cuid",d=0,e=4,f=36,g=Math.pow(f,e),h=function(a,b){var c="000000000"+a;return c.substr(c.length-b)},i=function(){return h((Math.random()*g<<0).toString(f),e)},j=function(){return d=g>d?d:0,d++,d-1},k=function(){var a,b="c",c=(new Date).getTime().toString(f),d=k.fingerprint(),g=i()+i();return a=h(j().toString(f),e),b+c+a+d+g};k.slug=function(){var a,b=(new Date).getTime().toString(36),c=k.fingerprint().slice(0,1)+k.fingerprint().slice(-1),d=i().slice(-2);return a=j().toString(36).slice(-4),b.slice(-2)+a+c+d},k.globalCount=function(){var a=function(){var a,b=0;for(a in window)b++;return b}();return k.globalCount=function(){return a},a},k.fingerprint=function(){return h((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+k.globalCount().toString(36),4)},a.register?a.register(c,k):"undefined"!=typeof b?b.exports=k:a[c]=k}(this.applitude||this)},{}],20:[function(a,b,c){function d(a){var b=a.attributes,c={};if(null===b||void 0===b)return c;for(var d=0;d<b.length;d++){var e=b[d];"data-"===e.name.substr(0,5)&&(c[e.name.substr(5)]=e.value)}return c}b.exports=d},{}],21:[function(a,b,c){"use strict";function d(a){var b=a[f];return b||(b=a[f]=e(a)),b}var e=a("./create-hash.js"),f="__DATA_SET_WEAK_KEY@4";b.exports=d},{"./create-hash.js":20}],22:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||0>a||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if(b=arguments[1],b instanceof Error)throw b;throw TypeError('Uncaught, unspecified "error" event.')}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(d=arguments.length,f=new Array(d-1),i=1;d>i;i++)f[i-1]=arguments[i];c.apply(this,f)}else if(g(c)){for(d=arguments.length,f=new Array(d-1),i=1;d>i;i++)f[i-1]=arguments[i];for(j=c.slice(),d=j.length,i=0;d>i;i++)j[i].apply(this,f)}return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned){var c;c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())}return this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-- >0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(0>d)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.listenerCount=function(a,b){var c;return c=a._events&&a._events[b]?e(a._events[b])?1:a._events[b].length:0}},{}],23:[function(a,b,c){function d(a,b,c){if(!h(b))throw new TypeError("iterator must be a function");arguments.length<3&&(c=this),"[object Array]"===i.call(a)?e(a,b,c):"string"==typeof a?f(a,b,c):g(a,b,c)}function e(a,b,c){for(var d=0,e=a.length;e>d;d++)j.call(a,d)&&b.call(c,a[d],d,a)}function f(a,b,c){for(var d=0,e=a.length;e>d;d++)b.call(c,a.charAt(d),d,a)}function g(a,b,c){for(var d in a)j.call(a,d)&&b.call(c,a[d],d,a)}var h=a("is-function");b.exports=d;var i=Object.prototype.toString,j=Object.prototype.hasOwnProperty},{"is-function":29}],24:[function(a,b,c){(function(a){"undefined"!=typeof window?b.exports=window:"undefined"!=typeof a?b.exports=a:"undefined"!=typeof self?b.exports=self:b.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],25:[function(a,b,c){b.exports=a("./lib/inherit")},{"./lib/inherit":26}],26:[function(a,b,c){!function(a){function d(a){var b=l(a);if(r)for(var c,d=0;c=u[d++];)a.hasOwnProperty(c)&&b.push(c);return b}function e(a,b,c){for(var e,f,g=d(c),i=0,j=g.length;j>i;)"__self"!==(e=g[i++])&&(f=c[e],p(f)&&(!h||f.toString().indexOf(".__base")>-1)?b[e]=function(c,d){var e=a[c]?a[c]:"__constructor"===c?b.__self.__parent:q;return function(){var a=this.__base;this.__base=e;var b=d.apply(this,arguments);return this.__base=a,b}}(e,f):b[e]=f)}function f(a,b){for(var c,d=1;c=a[d++];)b?p(c)?g.self(b,c.prototype,c):g.self(b,c):b=p(c)?g(a[0],c.prototype,c):g(a[0],c);return b||a[0]}function g(){var a=arguments,b=o(a[0]),c=b||p(a[0]),d=c?b?f(a[0]):a[0]:i,g=a[c?1:0]||{},h=a[c?2:1],j=g.__constructor||c&&d.prototype.__constructor?function(){return this.__constructor.apply(this,arguments)}:c?function(){return d.apply(this,arguments)}:function(){};if(!c)return j.prototype=g,j.prototype.__self=j.prototype.constructor=j,m(j,h);m(j,d),j.__parent=d;var l=d.prototype,n=j.prototype=k(l);return n.__self=n.constructor=j,g&&e(l,n,g),h&&e(d,j,h),j}var h=function(){"_"}.toString().indexOf("_")>-1,i=function(){},j=Object.prototype.hasOwnProperty,k=Object.create||function(a){var b=function(){};return b.prototype=a,new b},l=Object.keys||function(a){var b=[];for(var c in a)j.call(a,c)&&b.push(c);return b},m=function(a,b){for(var c in b)j.call(b,c)&&(a[c]=b[c]);return a},n=Object.prototype.toString,o=Array.isArray||function(a){return"[object Array]"===n.call(a)},p=function(a){return"[object Function]"===n.call(a)},q=function(){},r=!0,s={toString:""};for(var t in s)s.hasOwnProperty(t)&&(r=!1);var u=r?["toString","valueOf"]:null;g.self=function(){var a=arguments,b=o(a[0]),c=b?f(a[0],a[0][0]):a[0],d=a[1],g=a[2],h=c.prototype;return d&&e(h,h,d),g&&e(c,c,g),c};var v=!0;"object"==typeof c&&(b.exports=g,v=!1),"object"==typeof modules&&(modules.define("inherit",function(a){a(g)}),v=!1),"function"==typeof define&&(define(function(a,b,c){c.exports=g}),v=!1),v&&(a.inherit=g)}(this)},{}],27:[function(a,b,c){"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],28:[function(a,b,c){var d={};b.exports=function(a,b){if(!d[a]){d[a]=!0;var c=document.createElement("style");c.setAttribute("type","text/css"),"textContent"in c?c.textContent=a:c.styleSheet.cssText=a;var e=document.getElementsByTagName("head")[0];b&&b.prepend?e.insertBefore(c,e.childNodes[0]):e.appendChild(c)}}},{}],29:[function(a,b,c){function d(a){var b=e.call(a);return"[object Function]"===b||"function"==typeof a&&"[object RegExp]"!==b||"undefined"!=typeof window&&(a===window.setTimeout||a===window.alert||a===window.confirm||a===window.prompt)}b.exports=d;var e=Object.prototype.toString},{}],30:[function(a,b,c){(function(a){(function(){function d(a,b){if(a!==b){var c=null===a,d=a===y,e=a===a,f=null===b,g=b===y,h=b===b;if(a>b&&!f||!e||c&&!g&&h||d&&h)return 1;if(b>a&&!c||!h||f&&!d&&e||g&&e)return-1}return 0}function e(a,b,c){for(var d=a.length,e=c?d:-1;c?e--:++e<d;)if(b(a[e],e,a))return e;return-1}function f(a,b,c){if(b!==b)return p(a,c);for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}function g(a){return"function"==typeof a||!1}function h(a){return"string"==typeof a?a:null==a?"":a+""}function i(a,b){for(var c=-1,d=a.length;++c<d&&b.indexOf(a.charAt(c))>-1;);return c}function j(a,b){for(var c=a.length;c--&&b.indexOf(a.charAt(c))>-1;);return c}function k(a,b){return d(a.criteria,b.criteria)||a.index-b.index}function l(a,b,c){for(var e=-1,f=a.criteria,g=b.criteria,h=f.length,i=c.length;++e<h;){var j=d(f[e],g[e]);if(j)return e>=i?j:j*(c[e]?1:-1)}return a.index-b.index}function m(a){return Sa[a]}function n(a){return Ta[a]}function o(a){return"\\"+Wa[a]}function p(a,b,c){for(var d=a.length,e=b+(c?0:-1);c?e--:++e<d;){var f=a[e];if(f!==f)return e}return-1}function q(a){return!!a&&"object"==typeof a}function r(a){return 160>=a&&a>=9&&13>=a||32==a||160==a||5760==a||6158==a||a>=8192&&(8202>=a||8232==a||8233==a||8239==a||8287==a||12288==a||65279==a)}function s(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;)a[c]===b&&(a[c]=R,f[++e]=c);return f}function t(a,b){for(var c,d=-1,e=a.length,f=-1,g=[];++d<e;){var h=a[d],i=b?b(h,d,a):h;d&&c===i||(c=i,g[++f]=h)}return g}function u(a){for(var b=-1,c=a.length;++b<c&&r(a.charCodeAt(b)););return b}function v(a){for(var b=a.length;b--&&r(a.charCodeAt(b)););return b}function w(a){return Ua[a]}function x(a){function b(a){if(q(a)&&!yh(a)&&!(a instanceof Y)){if(a instanceof r)return a;if(Vf.call(a,"__chain__")&&Vf.call(a,"__wrapped__"))return hd(a)}return new r(a)}function c(){}function r(a,b,c){this.__wrapped__=a,this.__actions__=c||[],this.__chain__=!!b}function Y(a){this.__wrapped__=a,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=wg,this.__views__=null}function aa(){var a=this.__actions__,b=this.__iteratees__,c=this.__views__,d=new Y(this.__wrapped__);return d.__actions__=a?_a(a):null,d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=b?_a(b):null,d.__takeCount__=this.__takeCount__,d.__views__=c?_a(c):null,d}function ca(){if(this.__filtered__){var a=new Y(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function Sa(){var a=this.__wrapped__.value();if(!yh(a))return ac(a,this.__actions__);var b=this.__dir__,c=0>b,d=Oc(0,a.length,this.__views__),e=d.start,f=d.end,g=f-e,h=c?f:e-1,i=qg(g,this.__takeCount__),j=this.__iteratees__,k=j?j.length:0,l=0,m=[];a:for(;g--&&i>l;){h+=b;for(var n=-1,o=a[h];++n<k;){var p=j[n],q=p.iteratee,r=p.type;if(r==N){if(p.done&&(c?h>p.index:h<p.index)&&(p.count=0,p.done=!1),p.index=h,!p.done){var s=p.limit;if(!(p.done=s>-1?p.count++>=s:!q(o)))continue a}}else{var t=q(o);if(r==P)o=t;else if(!t){if(r==O)continue a;break a}}}m[l++]=o}return m}function Ta(){this.__data__={}}function Ua(a){return this.has(a)&&delete this.__data__[a]}function Va(a){return"__proto__"==a?y:this.__data__[a]}function Wa(a){return"__proto__"!=a&&Vf.call(this.__data__,a)}function Xa(a,b){return"__proto__"!=a&&(this.__data__[a]=b),this}function Ya(a){var b=a?a.length:0;for(this.data={hash:lg(null),set:new fg};b--;)this.push(a[b])}function Za(a,b){var c=a.data,d="string"==typeof b||Ae(b)?c.set.has(b):c.hash[b];return d?0:-1}function $a(a){var b=this.data;"string"==typeof a||Ae(a)?b.set.add(a):b.hash[a]=!0}function _a(a,b){var c=-1,d=a.length;for(b||(b=Gf(d));++c<d;)b[c]=a[c];return b}function ab(a,b){for(var c=-1,d=a.length;++c<d&&b(a[c],c,a)!==!1;);return a}function db(a,b){for(var c=a.length;c--&&b(a[c],c,a)!==!1;);return a}function eb(a,b){for(var c=-1,d=a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function fb(a,b,c,d){for(var e=-1,f=a.length,g=d,h=g;++e<f;){var i=a[e],j=+b(i);c(j,g)&&(g=j,h=i)}return h}function gb(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[++e]=g)}return f}function hb(a,b){for(var c=-1,d=a.length,e=Gf(d);++c<d;)e[c]=b(a[c],c,a);return e}function ib(a,b,c,d){var e=-1,f=a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function jb(a,b,c,d){var e=a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function kb(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function lb(a){for(var b=a.length,c=0;b--;)c+=+a[b]||0;return c}function mb(a,b){return a===y?b:a}function nb(a,b,c,d){return a!==y&&Vf.call(d,c)?a:b}function ob(a,b,c){for(var d=-1,e=Kh(b),f=e.length;++d<f;){var g=e[d],h=a[g],i=c(h,b[g],g,a,b);(i===i?i===h:h!==h)&&(h!==y||g in a)||(a[g]=i)}return a}function pb(a,b){return null==b?a:rb(b,Kh(b),a)}function qb(a,b){for(var c=-1,d=null==a,e=!d&&Tc(a),f=e?a.length:0,g=b.length,h=Gf(g);++c<g;){var i=b[c];e?h[c]=Uc(i,f)?a[i]:y:h[c]=d?y:a[i]}return h}function rb(a,b,c){c||(c={});for(var d=-1,e=b.length;++d<e;){var f=b[d];c[f]=a[f]}return c}function sb(a,b,c){var d=typeof a;return"function"==d?b===y?a:dc(a,b,c):null==a?tf:"object"==d?Lb(a):b===y?zf(a):Mb(a,b)}function tb(a,b,c,d,e,f,g){var h;if(c&&(h=e?c(a,d,e):c(a)),h!==y)return h;if(!Ae(a))return a;var i=yh(a);if(i){if(h=Pc(a),!b)return _a(a,h)}else{var j=Xf.call(a),k=j==X;if(j!=$&&j!=S&&(!k||e))return Qa[j]?Rc(a,j,b):e?a:{};if(h=Qc(k?{}:a),!b)return pb(h,a)}f||(f=[]),g||(g=[]);for(var l=f.length;l--;)if(f[l]==a)return g[l];return f.push(a),g.push(h),(i?ab:Db)(a,function(d,e){h[e]=tb(d,b,c,e,a,f,g)}),h}function ub(a,b,c){if("function"!=typeof a)throw new Pf(Q);return gg(function(){a.apply(y,c)},b)}function vb(a,b){var c=a?a.length:0,d=[];if(!c)return d;var e=-1,g=Lc(),h=g==f,i=h&&b.length>=200?Lg(b):null,j=b.length;i&&(g=Za,h=!1,b=i);a:for(;++e<c;){var k=a[e];if(h&&k===k){for(var l=j;l--;)if(b[l]===k)continue a;d.push(k)}else g(b,k,0)<0&&d.push(k)}return d}function wb(a,b){var c=!0;return Gg(a,function(a,d,e){return c=!!b(a,d,e)}),c}function xb(a,b,c,d){var e=d,f=e;return Gg(a,function(a,g,h){var i=+b(a,g,h);(c(i,e)||i===d&&i===f)&&(e=i,f=a)}),f}function yb(a,b,c,d){var e=a.length;for(c=null==c?0:+c||0,0>c&&(c=-c>e?0:e+c),d=d===y||d>e?e:+d||0,0>d&&(d+=e),e=c>d?0:d>>>0,c>>>=0;e>c;)a[c++]=b;return a}function zb(a,b){var c=[];return Gg(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function Ab(a,b,c,d){var e;return c(a,function(a,c,f){return b(a,c,f)?(e=d?c:a,!1):void 0}),e}function Bb(a,b,c){for(var d=-1,e=a.length,f=-1,g=[];++d<e;){var h=a[d];if(q(h)&&Tc(h)&&(c||yh(h)||te(h))){b&&(h=Bb(h,b,c));for(var i=-1,j=h.length;++i<j;)g[++f]=h[i]}else c||(g[++f]=h)}return g}function Cb(a,b){return Ig(a,b,Te)}function Db(a,b){return Ig(a,b,Kh)}function Eb(a,b){return Jg(a,b,Kh)}function Fb(a,b){for(var c=-1,d=b.length,e=-1,f=[];++c<d;){var g=b[c];Ah(a[g])&&(f[++e]=g)}return f}function Gb(a,b,c){if(null!=a){c!==y&&c in fd(a)&&(b=[c]);for(var d=0,e=b.length;null!=a&&e>d;)a=a[b[d++]];return d&&d==e?a:y}}function Hb(a,b,c,d,e,f){return a===b?!0:null==a||null==b||!Ae(a)&&!q(b)?a!==a&&b!==b:Ib(a,b,Hb,c,d,e,f)}function Ib(a,b,c,d,e,f,g){var h=yh(a),i=yh(b),j=T,k=T;h||(j=Xf.call(a),j==S?j=$:j!=$&&(h=Ie(a))),i||(k=Xf.call(b),k==S?k=$:k!=$&&(i=Ie(b)));var l=j==$,m=k==$,n=j==k;if(n&&!h&&!l)return Hc(a,b,j);if(!e){var o=l&&Vf.call(a,"__wrapped__"),p=m&&Vf.call(b,"__wrapped__");if(o||p)return c(o?a.value():a,p?b.value():b,d,e,f,g)}if(!n)return!1;f||(f=[]),g||(g=[]);for(var q=f.length;q--;)if(f[q]==a)return g[q]==b;f.push(a),g.push(b);var r=(h?Gc:Ic)(a,b,c,d,e,f,g);return f.pop(),g.pop(),r}function Jb(a,b,c){var d=b.length,e=d,f=!c;if(null==a)return!e;for(a=fd(a);d--;){var g=b[d];if(f&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++d<e;){g=b[d];var h=g[0],i=a[h],j=g[1];if(f&&g[2]){if(i===y&&!(h in a))return!1}else{var k=c?c(i,j,h):y;if(!(k===y?Hb(j,i,c,!0):k))return!1}}return!0}function Kb(a,b){var c=-1,d=Tc(a)?Gf(a.length):[];return Gg(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function Lb(a){var b=Mc(a);if(1==b.length&&b[0][2]){var c=b[0][0],d=b[0][1];return function(a){return null==a?!1:a[c]===d&&(d!==y||c in fd(a))}}return function(a){return Jb(a,b)}}function Mb(a,b){var c=yh(a),d=Wc(a)&&Zc(b),e=a+"";return a=gd(a),function(f){if(null==f)return!1;var g=e;if(f=fd(f),(c||!d)&&!(g in f)){if(f=1==a.length?f:Gb(f,Ub(a,0,-1)),null==f)return!1;g=ud(a),f=fd(f)}return f[g]===b?b!==y||g in f:Hb(b,f[g],y,!0)}}function Nb(a,b,c,d,e){if(!Ae(a))return a;var f=Tc(b)&&(yh(b)||Ie(b)),g=f?null:Kh(b);return ab(g||b,function(h,i){if(g&&(i=h,h=b[i]),q(h))d||(d=[]),e||(e=[]),Ob(a,b,i,Nb,c,d,e);else{var j=a[i],k=c?c(j,h,i,a,b):y,l=k===y;l&&(k=h),k===y&&(!f||i in a)||!l&&(k===k?k===j:j!==j)||(a[i]=k)}}),a}function Ob(a,b,c,d,e,f,g){for(var h=f.length,i=b[c];h--;)if(f[h]==i)return void(a[c]=g[h]);var j=a[c],k=e?e(j,i,c,a,b):y,l=k===y;l&&(k=i,Tc(i)&&(yh(i)||Ie(i))?k=yh(j)?j:Tc(j)?_a(j):[]:Bh(i)||te(i)?k=te(j)?Ne(j):Bh(j)?j:{}:l=!1),f.push(i),g.push(k),l?a[c]=d(k,i,e,f,g):(k===k?k!==j:j===j)&&(a[c]=k)}function Pb(a){return function(b){return null==b?y:b[a]}}function Qb(a){var b=a+"";return a=gd(a),function(c){return Gb(c,a,b)}}function Rb(a,b){for(var c=a?b.length:0;c--;){var d=b[c];if(d!=e&&Uc(d)){var e=d;hg.call(a,d,1)}}return a}function Sb(a,b){return a+cg(ug()*(b-a+1))}function Tb(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function Ub(a,b,c){var d=-1,e=a.length;b=null==b?0:+b||0,0>b&&(b=-b>e?0:e+b),c=c===y||c>e?e:+c||0,0>c&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Gf(e);++d<e;)f[d]=a[d+b];return f}function Vb(a,b){var c;return Gg(a,function(a,d,e){return c=b(a,d,e),!c}),!!c}function Wb(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function Xb(a,b,c){var d=Jc(),e=-1;b=hb(b,function(a){return d(a)});var f=Kb(a,function(a){var c=hb(b,function(b){return b(a)});return{criteria:c,index:++e,value:a}});return Wb(f,function(a,b){return l(a,b,c)})}function Yb(a,b){var c=0;return Gg(a,function(a,d,e){c+=+b(a,d,e)||0}),c}function Zb(a,b){var c=-1,d=Lc(),e=a.length,g=d==f,h=g&&e>=200,i=h?Lg():null,j=[];i?(d=Za,g=!1):(h=!1,i=b?[]:j);a:for(;++c<e;){var k=a[c],l=b?b(k,c,a):k;if(g&&k===k){for(var m=i.length;m--;)if(i[m]===l)continue a;b&&i.push(l),j.push(k)}else d(i,l,0)<0&&((b||h)&&i.push(l),j.push(k))}return j}function $b(a,b){for(var c=-1,d=b.length,e=Gf(d);++c<d;)e[c]=a[b[c]];return e}function _b(a,b,c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?Ub(a,d?0:f,d?f+1:e):Ub(a,d?f+1:0,d?e:f)}function ac(a,b){var c=a;c instanceof Y&&(c=c.value());for(var d=-1,e=b.length;++d<e;){var f=[c],g=b[d];eg.apply(f,g.args),c=g.func.apply(g.thisArg,f)}return c}function bc(a,b,c){var d=0,e=a?a.length:d;if("number"==typeof b&&b===b&&zg>=e){for(;e>d;){var f=d+e>>>1,g=a[f];(c?b>=g:b>g)&&null!==g?d=f+1:e=f}return e}return cc(a,b,tf,c)}function cc(a,b,c,d){b=c(b);for(var e=0,f=a?a.length:0,g=b!==b,h=null===b,i=b===y;f>e;){var j=cg((e+f)/2),k=c(a[j]),l=k!==y,m=k===k;if(g)var n=m||d;else n=h?m&&l&&(d||null!=k):i?m&&(d||l):null==k?!1:d?b>=k:b>k;n?e=j+1:f=j}return qg(f,yg)}function dc(a,b,c){if("function"!=typeof a)return tf;if(b===y)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,g){return a.call(b,c,d,e,f,g)}}return function(){return a.apply(b,arguments)}}function ec(a){return _f.call(a,0)}function fc(a,b,c){for(var d=c.length,e=-1,f=pg(a.length-d,0),g=-1,h=b.length,i=Gf(f+h);++g<h;)i[g]=b[g];for(;++e<d;)i[c[e]]=a[e];for(;f--;)i[g++]=a[e++];return i}function gc(a,b,c){for(var d=-1,e=c.length,f=-1,g=pg(a.length-e,0),h=-1,i=b.length,j=Gf(g+i);++f<g;)j[f]=a[f];for(var k=f;++h<i;)j[k+h]=b[h];for(;++d<e;)j[k+c[d]]=a[f++];return j}function hc(a,b){return function(c,d,e){var f=b?b():{};if(d=Jc(d,e,3),yh(c))for(var g=-1,h=c.length;++g<h;){var i=c[g];a(f,i,d(i,g,c),c)}else Gg(c,function(b,c,e){a(f,b,d(b,c,e),e)});return f}}function ic(a){return le(function(b,c){var d=-1,e=null==b?0:c.length,f=e>2?c[e-2]:y,g=e>2?c[2]:y,h=e>1?c[e-1]:y;for("function"==typeof f?(f=dc(f,h,5),e-=2):(f="function"==typeof h?h:y,e-=f?1:0),g&&Vc(c[0],c[1],g)&&(f=3>e?y:f,e=1);++d<e;){var i=c[d];i&&a(b,i,f)}return b})}function jc(a,b){return function(c,d){var e=c?Ng(c):0;if(!Yc(e))return a(c,d);for(var f=b?e:-1,g=fd(c);(b?f--:++f<e)&&d(g[f],f,g)!==!1;);return c}}function kc(a){return function(b,c,d){for(var e=fd(b),f=d(b),g=f.length,h=a?g:-1;a?h--:++h<g;){var i=f[h];if(c(e[i],i,e)===!1)break}return b}}function lc(a,b){function c(){var e=this&&this!==bb&&this instanceof c?d:a;return e.apply(b,arguments)}var d=nc(a);return c}function mc(a){return function(b){for(var c=-1,d=qf(bf(b)),e=d.length,f="";++c<e;)f=a(f,d[c],c);return f}}function nc(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4])}var c=Fg(a.prototype),d=a.apply(c,b);return Ae(d)?d:c}}function oc(a){function b(c,d,e){e&&Vc(c,d,e)&&(d=null);var f=Fc(c,a,null,null,null,null,null,d);return f.placeholder=b.placeholder,f}return b}function pc(a,b){return function(c,d,e){if(e&&Vc(c,d,e)&&(d=null),d=Jc(d,e,3),1==d.length){c=ed(c);var f=fb(c,d,a,b);if(!c.length||f!==b)return f}return xb(c,d,a,b)}}function qc(a,b){return function(c,d,f){if(d=Jc(d,f,3),yh(c)){var g=e(c,d,b);return g>-1?c[g]:y}return Ab(c,d,a)}}function rc(a){return function(b,c,d){return b&&b.length?(c=Jc(c,d,3),e(b,c,a)):-1}}function sc(a){return function(b,c,d){return c=Jc(c,d,3),Ab(b,c,a,!0)}}function tc(a){return function(){for(var b,c=arguments.length,d=a?c:-1,e=0,f=Gf(c);a?d--:++d<c;){var g=f[e++]=arguments[d];if("function"!=typeof g)throw new Pf(Q);!b&&r.prototype.thru&&"wrapper"==Kc(g)&&(b=new r([]))}for(d=b?-1:c;++d<c;){g=f[d];var h=Kc(g),i="wrapper"==h?Mg(g):null;b=i&&Xc(i[0])&&i[1]==(H|D|F|I)&&!i[4].length&&1==i[9]?b[Kc(i[0])].apply(b,i[3]):1==g.length&&Xc(g)?b[h]():b.thru(g)}return function(){var a=arguments;if(b&&1==a.length&&yh(a[0]))return b.plant(a[0]).value();for(var d=0,e=c?f[d].apply(this,a):a[0];++d<c;)e=f[d].call(this,e);return e}}}function uc(a,b){return function(c,d,e){return"function"==typeof d&&e===y&&yh(c)?a(c,d):b(c,dc(d,e,3))}}function vc(a){return function(b,c,d){return"function"==typeof c&&d===y||(c=dc(c,d,3)),a(b,c,Te)}}function wc(a){return function(b,c,d){return"function"==typeof c&&d===y||(c=dc(c,d,3)),a(b,c)}}function xc(a){return function(b,c,d){var e={};return c=Jc(c,d,3),Db(b,function(b,d,f){var g=c(b,d,f);d=a?g:d,b=a?b:g,e[d]=b}),e}}function yc(a){return function(b,c,d){return b=h(b),(a?b:"")+Cc(b,c,d)+(a?"":b)}}function zc(a){var b=le(function(c,d){var e=s(d,b.placeholder);return Fc(c,a,null,d,e)});return b}function Ac(a,b){return function(c,d,e,f){var g=arguments.length<3;return"function"==typeof d&&f===y&&yh(c)?a(c,d,e,g):Tb(c,Jc(d,f,4),e,g,b)}}function Bc(a,b,c,d,e,f,g,h,i,j){function k(){for(var t=arguments.length,u=t,v=Gf(t);u--;)v[u]=arguments[u];if(d&&(v=fc(v,d,e)),f&&(v=gc(v,f,g)),o||q){var w=k.placeholder,x=s(v,w);if(t-=x.length,j>t){var z=h?_a(h):null,C=pg(j-t,0),D=o?x:null,E=o?null:x,H=o?v:null,I=o?null:v;b|=o?F:G,b&=~(o?G:F),p||(b&=~(A|B));var J=[a,b,c,H,D,I,E,z,i,C],K=Bc.apply(y,J);return Xc(a)&&Og(K,J),K.placeholder=w,K}}var L=m?c:this,M=n?L[a]:a;return h&&(v=bd(v,h)),l&&i<v.length&&(v.length=i),this&&this!==bb&&this instanceof k&&(M=r||nc(a)),M.apply(L,v)}var l=b&H,m=b&A,n=b&B,o=b&D,p=b&C,q=b&E,r=n?null:nc(a);return k}function Cc(a,b,c){var d=a.length;if(b=+b,d>=b||!ng(b))return"";var e=b-d;return c=null==c?" ":c+"",hf(c,ag(e/c.length)).slice(0,e)}function Dc(a,b,c,d){function e(){for(var b=-1,h=arguments.length,i=-1,j=d.length,k=Gf(h+j);++i<j;)k[i]=d[i];for(;h--;)k[i++]=arguments[++b];var l=this&&this!==bb&&this instanceof e?g:a;return l.apply(f?c:this,k)}var f=b&A,g=nc(a);return e}function Ec(a){return function(b,c,d,e){var f=Jc(d);return null==d&&f===sb?bc(b,c,a):cc(b,c,f(d,e,1),a)}}function Fc(a,b,c,d,e,f,g,h){var i=b&B;if(!i&&"function"!=typeof a)throw new Pf(Q);var j=d?d.length:0;if(j||(b&=~(F|G),d=e=null),j-=e?e.length:0,b&G){var k=d,l=e;d=e=null}var m=i?null:Mg(a),n=[a,b,c,d,e,k,l,f,g,h];if(m&&($c(n,m),b=n[1],h=n[9]),n[9]=null==h?i?0:a.length:pg(h-j,0)||0,b==A)var o=lc(n[0],n[2]);else o=b!=F&&b!=(A|F)||n[4].length?Bc.apply(y,n):Dc.apply(y,n);var p=m?Kg:Og;return p(o,n)}function Gc(a,b,c,d,e,f,g){var h=-1,i=a.length,j=b.length;if(i!=j&&!(e&&j>i))return!1;for(;++h<i;){var k=a[h],l=b[h],m=d?d(e?l:k,e?k:l,h):y;if(m!==y){if(m)continue;return!1}if(e){if(!kb(b,function(a){return k===a||c(k,a,d,e,f,g)}))return!1}else if(k!==l&&!c(k,l,d,e,f,g))return!1}return!0}function Hc(a,b,c){switch(c){case U:case V:return+a==+b;case W:return a.name==b.name&&a.message==b.message;case Z:return a!=+a?b!=+b:a==+b;case _:case ba:return a==b+""}return!1}function Ic(a,b,c,d,e,f,g){var h=Kh(a),i=h.length,j=Kh(b),k=j.length;if(i!=k&&!e)return!1;for(var l=i;l--;){var m=h[l];if(!(e?m in b:Vf.call(b,m)))return!1}for(var n=e;++l<i;){m=h[l];var o=a[m],p=b[m],q=d?d(e?p:o,e?o:p,m):y;if(!(q===y?c(o,p,d,e,f,g):q))return!1;n||(n="constructor"==m)}if(!n){var r=a.constructor,s=b.constructor;if(r!=s&&"constructor"in a&&"constructor"in b&&!("function"==typeof r&&r instanceof r&&"function"==typeof s&&s instanceof s))return!1}return!0}function Jc(a,c,d){var e=b.callback||rf;return e=e===rf?sb:e,d?e(a,c,d):e}function Kc(a){for(var b=a.name,c=Dg[b],d=c?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}function Lc(a,c,d){var e=b.indexOf||sd;return e=e===sd?f:e,a?e(a,c,d):e}function Mc(a){for(var b=Ue(a),c=b.length;c--;)b[c][2]=Zc(b[c][1]);return b}function Nc(a,b){var c=null==a?y:a[b];return De(c)?c:y}function Oc(a,b,c){for(var d=-1,e=c?c.length:0;++d<e;){var f=c[d],g=f.size;switch(f.type){case"drop":a+=g;break;case"dropRight":b-=g;break;case"take":b=qg(b,a+g);break;case"takeRight":a=pg(a,b-g)}}return{start:a,end:b}}function Pc(a){var b=a.length,c=new a.constructor(b);return b&&"string"==typeof a[0]&&Vf.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function Qc(a){var b=a.constructor;return"function"==typeof b&&b instanceof b||(b=Mf),new b}function Rc(a,b,c){var d=a.constructor;switch(b){case da:return ec(a);case U:case V:return new d(+a);case ea:case fa:case ga:case ha:case ia:case ja:case ka:case la:case ma:var e=a.buffer;return new d(c?ec(e):e,a.byteOffset,a.length);case Z:case ba:return new d(a);case _:var f=new d(a.source,Fa.exec(a));f.lastIndex=a.lastIndex}return f}function Sc(a,b,c){null==a||Wc(b,a)||(b=gd(b),a=1==b.length?a:Gb(a,Ub(b,0,-1)),b=ud(b));var d=null==a?a:a[b];return null==d?y:d.apply(a,c)}function Tc(a){return null!=a&&Yc(Ng(a))}function Uc(a,b){return a="number"==typeof a?a:parseFloat(a),b=null==b?Bg:b,a>-1&&a%1==0&&b>a}function Vc(a,b,c){if(!Ae(c))return!1;var d=typeof b;if("number"==d?Tc(c)&&Uc(b,c.length):"string"==d&&b in c){var e=c[b];return a===a?a===e:e!==e}return!1}function Wc(a,b){var c=typeof a;if("string"==c&&ya.test(a)||"number"==c)return!0;if(yh(a))return!1;var d=!xa.test(a);return d||null!=b&&a in fd(b)}function Xc(a){var c=Kc(a);if(!(c in Y.prototype))return!1;var d=b[c];if(a===d)return!0;var e=Mg(d);return!!e&&a===e[0]}function Yc(a){return"number"==typeof a&&a>-1&&a%1==0&&Bg>=a}function Zc(a){return a===a&&!Ae(a)}function $c(a,b){var c=a[1],d=b[1],e=c|d,f=H>e,g=d==H&&c==D||d==H&&c==I&&a[7].length<=b[8]||d==(H|I)&&c==D;if(!f&&!g)return a;d&A&&(a[2]=b[2],e|=c&A?0:C);var h=b[3];if(h){var i=a[3];a[3]=i?fc(i,h,b[4]):_a(h),a[4]=i?s(a[3],R):_a(b[4])}return h=b[5],h&&(i=a[5],a[5]=i?gc(i,h,b[6]):_a(h),a[6]=i?s(a[5],R):_a(b[6])),h=b[7],h&&(a[7]=_a(h)),d&H&&(a[8]=null==a[8]?b[8]:qg(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=e,a}function _c(a,b){a=fd(a);for(var c=-1,d=b.length,e={};++c<d;){var f=b[c];f in a&&(e[f]=a[f])}return e}function ad(a,b){var c={};return Cb(a,function(a,d,e){b(a,d,e)&&(c[d]=a)}),c}function bd(a,b){for(var c=a.length,d=qg(b.length,c),e=_a(a);d--;){var f=b[d];
a[d]=Uc(f,c)?e[f]:y}return a}function cd(a){var c;b.support;if(!q(a)||Xf.call(a)!=$||!Vf.call(a,"constructor")&&(c=a.constructor,"function"==typeof c&&!(c instanceof c)))return!1;var d;return Cb(a,function(a,b){d=b}),d===y||Vf.call(a,d)}function dd(a){for(var b=Te(a),c=b.length,d=c&&a.length,e=!!d&&Yc(d)&&(yh(a)||te(a)),f=-1,g=[];++f<c;){var h=b[f];(e&&Uc(h,d)||Vf.call(a,h))&&g.push(h)}return g}function ed(a){return null==a?[]:Tc(a)?Ae(a)?a:Mf(a):Ye(a)}function fd(a){return Ae(a)?a:Mf(a)}function gd(a){if(yh(a))return a;var b=[];return h(a).replace(za,function(a,c,d,e){b.push(d?e.replace(Da,"$1"):c||a)}),b}function hd(a){return a instanceof Y?a.clone():new r(a.__wrapped__,a.__chain__,_a(a.__actions__))}function id(a,b,c){b=(c?Vc(a,b,c):null==b)?1:pg(+b||1,1);for(var d=0,e=a?a.length:0,f=-1,g=Gf(ag(e/b));e>d;)g[++f]=Ub(a,d,d+=b);return g}function jd(a){for(var b=-1,c=a?a.length:0,d=-1,e=[];++b<c;){var f=a[b];f&&(e[++d]=f)}return e}function kd(a,b,c){var d=a?a.length:0;return d?((c?Vc(a,b,c):null==b)&&(b=1),Ub(a,0>b?0:b)):[]}function ld(a,b,c){var d=a?a.length:0;return d?((c?Vc(a,b,c):null==b)&&(b=1),b=d-(+b||0),Ub(a,0,0>b?0:b)):[]}function md(a,b,c){return a&&a.length?_b(a,Jc(b,c,3),!0,!0):[]}function nd(a,b,c){return a&&a.length?_b(a,Jc(b,c,3),!0):[]}function od(a,b,c,d){var e=a?a.length:0;return e?(c&&"number"!=typeof c&&Vc(a,b,c)&&(c=0,d=e),yb(a,b,c,d)):[]}function pd(a){return a?a[0]:y}function qd(a,b,c){var d=a?a.length:0;return c&&Vc(a,b,c)&&(b=!1),d?Bb(a,b):[]}function rd(a){var b=a?a.length:0;return b?Bb(a,!0):[]}function sd(a,b,c){var d=a?a.length:0;if(!d)return-1;if("number"==typeof c)c=0>c?pg(d+c,0):c;else if(c){var e=bc(a,b),g=a[e];return(b===b?b===g:g!==g)?e:-1}return f(a,b,c||0)}function td(a){return ld(a,1)}function ud(a){var b=a?a.length:0;return b?a[b-1]:y}function vd(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=d;if("number"==typeof c)e=(0>c?pg(d+c,0):qg(c||0,d-1))+1;else if(c){e=bc(a,b,!0)-1;var f=a[e];return(b===b?b===f:f!==f)?e:-1}if(b!==b)return p(a,e,!0);for(;e--;)if(a[e]===b)return e;return-1}function wd(){var a=arguments,b=a[0];if(!b||!b.length)return b;for(var c=0,d=Lc(),e=a.length;++c<e;)for(var f=0,g=a[c];(f=d(b,g,f))>-1;)hg.call(b,f,1);return b}function xd(a,b,c){var d=[];if(!a||!a.length)return d;var e=-1,f=[],g=a.length;for(b=Jc(b,c,3);++e<g;){var h=a[e];b(h,e,a)&&(d.push(h),f.push(e))}return Rb(a,f),d}function yd(a){return kd(a,1)}function zd(a,b,c){var d=a?a.length:0;return d?(c&&"number"!=typeof c&&Vc(a,b,c)&&(b=0,c=d),Ub(a,b,c)):[]}function Ad(a,b,c){var d=a?a.length:0;return d?((c?Vc(a,b,c):null==b)&&(b=1),Ub(a,0,0>b?0:b)):[]}function Bd(a,b,c){var d=a?a.length:0;return d?((c?Vc(a,b,c):null==b)&&(b=1),b=d-(+b||0),Ub(a,0>b?0:b)):[]}function Cd(a,b,c){return a&&a.length?_b(a,Jc(b,c,3),!1,!0):[]}function Dd(a,b,c){return a&&a.length?_b(a,Jc(b,c,3)):[]}function Ed(a,b,c,d){var e=a?a.length:0;if(!e)return[];null!=b&&"boolean"!=typeof b&&(d=c,c=Vc(a,b,d)?null:b,b=!1);var g=Jc();return null==c&&g===sb||(c=g(c,d,3)),b&&Lc()==f?t(a,c):Zb(a,c)}function Fd(a){if(!a||!a.length)return[];var b=-1,c=0;a=gb(a,function(a){return Tc(a)?(c=pg(a.length,c),!0):void 0});for(var d=Gf(c);++b<c;)d[b]=hb(a,Pb(b));return d}function Gd(a,b,c){var d=a?a.length:0;if(!d)return[];var e=Fd(a);return null==b?e:(b=dc(b,c,4),hb(e,function(a){return ib(a,b,y,!0)}))}function Hd(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(Tc(c))var d=d?vb(d,c).concat(vb(c,d)):c}return d?Zb(d):[]}function Id(a,b){var c=-1,d=a?a.length:0,e={};for(!d||b||yh(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function Jd(a){var c=b(a);return c.__chain__=!0,c}function Kd(a,b,c){return b.call(c,a),a}function Ld(a,b,c){return b.call(c,a)}function Md(){return Jd(this)}function Nd(){return new r(this.value(),this.__chain__)}function Od(a){for(var b,d=this;d instanceof c;){var e=hd(d);b?f.__wrapped__=e:b=e;var f=e;d=d.__wrapped__}return f.__wrapped__=a,b}function Pd(){var a=this.__wrapped__;return a instanceof Y?(this.__actions__.length&&(a=new Y(this)),new r(a.reverse(),this.__chain__)):this.thru(function(a){return a.reverse()})}function Qd(){return this.value()+""}function Rd(){return ac(this.__wrapped__,this.__actions__)}function Sd(a,b,c){var d=yh(a)?eb:wb;return c&&Vc(a,b,c)&&(b=null),"function"==typeof b&&c===y||(b=Jc(b,c,3)),d(a,b)}function Td(a,b,c){var d=yh(a)?gb:zb;return b=Jc(b,c,3),d(a,b)}function Ud(a,b){return ah(a,Lb(b))}function Vd(a,b,c,d){var e=a?Ng(a):0;return Yc(e)||(a=Ye(a),e=a.length),e?(c="number"!=typeof c||d&&Vc(b,c,d)?0:0>c?pg(e+c,0):c||0,"string"==typeof a||!yh(a)&&He(a)?e>c&&a.indexOf(b,c)>-1:Lc(a,b,c)>-1):!1}function Wd(a,b,c){var d=yh(a)?hb:Kb;return b=Jc(b,c,3),d(a,b)}function Xd(a,b){return Wd(a,zf(b))}function Yd(a,b,c){var d=yh(a)?gb:zb;return b=Jc(b,c,3),d(a,function(a,c,d){return!b(a,c,d)})}function Zd(a,b,c){if(c?Vc(a,b,c):null==b){a=ed(a);var d=a.length;return d>0?a[Sb(0,d-1)]:y}var e=-1,f=Me(a),d=f.length,g=d-1;for(b=qg(0>b?0:+b||0,d);++e<b;){var h=Sb(e,g),i=f[h];f[h]=f[e],f[e]=i}return f.length=b,f}function $d(a){return Zd(a,wg)}function _d(a){var b=a?Ng(a):0;return Yc(b)?b:Kh(a).length}function ae(a,b,c){var d=yh(a)?kb:Vb;return c&&Vc(a,b,c)&&(b=null),"function"==typeof b&&c===y||(b=Jc(b,c,3)),d(a,b)}function be(a,b,c){if(null==a)return[];c&&Vc(a,b,c)&&(b=null);var d=-1;b=Jc(b,c,3);var e=Kb(a,function(a,c,e){return{criteria:b(a,c,e),index:++d,value:a}});return Wb(e,k)}function ce(a,b,c,d){return null==a?[]:(d&&Vc(b,c,d)&&(c=null),yh(b)||(b=null==b?[]:[b]),yh(c)||(c=null==c?[]:[c]),Xb(a,b,c))}function de(a,b){return Td(a,Lb(b))}function ee(a,b){if("function"!=typeof b){if("function"!=typeof a)throw new Pf(Q);var c=a;a=b,b=c}return a=ng(a=+a)?a:0,function(){return--a<1?b.apply(this,arguments):void 0}}function fe(a,b,c){return c&&Vc(a,b,c)&&(b=null),b=a&&null==b?a.length:pg(+b||0,0),Fc(a,H,null,null,null,null,b)}function ge(a,b){var c;if("function"!=typeof b){if("function"!=typeof a)throw new Pf(Q);var d=a;a=b,b=d}return function(){return--a>0&&(c=b.apply(this,arguments)),1>=a&&(b=null),c}}function he(a,b,c){function d(){m&&bg(m),i&&bg(i),i=m=n=y}function e(){var c=b-(lh()-k);if(0>=c||c>b){i&&bg(i);var d=n;i=m=n=y,d&&(o=lh(),j=a.apply(l,h),m||i||(h=l=null))}else m=gg(e,c)}function f(){m&&bg(m),i=m=n=y,(q||p!==b)&&(o=lh(),j=a.apply(l,h),m||i||(h=l=null))}function g(){if(h=arguments,k=lh(),l=this,n=q&&(m||!r),p===!1)var c=r&&!m;else{i||r||(o=k);var d=p-(k-o),g=0>=d||d>p;g?(i&&(i=bg(i)),o=k,j=a.apply(l,h)):i||(i=gg(f,d))}return g&&m?m=bg(m):m||b===p||(m=gg(e,b)),c&&(g=!0,j=a.apply(l,h)),!g||m||i||(h=l=null),j}var h,i,j,k,l,m,n,o=0,p=!1,q=!0;if("function"!=typeof a)throw new Pf(Q);if(b=0>b?0:+b||0,c===!0){var r=!0;q=!1}else Ae(c)&&(r=c.leading,p="maxWait"in c&&pg(+c.maxWait||0,b),q="trailing"in c?c.trailing:q);return g.cancel=d,g}function ie(a,b){if("function"!=typeof a||b&&"function"!=typeof b)throw new Pf(Q);var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g),g};return c.cache=new ie.Cache,c}function je(a){if("function"!=typeof a)throw new Pf(Q);return function(){return!a.apply(this,arguments)}}function ke(a){return ge(2,a)}function le(a,b){if("function"!=typeof a)throw new Pf(Q);return b=pg(b===y?a.length-1:+b||0,0),function(){for(var c=arguments,d=-1,e=pg(c.length-b,0),f=Gf(e);++d<e;)f[d]=c[b+d];switch(b){case 0:return a.call(this,f);case 1:return a.call(this,c[0],f);case 2:return a.call(this,c[0],c[1],f)}var g=Gf(b+1);for(d=-1;++d<b;)g[d]=c[d];return g[b]=f,a.apply(this,g)}}function me(a){if("function"!=typeof a)throw new Pf(Q);return function(b){return a.apply(this,b)}}function ne(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new Pf(Q);return c===!1?d=!1:Ae(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),Ra.leading=d,Ra.maxWait=+b,Ra.trailing=e,he(a,b,Ra)}function oe(a,b){return b=null==b?tf:b,Fc(b,F,null,[a],[])}function pe(a,b,c,d){return b&&"boolean"!=typeof b&&Vc(a,b,c)?b=!1:"function"==typeof b&&(d=c,c=b,b=!1),"function"==typeof c?tb(a,b,dc(c,d,1)):tb(a,b)}function qe(a,b,c){return"function"==typeof b?tb(a,!0,dc(b,c,1)):tb(a,!0)}function re(a,b){return a>b}function se(a,b){return a>=b}function te(a){return q(a)&&Tc(a)&&Xf.call(a)==S}function ue(a){return a===!0||a===!1||q(a)&&Xf.call(a)==U}function ve(a){return q(a)&&Xf.call(a)==V}function we(a){return!!a&&1===a.nodeType&&q(a)&&Xf.call(a).indexOf("Element")>-1}function xe(a){return null==a?!0:Tc(a)&&(yh(a)||He(a)||te(a)||q(a)&&Ah(a.splice))?!a.length:!Kh(a).length}function ye(a,b,c,d){c="function"==typeof c?dc(c,d,3):y;var e=c?c(a,b):y;return e===y?Hb(a,b,c):!!e}function ze(a){return q(a)&&"string"==typeof a.message&&Xf.call(a)==W}function Ae(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function Be(a,b,c,d){return c="function"==typeof c?dc(c,d,3):y,Jb(a,Mc(b),c)}function Ce(a){return Fe(a)&&a!=+a}function De(a){return null==a?!1:Xf.call(a)==X?Zf.test(Uf.call(a)):q(a)&&Ha.test(a)}function Ee(a){return null===a}function Fe(a){return"number"==typeof a||q(a)&&Xf.call(a)==Z}function Ge(a){return q(a)&&Xf.call(a)==_}function He(a){return"string"==typeof a||q(a)&&Xf.call(a)==ba}function Ie(a){return q(a)&&Yc(a.length)&&!!Pa[Xf.call(a)]}function Je(a){return a===y}function Ke(a,b){return b>a}function Le(a,b){return b>=a}function Me(a){var b=a?Ng(a):0;return Yc(b)?b?_a(a):[]:Ye(a)}function Ne(a){return rb(a,Te(a))}function Oe(a,b,c){var d=Fg(a);return c&&Vc(a,b,c)&&(b=null),b?pb(d,b):d}function Pe(a){return Fb(a,Te(a))}function Qe(a,b,c){var d=null==a?y:Gb(a,gd(b),b+"");return d===y?c:d}function Re(a,b){if(null==a)return!1;var c=Vf.call(a,b);if(!c&&!Wc(b)){if(b=gd(b),a=1==b.length?a:Gb(a,Ub(b,0,-1)),null==a)return!1;b=ud(b),c=Vf.call(a,b)}return c||Yc(a.length)&&Uc(b,a.length)&&(yh(a)||te(a))}function Se(a,b,c){c&&Vc(a,b,c)&&(b=null);for(var d=-1,e=Kh(a),f=e.length,g={};++d<f;){var h=e[d],i=a[h];b?Vf.call(g,i)?g[i].push(h):g[i]=[h]:g[i]=h}return g}function Te(a){if(null==a)return[];Ae(a)||(a=Mf(a));var b=a.length;b=b&&Yc(b)&&(yh(a)||te(a))&&b||0;for(var c=a.constructor,d=-1,e="function"==typeof c&&c.prototype===a,f=Gf(b),g=b>0;++d<b;)f[d]=d+"";for(var h in a)g&&Uc(h,b)||"constructor"==h&&(e||!Vf.call(a,h))||f.push(h);return f}function Ue(a){a=fd(a);for(var b=-1,c=Kh(a),d=c.length,e=Gf(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function Ve(a,b,c){var d=null==a?y:a[b];return d===y&&(null==a||Wc(b,a)||(b=gd(b),a=1==b.length?a:Gb(a,Ub(b,0,-1)),d=null==a?y:a[ud(b)]),d=d===y?c:d),Ah(d)?d.call(a):d}function We(a,b,c){if(null==a)return a;var d=b+"";b=null!=a[d]||Wc(b,a)?[d]:gd(b);for(var e=-1,f=b.length,g=f-1,h=a;null!=h&&++e<f;){var i=b[e];Ae(h)&&(e==g?h[i]=c:null==h[i]&&(h[i]=Uc(b[e+1])?[]:{})),h=h[i]}return a}function Xe(a,b,c,d){var e=yh(a)||Ie(a);if(b=Jc(b,d,4),null==c)if(e||Ae(a)){var f=a.constructor;c=e?yh(a)?new f:[]:Fg(Ah(f)?f.prototype:null)}else c={};return(e?ab:Db)(a,function(a,d,e){return b(c,a,d,e)}),c}function Ye(a){return $b(a,Kh(a))}function Ze(a){return $b(a,Te(a))}function $e(a,b,c){return b=+b||0,"undefined"==typeof c?(c=b,b=0):c=+c||0,a>=qg(b,c)&&a<pg(b,c)}function _e(a,b,c){c&&Vc(a,b,c)&&(b=c=null);var d=null==a,e=null==b;if(null==c&&(e&&"boolean"==typeof a?(c=a,a=1):"boolean"==typeof b&&(c=b,e=!0)),d&&e&&(b=1,e=!1),a=+a||0,e?(b=a,a=0):b=+b||0,c||a%1||b%1){var f=ug();return qg(a+f*(b-a+parseFloat("1e-"+((f+"").length-1))),b)}return Sb(a,b)}function af(a){return a=h(a),a&&a.charAt(0).toUpperCase()+a.slice(1)}function bf(a){return a=h(a),a&&a.replace(Ia,m).replace(Ca,"")}function cf(a,b,c){a=h(a),b+="";var d=a.length;return c=c===y?d:qg(0>c?0:+c||0,d),c-=b.length,c>=0&&a.indexOf(b,c)==c}function df(a){return a=h(a),a&&ta.test(a)?a.replace(ra,n):a}function ef(a){return a=h(a),a&&Ba.test(a)?a.replace(Aa,"\\$&"):a}function ff(a,b,c){a=h(a),b=+b;var d=a.length;if(d>=b||!ng(b))return a;var e=(b-d)/2,f=cg(e),g=ag(e);return c=Cc("",g,c),c.slice(0,f)+a+c}function gf(a,b,c){return c&&Vc(a,b,c)&&(b=0),tg(a,b)}function hf(a,b){var c="";if(a=h(a),b=+b,1>b||!a||!ng(b))return c;do b%2&&(c+=a),b=cg(b/2),a+=a;while(b);return c}function jf(a,b,c){return a=h(a),c=null==c?0:qg(0>c?0:+c||0,a.length),a.lastIndexOf(b,c)==c}function kf(a,c,d){var e=b.templateSettings;d&&Vc(a,c,d)&&(c=d=null),a=h(a),c=ob(pb({},d||c),e,nb);var f,g,i=ob(pb({},c.imports),e.imports,nb),j=Kh(i),k=$b(i,j),l=0,m=c.interpolate||Ja,n="__p += '",p=Nf((c.escape||Ja).source+"|"+m.source+"|"+(m===wa?Ea:Ja).source+"|"+(c.evaluate||Ja).source+"|$","g"),q="//# sourceURL="+("sourceURL"in c?c.sourceURL:"lodash.templateSources["+ ++Oa+"]")+"\n";a.replace(p,function(b,c,d,e,h,i){return d||(d=e),n+=a.slice(l,i).replace(Ka,o),c&&(f=!0,n+="' +\n__e("+c+") +\n'"),h&&(g=!0,n+="';\n"+h+";\n__p += '"),d&&(n+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),l=i+b.length,b}),n+="';\n";var r=c.variable;r||(n="with (obj) {\n"+n+"\n}\n"),n=(g?n.replace(na,""):n).replace(oa,"$1").replace(pa,"$1;"),n="function("+(r||"obj")+") {\n"+(r?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(f?", __e = _.escape":"")+(g?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+n+"return __p\n}";var s=Wh(function(){return Jf(j,q+"return "+n).apply(y,k)});if(s.source=n,ze(s))throw s;return s}function lf(a,b,c){var d=a;return(a=h(a))?(c?Vc(d,b,c):null==b)?a.slice(u(a),v(a)+1):(b+="",a.slice(i(a,b),j(a,b)+1)):a}function mf(a,b,c){var d=a;return a=h(a),a?(c?Vc(d,b,c):null==b)?a.slice(u(a)):a.slice(i(a,b+"")):a}function nf(a,b,c){var d=a;return a=h(a),a?(c?Vc(d,b,c):null==b)?a.slice(0,v(a)+1):a.slice(0,j(a,b+"")+1):a}function of(a,b,c){c&&Vc(a,b,c)&&(b=null);var d=J,e=K;if(null!=b)if(Ae(b)){var f="separator"in b?b.separator:f;d="length"in b?+b.length||0:d,e="omission"in b?h(b.omission):e}else d=+b||0;if(a=h(a),d>=a.length)return a;var g=d-e.length;if(1>g)return e;var i=a.slice(0,g);if(null==f)return i+e;if(Ge(f)){if(a.slice(g).search(f)){var j,k,l=a.slice(0,g);for(f.global||(f=Nf(f.source,(Fa.exec(f)||"")+"g")),f.lastIndex=0;j=f.exec(l);)k=j.index;i=i.slice(0,null==k?g:k)}}else if(a.indexOf(f,g)!=g){var m=i.lastIndexOf(f);m>-1&&(i=i.slice(0,m))}return i+e}function pf(a){return a=h(a),a&&sa.test(a)?a.replace(qa,w):a}function qf(a,b,c){return c&&Vc(a,b,c)&&(b=null),a=h(a),a.match(b||La)||[]}function rf(a,b,c){return c&&Vc(a,b,c)&&(b=null),q(a)?uf(a):sb(a,b)}function sf(a){return function(){return a}}function tf(a){return a}function uf(a){return Lb(tb(a,!0))}function vf(a,b){return Mb(a,tb(b,!0))}function wf(a,b,c){if(null==c){var d=Ae(b),e=d?Kh(b):null,f=e&&e.length?Fb(b,e):null;(f?f.length:d)||(f=!1,c=b,b=a,a=this)}f||(f=Fb(b,Kh(b)));var g=!0,h=-1,i=Ah(a),j=f.length;c===!1?g=!1:Ae(c)&&"chain"in c&&(g=c.chain);for(;++h<j;){var k=f[h],l=b[k];a[k]=l,i&&(a.prototype[k]=function(b){return function(){var c=this.__chain__;if(g||c){var d=a(this.__wrapped__),e=d.__actions__=_a(this.__actions__);return e.push({func:b,args:arguments,thisArg:a}),d.__chain__=c,d}var f=[this.value()];return eg.apply(f,arguments),b.apply(a,f)}}(l))}return a}function xf(){return a._=Yf,this}function yf(){}function zf(a){return Wc(a)?Pb(a):Qb(a)}function Af(a){return function(b){return Gb(a,gd(b),b+"")}}function Bf(a,b,c){c&&Vc(a,b,c)&&(b=c=null),a=+a||0,c=null==c?1:+c||0,null==b?(b=a,a=0):b=+b||0;for(var d=-1,e=pg(ag((b-a)/(c||1)),0),f=Gf(e);++d<e;)f[d]=a,a+=c;return f}function Cf(a,b,c){if(a=cg(a),1>a||!ng(a))return[];var d=-1,e=Gf(qg(a,xg));for(b=dc(b,c,1);++d<a;)xg>d?e[d]=b(d):b(d);return e}function Df(a){var b=++Wf;return h(a)+b}function Ef(a,b){return(+a||0)+(+b||0)}function Ff(a,b,c){c&&Vc(a,b,c)&&(b=null);var d=Jc(),e=null==b;return e&&d===sb||(e=!1,b=d(b,c,3)),e?lb(yh(a)?a:ed(a)):Yb(a,b)}a=a?cb.defaults(bb.Object(),a,cb.pick(bb,Na)):bb;var Gf=a.Array,Hf=a.Date,If=a.Error,Jf=a.Function,Kf=a.Math,Lf=a.Number,Mf=a.Object,Nf=a.RegExp,Of=a.String,Pf=a.TypeError,Qf=Gf.prototype,Rf=Mf.prototype,Sf=Of.prototype,Tf=(Tf=a.window)?Tf.document:null,Uf=Jf.prototype.toString,Vf=Rf.hasOwnProperty,Wf=0,Xf=Rf.toString,Yf=a._,Zf=Nf("^"+ef(Uf.call(Vf)).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$f=Nc(a,"ArrayBuffer"),_f=Nc($f&&new $f(0),"slice"),ag=Kf.ceil,bg=a.clearTimeout,cg=Kf.floor,dg=Nc(Mf,"getPrototypeOf"),eg=Qf.push,fg=Nc(a,"Set"),gg=a.setTimeout,hg=Qf.splice,ig=Nc(a,"Uint8Array"),jg=Nc(a,"WeakMap"),kg=function(){try{var b=Nc(a,"Float64Array"),c=new b(new $f(10),0,1)&&b}catch(d){}return c||null}(),lg=Nc(Mf,"create"),mg=Nc(Gf,"isArray"),ng=a.isFinite,og=Nc(Mf,"keys"),pg=Kf.max,qg=Kf.min,rg=Nc(Hf,"now"),sg=Nc(Lf,"isFinite"),tg=a.parseInt,ug=Kf.random,vg=Lf.NEGATIVE_INFINITY,wg=Lf.POSITIVE_INFINITY,xg=4294967295,yg=xg-1,zg=xg>>>1,Ag=kg?kg.BYTES_PER_ELEMENT:0,Bg=9007199254740991,Cg=jg&&new jg,Dg={},Eg=b.support={};!function(a){var b=function(){this.x=a},c=[];b.prototype={valueOf:a,y:a};for(var d in new b)c.push(d);try{Eg.dom=11===Tf.createDocumentFragment().nodeType}catch(e){Eg.dom=!1}}(1,0),b.templateSettings={escape:ua,evaluate:va,interpolate:wa,variable:"",imports:{_:b}};var Fg=function(){function a(){}return function(b){if(Ae(b)){a.prototype=b;var c=new a;a.prototype=null}return c||{}}}(),Gg=jc(Db),Hg=jc(Eb,!0),Ig=kc(),Jg=kc(!0),Kg=Cg?function(a,b){return Cg.set(a,b),a}:tf;_f||(ec=$f&&ig?function(a){var b=a.byteLength,c=kg?cg(b/Ag):0,d=c*Ag,e=new $f(b);if(c){var f=new kg(e,0,c);f.set(new kg(a,0,c))}return b!=d&&(f=new ig(e,d),f.set(new ig(a,d))),e}:sf(null));var Lg=lg&&fg?function(a){return new Ya(a)}:sf(null),Mg=Cg?function(a){return Cg.get(a)}:yf,Ng=Pb("length"),Og=function(){var a=0,b=0;return function(c,d){var e=lh(),f=M-(e-b);if(b=e,f>0){if(++a>=L)return c}else a=0;return Kg(c,d)}}(),Pg=le(function(a,b){return Tc(a)?vb(a,Bb(b,!1,!0)):[]}),Qg=rc(),Rg=rc(!0),Sg=le(function(a){for(var b=a.length,c=b,d=Gf(l),e=Lc(),g=e==f,h=[];c--;){var i=a[c]=Tc(i=a[c])?i:[];d[c]=g&&i.length>=120?Lg(c&&i):null}var j=a[0],k=-1,l=j?j.length:0,m=d[0];a:for(;++k<l;)if(i=j[k],(m?Za(m,i):e(h,i,0))<0){for(var c=b;--c;){var n=d[c];if((n?Za(n,i):e(a[c],i,0))<0)continue a}m&&m.push(i),h.push(i)}return h}),Tg=le(function(a,b){b=Bb(b);var c=qb(a,b);return Rb(a,b.sort(d)),c}),Ug=Ec(),Vg=Ec(!0),Wg=le(function(a){return Zb(Bb(a,!1,!0))}),Xg=le(function(a,b){return Tc(a)?vb(a,b):[]}),Yg=le(Fd),Zg=le(function(a){var b=a.length,c=b>2?a[b-2]:y,d=b>1?a[b-1]:y;return b>2&&"function"==typeof c?b-=2:(c=b>1&&"function"==typeof d?(--b,d):y,d=y),a.length=b,Gd(a,c,d)}),$g=le(function(a,b){return qb(a,Bb(b))}),_g=hc(function(a,b,c){Vf.call(a,c)?++a[c]:a[c]=1}),ah=qc(Gg),bh=qc(Hg,!0),ch=uc(ab,Gg),dh=uc(db,Hg),eh=hc(function(a,b,c){Vf.call(a,c)?a[c].push(b):a[c]=[b]}),fh=hc(function(a,b,c){a[c]=b}),gh=le(function(a,b,c){var d=-1,e="function"==typeof b,f=Wc(b),g=Tc(a)?Gf(a.length):[];return Gg(a,function(a){var h=e?b:f&&null!=a?a[b]:null;g[++d]=h?h.apply(a,c):Sc(a,b,c)}),g}),hh=hc(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),ih=Ac(ib,Gg),jh=Ac(jb,Hg),kh=le(function(a,b){if(null==a)return[];var c=b[2];return c&&Vc(b[0],b[1],c)&&(b.length=1),Xb(a,Bb(b),[])}),lh=rg||function(){return(new Hf).getTime()},mh=le(function(a,b,c){var d=A;if(c.length){var e=s(c,mh.placeholder);d|=F}return Fc(a,d,b,c,e)}),nh=le(function(a,b){b=b.length?Bb(b):Pe(a);for(var c=-1,d=b.length;++c<d;){var e=b[c];a[e]=Fc(a[e],A,a)}return a}),oh=le(function(a,b,c){var d=A|B;if(c.length){var e=s(c,oh.placeholder);d|=F}return Fc(b,d,a,c,e)}),ph=oc(D),qh=oc(E),rh=le(function(a,b){return ub(a,1,b)}),sh=le(function(a,b,c){return ub(a,b,c)}),th=tc(),uh=tc(!0),vh=zc(F),wh=zc(G),xh=le(function(a,b){return Fc(a,I,null,null,null,Bb(b))}),yh=mg||function(a){return q(a)&&Yc(a.length)&&Xf.call(a)==T};Eg.dom||(we=function(a){return!!a&&1===a.nodeType&&q(a)&&!Bh(a)});var zh=sg||function(a){return"number"==typeof a&&ng(a)},Ah=g(/x/)||ig&&!g(ig)?function(a){return Xf.call(a)==X}:g,Bh=dg?function(a){if(!a||Xf.call(a)!=$)return!1;var b=Nc(a,"valueOf"),c=b&&(c=dg(b))&&dg(c);return c?a==c||dg(a)==c:cd(a)}:cd,Ch=ic(function(a,b,c){return c?ob(a,b,c):pb(a,b)}),Dh=le(function(a){var b=a[0];return null==b?b:(a.push(mb),Ch.apply(y,a))}),Eh=sc(Db),Fh=sc(Eb),Gh=vc(Ig),Hh=vc(Jg),Ih=wc(Db),Jh=wc(Eb),Kh=og?function(a){var b=null==a?null:a.constructor;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&Tc(a)?dd(a):Ae(a)?og(a):[]}:dd,Lh=xc(!0),Mh=xc(),Nh=ic(Nb),Oh=le(function(a,b){if(null==a)return{};if("function"!=typeof b[0]){var b=hb(Bb(b),Of);return _c(a,vb(Te(a),b))}var c=dc(b[0],b[1],3);return ad(a,function(a,b,d){return!c(a,b,d)})}),Ph=le(function(a,b){return null==a?{}:"function"==typeof b[0]?ad(a,dc(b[0],b[1],3)):_c(a,Bb(b))}),Qh=mc(function(a,b,c){return b=b.toLowerCase(),a+(c?b.charAt(0).toUpperCase()+b.slice(1):b)}),Rh=mc(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),Sh=yc(),Th=yc(!0);8!=tg(Ma+"08")&&(gf=function(a,b,c){return(c?Vc(a,b,c):null==b)?b=0:b&&(b=+b),a=lf(a),tg(a,b||(Ga.test(a)?16:10))});var Uh=mc(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),Vh=mc(function(a,b,c){return a+(c?" ":"")+(b.charAt(0).toUpperCase()+b.slice(1))}),Wh=le(function(a,b){try{return a.apply(y,b)}catch(c){return ze(c)?c:new If(c)}}),Xh=le(function(a,b){return function(c){return Sc(c,a,b)}}),Yh=le(function(a,b){return function(c){return Sc(a,c,b)}}),Zh=pc(re,vg),$h=pc(Ke,wg);return b.prototype=c.prototype,r.prototype=Fg(c.prototype),r.prototype.constructor=r,Y.prototype=Fg(c.prototype),Y.prototype.constructor=Y,Ta.prototype["delete"]=Ua,Ta.prototype.get=Va,Ta.prototype.has=Wa,Ta.prototype.set=Xa,Ya.prototype.push=$a,ie.Cache=Ta,b.after=ee,b.ary=fe,b.assign=Ch,b.at=$g,b.before=ge,b.bind=mh,b.bindAll=nh,b.bindKey=oh,b.callback=rf,b.chain=Jd,b.chunk=id,b.compact=jd,b.constant=sf,b.countBy=_g,b.create=Oe,b.curry=ph,b.curryRight=qh,b.debounce=he,b.defaults=Dh,b.defer=rh,b.delay=sh,b.difference=Pg,b.drop=kd,b.dropRight=ld,b.dropRightWhile=md,b.dropWhile=nd,b.fill=od,b.filter=Td,b.flatten=qd,b.flattenDeep=rd,b.flow=th,b.flowRight=uh,b.forEach=ch,b.forEachRight=dh,b.forIn=Gh,b.forInRight=Hh,b.forOwn=Ih,b.forOwnRight=Jh,b.functions=Pe,b.groupBy=eh,b.indexBy=fh,b.initial=td,b.intersection=Sg,b.invert=Se,b.invoke=gh,b.keys=Kh,b.keysIn=Te,b.map=Wd,b.mapKeys=Lh,b.mapValues=Mh,b.matches=uf,b.matchesProperty=vf,b.memoize=ie,b.merge=Nh,b.method=Xh,b.methodOf=Yh,b.mixin=wf,b.negate=je,b.omit=Oh,b.once=ke,b.pairs=Ue,b.partial=vh,b.partialRight=wh,b.partition=hh,b.pick=Ph,b.pluck=Xd,b.property=zf,b.propertyOf=Af,b.pull=wd,b.pullAt=Tg,b.range=Bf,b.rearg=xh,b.reject=Yd,b.remove=xd,b.rest=yd,b.restParam=le,b.set=We,b.shuffle=$d,b.slice=zd,b.sortBy=be,b.sortByAll=kh,b.sortByOrder=ce,b.spread=me,b.take=Ad,b.takeRight=Bd,b.takeRightWhile=Cd,b.takeWhile=Dd,b.tap=Kd,b.throttle=ne,b.thru=Ld,b.times=Cf,b.toArray=Me,b.toPlainObject=Ne,b.transform=Xe,b.union=Wg,b.uniq=Ed,b.unzip=Fd,b.unzipWith=Gd,b.values=Ye,b.valuesIn=Ze,b.where=de,b.without=Xg,b.wrap=oe,b.xor=Hd,b.zip=Yg,b.zipObject=Id,b.zipWith=Zg,b.backflow=uh,b.collect=Wd,b.compose=uh,b.each=ch,b.eachRight=dh,b.extend=Ch,b.iteratee=rf,b.methods=Pe,b.object=Id,b.select=Td,b.tail=yd,b.unique=Ed,wf(b,b),b.add=Ef,b.attempt=Wh,b.camelCase=Qh,b.capitalize=af,b.clone=pe,b.cloneDeep=qe,b.deburr=bf,b.endsWith=cf,b.escape=df,b.escapeRegExp=ef,b.every=Sd,b.find=ah,b.findIndex=Qg,b.findKey=Eh,b.findLast=bh,b.findLastIndex=Rg,b.findLastKey=Fh,b.findWhere=Ud,b.first=pd,b.get=Qe,b.gt=re,b.gte=se,b.has=Re,b.identity=tf,b.includes=Vd,b.indexOf=sd,b.inRange=$e,b.isArguments=te,b.isArray=yh,b.isBoolean=ue,b.isDate=ve,b.isElement=we,b.isEmpty=xe,b.isEqual=ye,b.isError=ze,b.isFinite=zh,b.isFunction=Ah,b.isMatch=Be,b.isNaN=Ce,b.isNative=De,b.isNull=Ee,b.isNumber=Fe,b.isObject=Ae,b.isPlainObject=Bh,b.isRegExp=Ge,b.isString=He,b.isTypedArray=Ie,b.isUndefined=Je,b.kebabCase=Rh,b.last=ud,b.lastIndexOf=vd,b.lt=Ke,b.lte=Le,b.max=Zh,b.min=$h,b.noConflict=xf,b.noop=yf,b.now=lh,b.pad=ff,b.padLeft=Sh,b.padRight=Th,b.parseInt=gf,b.random=_e,b.reduce=ih,b.reduceRight=jh,b.repeat=hf,b.result=Ve,b.runInContext=x,b.size=_d,b.snakeCase=Uh,b.some=ae,b.sortedIndex=Ug,b.sortedLastIndex=Vg,b.startCase=Vh,b.startsWith=jf,b.sum=Ff,b.template=kf,b.trim=lf,b.trimLeft=mf,b.trimRight=nf,b.trunc=of,b.unescape=pf,b.uniqueId=Df,b.words=qf,b.all=Sd,b.any=ae,b.contains=Vd,b.eq=ye,b.detect=ah,b.foldl=ih,b.foldr=jh,b.head=pd,b.include=Vd,b.inject=ih,wf(b,function(){var a={};return Db(b,function(c,d){b.prototype[d]||(a[d]=c)}),a}(),!1),b.sample=Zd,b.prototype.sample=function(a){return this.__chain__||null!=a?this.thru(function(b){return Zd(b,a)}):Zd(this.value())},b.VERSION=z,ab(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){b[a].placeholder=b}),ab(["dropWhile","filter","map","takeWhile"],function(a,b){var c=b!=P,d=b==N;Y.prototype[a]=function(a,e){var f=this.__filtered__,g=f&&d?new Y(this):this.clone(),h=g.__iteratees__||(g.__iteratees__=[]);return h.push({done:!1,count:0,index:0,iteratee:Jc(a,e,1),limit:-1,type:b}),g.__filtered__=f||c,g}}),ab(["drop","take"],function(a,b){var c=a+"While";Y.prototype[a]=function(c){var d=this.__filtered__,e=d&&!b?this.dropWhile():this.clone();if(c=null==c?1:pg(cg(c)||0,0),d)b?e.__takeCount__=qg(e.__takeCount__,c):ud(e.__iteratees__).limit=c;else{var f=e.__views__||(e.__views__=[]);f.push({size:c,type:a+(e.__dir__<0?"Right":"")})}return e},Y.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()},Y.prototype[a+"RightWhile"]=function(a,b){return this.reverse()[c](a,b).reverse()}}),ab(["first","last"],function(a,b){var c="take"+(b?"Right":"");Y.prototype[a]=function(){return this[c](1).value()[0]}}),ab(["initial","rest"],function(a,b){var c="drop"+(b?"":"Right");Y.prototype[a]=function(){return this[c](1)}}),ab(["pluck","where"],function(a,b){var c=b?"filter":"map",d=b?Lb:zf;Y.prototype[a]=function(a){return this[c](d(a))}}),Y.prototype.compact=function(){return this.filter(tf)},Y.prototype.reject=function(a,b){return a=Jc(a,b,1),this.filter(function(b){return!a(b)})},Y.prototype.slice=function(a,b){a=null==a?0:+a||0;var c=this;return 0>a?c=this.takeRight(-a):a&&(c=this.drop(a)),b!==y&&(b=+b||0,c=0>b?c.dropRight(-b):c.take(b-a)),c},Y.prototype.toArray=function(){return this.drop(0)},Db(Y.prototype,function(a,c){var d=b[c];if(d){var e=/^(?:filter|map|reject)|While$/.test(c),f=/^(?:first|last)$/.test(c);b.prototype[c]=function(){var c=arguments,g=this.__chain__,h=this.__wrapped__,i=!!this.__actions__.length,j=h instanceof Y,k=c[0],l=j||yh(h);l&&e&&"function"==typeof k&&1!=k.length&&(j=l=!1);var m=j&&!i;if(f&&!g)return m?a.call(h):d.call(b,this.value());var n=function(a){var e=[a];return eg.apply(e,c),d.apply(b,e)};if(l){var o=m?h:new Y(this),p=a.apply(o,c);if(!f&&(i||p.__actions__)){var q=p.__actions__||(p.__actions__=[]);q.push({func:Ld,args:[n],thisArg:b})}return new r(p,g)}return this.thru(n)}}}),ab(["concat","join","pop","push","replace","shift","sort","splice","split","unshift"],function(a){var c=(/^(?:replace|split)$/.test(a)?Sf:Qf)[a],d=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",e=/^(?:join|pop|replace|shift)$/.test(a);b.prototype[a]=function(){var a=arguments;return e&&!this.__chain__?c.apply(this.value(),a):this[d](function(b){return c.apply(b,a)})}}),Db(Y.prototype,function(a,c){var d=b[c];if(d){var e=d.name,f=Dg[e]||(Dg[e]=[]);f.push({name:c,func:d})}}),Dg[Bc(null,B).name]=[{name:"wrapper",func:null}],Y.prototype.clone=aa,Y.prototype.reverse=ca,Y.prototype.value=Sa,b.prototype.chain=Md,b.prototype.commit=Nd,b.prototype.plant=Od,b.prototype.reverse=Pd,b.prototype.toString=Qd,b.prototype.run=b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=Rd,b.prototype.collect=b.prototype.map,b.prototype.head=b.prototype.first,b.prototype.select=b.prototype.filter,b.prototype.tail=b.prototype.rest,b}var y,z="3.9.2",A=1,B=2,C=4,D=8,E=16,F=32,G=64,H=128,I=256,J=30,K="...",L=150,M=16,N=0,O=1,P=2,Q="Expected a function",R="__lodash_placeholder__",S="[object Arguments]",T="[object Array]",U="[object Boolean]",V="[object Date]",W="[object Error]",X="[object Function]",Y="[object Map]",Z="[object Number]",$="[object Object]",_="[object RegExp]",aa="[object Set]",ba="[object String]",ca="[object WeakMap]",da="[object ArrayBuffer]",ea="[object Float32Array]",fa="[object Float64Array]",ga="[object Int8Array]",ha="[object Int16Array]",ia="[object Int32Array]",ja="[object Uint8Array]",ka="[object Uint8ClampedArray]",la="[object Uint16Array]",ma="[object Uint32Array]",na=/\b__p \+= '';/g,oa=/\b(__p \+=) '' \+/g,pa=/(__e\(.*?\)|\b__t\)) \+\n'';/g,qa=/&(?:amp|lt|gt|quot|#39|#96);/g,ra=/[&<>"'`]/g,sa=RegExp(qa.source),ta=RegExp(ra.source),ua=/<%-([\s\S]+?)%>/g,va=/<%([\s\S]+?)%>/g,wa=/<%=([\s\S]+?)%>/g,xa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,ya=/^\w*$/,za=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Aa=/[.*+?^${}()|[\]\/\\]/g,Ba=RegExp(Aa.source),Ca=/[\u0300-\u036f\ufe20-\ufe23]/g,Da=/\\(\\)?/g,Ea=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Fa=/\w*$/,Ga=/^0[xX]/,Ha=/^\[object .+?Constructor\]$/,Ia=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ja=/($^)/,Ka=/['\n\r\u2028\u2029\\]/g,La=function(){var a="[A-Z\\xc0-\\xd6\\xd8-\\xde]",b="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(a+"+(?="+a+b+")|"+a+"?"+b+"|"+a+"+|[0-9]+","g")}(),Ma=" 	\x0B\f \ufeff\n\r\u2028\u2029 ᠎             　",Na=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window"],Oa=-1,Pa={};Pa[ea]=Pa[fa]=Pa[ga]=Pa[ha]=Pa[ia]=Pa[ja]=Pa[ka]=Pa[la]=Pa[ma]=!0,Pa[S]=Pa[T]=Pa[da]=Pa[U]=Pa[V]=Pa[W]=Pa[X]=Pa[Y]=Pa[Z]=Pa[$]=Pa[_]=Pa[aa]=Pa[ba]=Pa[ca]=!1;var Qa={};Qa[S]=Qa[T]=Qa[da]=Qa[U]=Qa[V]=Qa[ea]=Qa[fa]=Qa[ga]=Qa[ha]=Qa[ia]=Qa[Z]=Qa[$]=Qa[_]=Qa[ba]=Qa[ja]=Qa[ka]=Qa[la]=Qa[ma]=!0,Qa[W]=Qa[X]=Qa[Y]=Qa[aa]=Qa[ca]=!1;var Ra={leading:!1,maxWait:0,trailing:!1},Sa={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Ta={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ua={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Va={"function":!0,object:!0},Wa={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xa=Va[typeof c]&&c&&!c.nodeType&&c,Ya=Va[typeof b]&&b&&!b.nodeType&&b,Za=Xa&&Ya&&"object"==typeof a&&a&&a.Object&&a,$a=Va[typeof self]&&self&&self.Object&&self,_a=Va[typeof window]&&window&&window.Object&&window,ab=Ya&&Ya.exports===Xa&&Xa,bb=Za||_a!==(this&&this.window)&&_a||$a||this,cb=x();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(bb._=cb,define(function(){return cb})):Xa&&Ya?ab?(Ya.exports=cb)._=cb:Xa._=cb:bb._=cb}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],31:[function(a,b,c){(function(c){(function(d){function e(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw new Error("Implement me")}}function f(a,b){return Ea.call(a,b)}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function h(a){ya.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function i(a,b){var c=!0;return r(function(){return c&&(h(a),c=!1),b.apply(this,arguments)},b)}function j(a,b){vb[a]||(h(b),vb[a]=!0)}function k(a,b){return function(c){return u(a.call(this,c),b)}}function l(a,b){return function(c){return this.localeData().ordinal(a.call(this,c),b)}}function m(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");
return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function n(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function o(){}function p(a,b){b!==!1&&K(a),s(this,a),this._d=new Date(+a._d),xb===!1&&(xb=!0,ya.updateOffset(this),xb=!1)}function q(a){var b=D(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=ya.localeData(),this._bubble()}function r(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);return f(b,"toString")&&(a.toString=b.toString),f(b,"valueOf")&&(a.valueOf=b.valueOf),a}function s(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=b._pf),"undefined"!=typeof b._locale&&(a._locale=b._locale),Na.length>0)for(c in Na)d=Na[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function t(a){return 0>a?Math.ceil(a):Math.floor(a)}function u(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function v(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function w(a,b){var c;return b=P(b,a),a.isBefore(b)?c=v(a,b):(c=v(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function x(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(j(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=ya.duration(c,d),y(this,e,a),this}}function y(a,b,c,d){var e=b._milliseconds,f=b._days,g=b._months;d=null==d?!0:d,e&&a._d.setTime(+a._d+e*c),f&&sa(a,"Date",ra(a,"Date")+f*c),g&&qa(a,ra(a,"Month")+g*c),d&&ya.updateOffset(a,f||g)}function z(a){return"[object Array]"===Object.prototype.toString.call(a)}function A(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function B(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&F(a[d])!==F(b[d]))&&g++;return g+f}function C(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=ob[a]||pb[b]||b}return a}function D(a){var b,c,d={};for(c in a)f(a,c)&&(b=C(c),b&&(d[b]=a[c]));return d}function E(a){var b,c;if(0===a.indexOf("week"))b=7,c="day";else{if(0!==a.indexOf("month"))return;b=12,c="month"}ya[a]=function(e,f){var g,h,i=ya._locale[a],j=[];if("number"==typeof e&&(f=e,e=d),h=function(a){var b=ya().utc().set(c,a);return i.call(ya._locale,b,e||"")},null!=f)return h(f);for(g=0;b>g;g++)j.push(h(g));return j}}function F(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function G(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function H(a,b,c){return ma(ya([a,11,31+b-c]),b,c).week}function I(a){return J(a)?366:365}function J(a){return a%4===0&&a%100!==0||a%400===0}function K(a){var b;a._a&&-2===a._pf.overflow&&(b=a._a[Ga]<0||a._a[Ga]>11?Ga:a._a[Ha]<1||a._a[Ha]>G(a._a[Fa],a._a[Ga])?Ha:a._a[Ia]<0||a._a[Ia]>24||24===a._a[Ia]&&(0!==a._a[Ja]||0!==a._a[Ka]||0!==a._a[La])?Ia:a._a[Ja]<0||a._a[Ja]>59?Ja:a._a[Ka]<0||a._a[Ka]>59?Ka:a._a[La]<0||a._a[La]>999?La:-1,a._pf._overflowDayOfYear&&(Fa>b||b>Ha)&&(b=Ha),a._pf.overflow=b)}function L(a){return null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&a._pf.overflow<0&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length&&a._pf.bigHour===d)),a._isValid}function M(a){return a?a.toLowerCase().replace("_","-"):a}function N(a){for(var b,c,d,e,f=0;f<a.length;){for(e=M(a[f]).split("-"),b=e.length,c=M(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=O(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&B(e,c,!0)>=b-1)break;b--}f++}return null}function O(b){var c=null;if(!Ma[b]&&Oa)try{c=ya.locale(),a("./locale/"+b),ya.locale(c)}catch(d){}return Ma[b]}function P(a,b){var c,d;return b._isUTC?(c=b.clone(),d=(ya.isMoment(a)||A(a)?+a:+ya(a))-+c,c._d.setTime(+c._d+d),ya.updateOffset(c,!1),c):ya(a).local()}function Q(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function R(a){var b,c,d=a.match(Sa);for(b=0,c=d.length;c>b;b++)ub[d[b]]?d[b]=ub[d[b]]:d[b]=Q(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function S(a,b){return a.isValid()?(b=T(b,a.localeData()),qb[b]||(qb[b]=R(b)),qb[b](a)):a.localeData().invalidDate()}function T(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Ta.lastIndex=0;d>=0&&Ta.test(a);)a=a.replace(Ta,c),Ta.lastIndex=0,d-=1;return a}function U(a,b){var c,d=b._strict;switch(a){case"Q":return cb;case"DDDD":return eb;case"YYYY":case"GGGG":case"gggg":return d?fb:Wa;case"Y":case"G":case"g":return hb;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return d?gb:Xa;case"S":if(d)return cb;case"SS":if(d)return db;case"SSS":if(d)return eb;case"DDD":return Va;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Za;case"a":case"A":return b._locale._meridiemParse;case"x":return ab;case"X":return bb;case"Z":case"ZZ":return $a;case"T":return _a;case"SSSS":return Ya;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return d?db:Ua;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Ua;case"Do":return d?b._locale._ordinalParse:b._locale._ordinalParseLenient;default:return c=new RegExp(ba(aa(a.replace("\\","")),"i"))}}function V(a){a=a||"";var b=a.match($a)||[],c=b[b.length-1]||[],d=(c+"").match(mb)||["-",0,0],e=+(60*d[1])+F(d[2]);return"+"===d[0]?e:-e}function W(a,b,c){var d,e=c._a;switch(a){case"Q":null!=b&&(e[Ga]=3*(F(b)-1));break;case"M":case"MM":null!=b&&(e[Ga]=F(b)-1);break;case"MMM":case"MMMM":d=c._locale.monthsParse(b,a,c._strict),null!=d?e[Ga]=d:c._pf.invalidMonth=b;break;case"D":case"DD":null!=b&&(e[Ha]=F(b));break;case"Do":null!=b&&(e[Ha]=F(parseInt(b.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=b&&(c._dayOfYear=F(b));break;case"YY":e[Fa]=ya.parseTwoDigitYear(b);break;case"YYYY":case"YYYYY":case"YYYYYY":e[Fa]=F(b);break;case"a":case"A":c._meridiem=b;break;case"h":case"hh":c._pf.bigHour=!0;case"H":case"HH":e[Ia]=F(b);break;case"m":case"mm":e[Ja]=F(b);break;case"s":case"ss":e[Ka]=F(b);break;case"S":case"SS":case"SSS":case"SSSS":e[La]=F(1e3*("0."+b));break;case"x":c._d=new Date(F(b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=V(b);break;case"dd":case"ddd":case"dddd":d=c._locale.weekdaysParse(b),null!=d?(c._w=c._w||{},c._w.d=d):c._pf.invalidWeekday=b;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":a=a.substr(0,1);case"gggg":case"GGGG":case"GGGGG":a=a.substr(0,2),b&&(c._w=c._w||{},c._w[a]=F(b));break;case"gg":case"GG":c._w=c._w||{},c._w[a]=ya.parseTwoDigitYear(b)}}function X(a){var b,c,d,f,g,h,i;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(g=1,h=4,c=e(b.GG,a._a[Fa],ma(ya(),1,4).year),d=e(b.W,1),f=e(b.E,1)):(g=a._locale._week.dow,h=a._locale._week.doy,c=e(b.gg,a._a[Fa],ma(ya(),g,h).year),d=e(b.w,1),null!=b.d?(f=b.d,g>f&&++d):f=null!=b.e?b.e+g:g),i=na(c,d,f,h,g),a._a[Fa]=i.year,a._dayOfYear=i.dayOfYear}function Y(a){var b,c,d,f,g=[];if(!a._d){for(d=$(a),a._w&&null==a._a[Ha]&&null==a._a[Ga]&&X(a),a._dayOfYear&&(f=e(a._a[Fa],d[Fa]),a._dayOfYear>I(f)&&(a._pf._overflowDayOfYear=!0),c=ia(f,0,a._dayOfYear),a._a[Ga]=c.getUTCMonth(),a._a[Ha]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=g[b]=d[b];for(;7>b;b++)a._a[b]=g[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[Ia]&&0===a._a[Ja]&&0===a._a[Ka]&&0===a._a[La]&&(a._nextDay=!0,a._a[Ia]=0),a._d=(a._useUTC?ia:ha).apply(null,g),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[Ia]=24)}}function Z(a){var b;a._d||(b=D(a._i),a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],Y(a))}function $(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function _(a){if(a._f===ya.ISO_8601)return void da(a);a._a=[],a._pf.empty=!0;var b,c,e,f,g,h=""+a._i,i=h.length,j=0;for(e=T(a._f,a._locale).match(Sa)||[],b=0;b<e.length;b++)f=e[b],c=(h.match(U(f,a))||[])[0],c&&(g=h.substr(0,h.indexOf(c)),g.length>0&&a._pf.unusedInput.push(g),h=h.slice(h.indexOf(c)+c.length),j+=c.length),ub[f]?(c?a._pf.empty=!1:a._pf.unusedTokens.push(f),W(f,c,a)):a._strict&&!c&&a._pf.unusedTokens.push(f);a._pf.charsLeftOver=i-j,h.length>0&&a._pf.unusedInput.push(h),a._pf.bigHour===!0&&a._a[Ia]<=12&&(a._pf.bigHour=d),a._a[Ia]=n(a._locale,a._a[Ia],a._meridiem),Y(a),K(a)}function aa(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function ba(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ca(a){var b,c,d,e,f;if(0===a._f.length)return a._pf.invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=s({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._pf=g(),b._f=a._f[e],_(b),L(b)&&(f+=b._pf.charsLeftOver,f+=10*b._pf.unusedTokens.length,b._pf.score=f,(null==d||d>f)&&(d=f,c=b));r(a,c||b)}function da(a){var b,c,d=a._i,e=ib.exec(d);if(e){for(a._pf.iso=!0,b=0,c=kb.length;c>b;b++)if(kb[b][1].exec(d)){a._f=kb[b][0]+(e[6]||" ");break}for(b=0,c=lb.length;c>b;b++)if(lb[b][1].exec(d)){a._f+=lb[b][0];break}d.match($a)&&(a._f+="Z"),_(a)}else a._isValid=!1}function ea(a){da(a),a._isValid===!1&&(delete a._isValid,ya.createFromInputFallback(a))}function fa(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function ga(a){var b,c=a._i;c===d?a._d=new Date:A(c)?a._d=new Date(+c):null!==(b=Pa.exec(c))?a._d=new Date(+b[1]):"string"==typeof c?ea(a):z(c)?(a._a=fa(c.slice(0),function(a){return parseInt(a,10)}),Y(a)):"object"==typeof c?Z(a):"number"==typeof c?a._d=new Date(c):ya.createFromInputFallback(a)}function ha(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function ia(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function ja(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function ka(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function la(a,b,c){var d=ya.duration(a).abs(),e=Da(d.as("s")),f=Da(d.as("m")),g=Da(d.as("h")),h=Da(d.as("d")),i=Da(d.as("M")),j=Da(d.as("y")),k=e<rb.s&&["s",e]||1===f&&["m"]||f<rb.m&&["mm",f]||1===g&&["h"]||g<rb.h&&["hh",g]||1===h&&["d"]||h<rb.d&&["dd",h]||1===i&&["M"]||i<rb.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,ka.apply({},k)}function ma(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=ya(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function na(a,b,c,d,e){var f,g,h=ia(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:I(a-1)+g}}function oa(a){var b,c=a._i,e=a._f;return a._locale=a._locale||ya.localeData(a._l),null===c||e===d&&""===c?ya.invalid({nullInput:!0}):("string"==typeof c&&(a._i=c=a._locale.preparse(c)),ya.isMoment(c)?new p(c,!0):(e?z(e)?ca(a):_(a):ga(a),b=new p(a),b._nextDay&&(b.add(1,"d"),b._nextDay=d),b))}function pa(a,b){var c,d;if(1===b.length&&z(b[0])&&(b=b[0]),!b.length)return ya();for(c=b[0],d=1;d<b.length;++d)b[d][a](c)&&(c=b[d]);return c}function qa(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),G(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function ra(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function sa(a,b,c){return"Month"===b?qa(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)}function ta(a,b){return function(c){return null!=c?(sa(this,a,c),ya.updateOffset(this,b),this):ra(this,a)}}function ua(a){return 400*a/146097}function va(a){return 146097*a/400}function wa(a){ya.duration.fn[a]=function(){return this._data[a]}}function xa(a){"undefined"==typeof ender&&(za=Ca.moment,a?Ca.moment=i("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",ya):Ca.moment=ya)}for(var ya,za,Aa,Ba="2.9.0",Ca="undefined"==typeof c||"undefined"!=typeof window&&window!==c.window?this:c,Da=Math.round,Ea=Object.prototype.hasOwnProperty,Fa=0,Ga=1,Ha=2,Ia=3,Ja=4,Ka=5,La=6,Ma={},Na=[],Oa="undefined"!=typeof b&&b&&b.exports,Pa=/^\/?Date\((\-?\d+)/i,Qa=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ra=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Sa=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Ta=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ua=/\d\d?/,Va=/\d{1,3}/,Wa=/\d{1,4}/,Xa=/[+\-]?\d{1,6}/,Ya=/\d+/,Za=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,$a=/Z|[\+\-]\d\d:?\d\d/gi,_a=/T/i,ab=/[\+\-]?\d+/,bb=/[\+\-]?\d+(\.\d{1,3})?/,cb=/\d/,db=/\d\d/,eb=/\d{3}/,fb=/\d{4}/,gb=/[+-]?\d{6}/,hb=/[+-]?\d+/,ib=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,jb="YYYY-MM-DDTHH:mm:ssZ",kb=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],lb=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],mb=/([\+\-]|\d\d)/gi,nb=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),ob={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},pb={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},qb={},rb={s:45,m:45,h:22,d:26,M:11},sb="DDD w W M D d".split(" "),tb="M D H h m s w W".split(" "),ub={M:function(){return this.month()+1},MMM:function(a){return this.localeData().monthsShort(this,a)},MMMM:function(a){return this.localeData().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.localeData().weekdaysMin(this,a)},ddd:function(a){return this.localeData().weekdaysShort(this,a)},dddd:function(a){return this.localeData().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return u(this.year()%100,2)},YYYY:function(){return u(this.year(),4)},YYYYY:function(){return u(this.year(),5)},YYYYYY:function(){var a=this.year(),b=a>=0?"+":"-";return b+u(Math.abs(a),6)},gg:function(){return u(this.weekYear()%100,2)},gggg:function(){return u(this.weekYear(),4)},ggggg:function(){return u(this.weekYear(),5)},GG:function(){return u(this.isoWeekYear()%100,2)},GGGG:function(){return u(this.isoWeekYear(),4)},GGGGG:function(){return u(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return F(this.milliseconds()/100)},SS:function(){return u(F(this.milliseconds()/10),2)},SSS:function(){return u(this.milliseconds(),3)},SSSS:function(){return u(this.milliseconds(),3)},Z:function(){var a=this.utcOffset(),b="+";return 0>a&&(a=-a,b="-"),b+u(F(a/60),2)+":"+u(F(a)%60,2)},ZZ:function(){var a=this.utcOffset(),b="+";return 0>a&&(a=-a,b="-"),b+u(F(a/60),2)+u(F(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},vb={},wb=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],xb=!1;sb.length;)Aa=sb.pop(),ub[Aa+"o"]=l(ub[Aa],Aa);for(;tb.length;)Aa=tb.pop(),ub[Aa+Aa]=k(ub[Aa],2);ub.DDDD=k(ub.DDD,3),r(o.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=ya.utc([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=ya([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.apply(b,[c]):d},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(a){return a},postformat:function(a){return a},week:function(a){return ma(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),ya=function(a,b,c,e){var f;return"boolean"==typeof c&&(e=c,c=d),f={},f._isAMomentObject=!0,f._i=a,f._f=b,f._l=c,f._strict=e,f._isUTC=!1,f._pf=g(),oa(f)},ya.suppressDeprecationWarnings=!1,ya.createFromInputFallback=i("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),ya.min=function(){var a=[].slice.call(arguments,0);return pa("isBefore",a)},ya.max=function(){var a=[].slice.call(arguments,0);return pa("isAfter",a)},ya.utc=function(a,b,c,e){var f;return"boolean"==typeof c&&(e=c,c=d),f={},f._isAMomentObject=!0,f._useUTC=!0,f._isUTC=!0,f._l=c,f._i=a,f._f=b,f._strict=e,f._pf=g(),oa(f).utc()},ya.unix=function(a){return ya(1e3*a)},ya.duration=function(a,b){var c,d,e,g,h=a,i=null;return ya.isDuration(a)?h={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(h={},b?h[b]=a:h.milliseconds=a):(i=Qa.exec(a))?(c="-"===i[1]?-1:1,h={y:0,d:F(i[Ha])*c,h:F(i[Ia])*c,m:F(i[Ja])*c,s:F(i[Ka])*c,ms:F(i[La])*c}):(i=Ra.exec(a))?(c="-"===i[1]?-1:1,e=function(a){var b=a&&parseFloat(a.replace(",","."));return(isNaN(b)?0:b)*c},h={y:e(i[2]),M:e(i[3]),d:e(i[4]),h:e(i[5]),m:e(i[6]),s:e(i[7]),w:e(i[8])}):null==h?h={}:"object"==typeof h&&("from"in h||"to"in h)&&(g=w(ya(h.from),ya(h.to)),h={},h.ms=g.milliseconds,h.M=g.months),d=new q(h),ya.isDuration(a)&&f(a,"_locale")&&(d._locale=a._locale),d},ya.version=Ba,ya.defaultFormat=jb,ya.ISO_8601=function(){},ya.momentProperties=Na,ya.updateOffset=function(){},ya.relativeTimeThreshold=function(a,b){return rb[a]===d?!1:b===d?rb[a]:(rb[a]=b,!0)},ya.lang=i("moment.lang is deprecated. Use moment.locale instead.",function(a,b){return ya.locale(a,b)}),ya.locale=function(a,b){var c;return a&&(c="undefined"!=typeof b?ya.defineLocale(a,b):ya.localeData(a),c&&(ya.duration._locale=ya._locale=c)),ya._locale._abbr},ya.defineLocale=function(a,b){return null!==b?(b.abbr=a,Ma[a]||(Ma[a]=new o),Ma[a].set(b),ya.locale(a),Ma[a]):(delete Ma[a],null)},ya.langData=i("moment.langData is deprecated. Use moment.localeData instead.",function(a){return ya.localeData(a)}),ya.localeData=function(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return ya._locale;if(!z(a)){if(b=O(a))return b;a=[a]}return N(a)},ya.isMoment=function(a){return a instanceof p||null!=a&&f(a,"_isAMomentObject")},ya.isDuration=function(a){return a instanceof q};for(Aa=wb.length-1;Aa>=0;--Aa)E(wb[Aa]);ya.normalizeUnits=function(a){return C(a)},ya.invalid=function(a){var b=ya.utc(NaN);return null!=a?r(b._pf,a):b._pf.userInvalidated=!0,b},ya.parseZone=function(){return ya.apply(null,arguments).parseZone()},ya.parseTwoDigitYear=function(a){return F(a)+(F(a)>68?1900:2e3)},ya.isDate=A,r(ya.fn=p.prototype,{clone:function(){return ya(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=ya(this).utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():S(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):S(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return L(this)},isDSTShifted:function(){return this._a?this.isValid()&&B(this._a,(this._isUTC?ya.utc(this._a):ya(this._a)).toArray())>0:!1},parsingFlags:function(){return r({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(a){return this.utcOffset(0,a)},local:function(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(a){var b=S(this,a||ya.defaultFormat);return this.localeData().postformat(b)},add:x(1,"add"),subtract:x(-1,"subtract"),diff:function(a,b,c){var d,e,f=P(a,this),g=6e4*(f.utcOffset()-this.utcOffset());return b=C(b),"year"===b||"month"===b||"quarter"===b?(e=m(this,f),"quarter"===b?e/=3:"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:t(e)},from:function(a,b){return ya.duration({to:this,from:a}).locale(this.locale()).humanize(!b)},fromNow:function(a){return this.from(ya(),a)},calendar:function(a){var b=a||ya(),c=P(b,this).startOf("day"),d=this.diff(c,"days",!0),e=-6>d?"sameElse":-1>d?"lastWeek":0>d?"lastDay":1>d?"sameDay":2>d?"nextDay":7>d?"nextWeek":"sameElse";return this.format(this.localeData().calendar(e,this,ya(b)))},isLeapYear:function(){return J(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=ja(a,this.localeData()),this.add(a-b,"d")):b},month:ta("Month",!0),startOf:function(a){switch(a=C(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(a){return a=C(a),a===d||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")},isAfter:function(a,b){var c;return b=C("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=ya.isMoment(a)?a:ya(a),+this>+a):(c=ya.isMoment(a)?+a:+ya(a),c<+this.clone().startOf(b))},isBefore:function(a,b){var c;return b=C("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=ya.isMoment(a)?a:ya(a),+a>+this):(c=ya.isMoment(a)?+a:+ya(a),+this.clone().endOf(b)<c)},isBetween:function(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)},isSame:function(a,b){var c;return b=C(b||"millisecond"),"millisecond"===b?(a=ya.isMoment(a)?a:ya(a),+this===+a):(c=+ya(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))},min:i("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(a){return a=ya.apply(null,arguments),this>a?this:a}),max:i("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(a){return a=ya.apply(null,arguments),a>this?this:a}),zone:i("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}),utcOffset:function(a,b){var c,d=this._offset||0;return null!=a?("string"==typeof a&&(a=V(a)),Math.abs(a)<16&&(a=60*a),!this._isUTC&&b&&(c=this._dateUtcOffset()),this._offset=a,this._isUTC=!0,null!=c&&this.add(c,"m"),d!==a&&(!b||this._changeInProgress?y(this,ya.duration(a-d,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ya.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?d:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(V(this._i)),this},hasAlignedHourOffset:function(a){return a=a?ya(a).utcOffset():0,(this.utcOffset()-a)%60===0},daysInMonth:function(){return G(this.year(),this.month())},dayOfYear:function(a){var b=Da((ya(this).startOf("day")-ya(this).startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=ma(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")},isoWeekYear:function(a){var b=ma(this,1,4).year;return null==a?b:this.add(a-b,"y")},week:function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")},isoWeek:function(a){var b=ma(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")},weekday:function(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return H(this.year(),1,4)},weeksInYear:function(){var a=this.localeData()._week;return H(this.year(),a.dow,a.doy)},get:function(a){return a=C(a),this[a]()},set:function(a,b){var c;if("object"==typeof a)for(c in a)this.set(c,a[c]);else a=C(a),"function"==typeof this[a]&&this[a](b);return this},locale:function(a){var b;return a===d?this._locale._abbr:(b=ya.localeData(a),null!=b&&(this._locale=b),this)},lang:i("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return a===d?this.localeData():this.locale(a)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),ya.fn.millisecond=ya.fn.milliseconds=ta("Milliseconds",!1),ya.fn.second=ya.fn.seconds=ta("Seconds",!1),ya.fn.minute=ya.fn.minutes=ta("Minutes",!1),ya.fn.hour=ya.fn.hours=ta("Hours",!0),ya.fn.date=ta("Date",!0),ya.fn.dates=i("dates accessor is deprecated. Use date instead.",ta("Date",!0)),ya.fn.year=ta("FullYear",!0),ya.fn.years=i("years accessor is deprecated. Use year instead.",ta("FullYear",!0)),ya.fn.days=ya.fn.day,ya.fn.months=ya.fn.month,ya.fn.weeks=ya.fn.week,ya.fn.isoWeeks=ya.fn.isoWeek,ya.fn.quarters=ya.fn.quarter,ya.fn.toJSON=ya.fn.toISOString,ya.fn.isUTC=ya.fn.isUtc,r(ya.duration.fn=q.prototype,{_bubble:function(){var a,b,c,d=this._milliseconds,e=this._days,f=this._months,g=this._data,h=0;g.milliseconds=d%1e3,a=t(d/1e3),g.seconds=a%60,b=t(a/60),g.minutes=b%60,c=t(b/60),g.hours=c%24,e+=t(c/24),h=t(ua(e)),e-=t(va(h)),f+=t(e/30),e%=30,h+=t(f/12),f%=12,g.days=e,g.months=f,g.years=h},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return t(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*F(this._months/12)},humanize:function(a){var b=la(this,!a,this.localeData());return a&&(b=this.localeData().pastFuture(+this,b)),this.localeData().postformat(b)},add:function(a,b){var c=ya.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=ya.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=C(a),this[a.toLowerCase()+"s"]()},as:function(a){var b,c;if(a=C(a),"month"===a||"year"===a)return b=this._days+this._milliseconds/864e5,c=this._months+12*ua(b),"month"===a?c:c/12;switch(b=this._days+Math.round(va(this._months/12)),a){case"week":return b/7+this._milliseconds/6048e5;case"day":return b+this._milliseconds/864e5;case"hour":return 24*b+this._milliseconds/36e5;case"minute":return 24*b*60+this._milliseconds/6e4;
case"second":return 24*b*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*b*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+a)}},lang:ya.fn.lang,locale:ya.fn.locale,toIsoString:i("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),ya.duration.fn.toString=ya.duration.fn.toISOString;for(Aa in nb)f(nb,Aa)&&wa(Aa.toLowerCase());ya.duration.fn.asMilliseconds=function(){return this.as("ms")},ya.duration.fn.asSeconds=function(){return this.as("s")},ya.duration.fn.asMinutes=function(){return this.as("m")},ya.duration.fn.asHours=function(){return this.as("h")},ya.duration.fn.asDays=function(){return this.as("d")},ya.duration.fn.asWeeks=function(){return this.as("weeks")},ya.duration.fn.asMonths=function(){return this.as("M")},ya.duration.fn.asYears=function(){return this.as("y")},ya.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===F(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),Oa?b.exports=ya:"function"==typeof define&&define.amd?(define(function(a,b,c){return c.config&&c.config()&&c.config().noGlobal===!0&&(Ca.moment=za),ya}),xa(!0)):xa()}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],32:[function(a,b,c){(function(){function a(a){this._value=a}function c(a,b,c,d){var e,f,g=Math.pow(10,b);return f=(c(a*g)/g).toFixed(b),d&&(e=new RegExp("0{1,"+d+"}$"),f=f.replace(e,"")),f}function d(a,b,c){var d;return d=b.indexOf("$")>-1?f(a,b,c):b.indexOf("%")>-1?g(a,b,c):b.indexOf(":")>-1?h(a,b):j(a._value,b,c)}function e(a,b){var c,d,e,f,g,h=b,j=["KB","MB","GB","TB","PB","EB","ZB","YB"],k=!1;if(b.indexOf(":")>-1)a._value=i(b);else if(b===r)a._value=0;else{for("."!==p[q].delimiters.decimal&&(b=b.replace(/\./g,"").replace(p[q].delimiters.decimal,".")),c=new RegExp("[^a-zA-Z]"+p[q].abbreviations.thousand+"(?:\\)|(\\"+p[q].currency.symbol+")?(?:\\))?)?$"),d=new RegExp("[^a-zA-Z]"+p[q].abbreviations.million+"(?:\\)|(\\"+p[q].currency.symbol+")?(?:\\))?)?$"),e=new RegExp("[^a-zA-Z]"+p[q].abbreviations.billion+"(?:\\)|(\\"+p[q].currency.symbol+")?(?:\\))?)?$"),f=new RegExp("[^a-zA-Z]"+p[q].abbreviations.trillion+"(?:\\)|(\\"+p[q].currency.symbol+")?(?:\\))?)?$"),g=0;g<=j.length&&!(k=b.indexOf(j[g])>-1?Math.pow(1024,g+1):!1);g++);a._value=(k?k:1)*(h.match(c)?Math.pow(10,3):1)*(h.match(d)?Math.pow(10,6):1)*(h.match(e)?Math.pow(10,9):1)*(h.match(f)?Math.pow(10,12):1)*(b.indexOf("%")>-1?.01:1)*((b.split("-").length+Math.min(b.split("(").length-1,b.split(")").length-1))%2?1:-1)*Number(b.replace(/[^0-9\.]+/g,"")),a._value=k?Math.ceil(a._value):a._value}return a._value}function f(a,b,c){var d,e,f=b.indexOf("$"),g=b.indexOf("("),h=b.indexOf("-"),i="";return b.indexOf(" $")>-1?(i=" ",b=b.replace(" $","")):b.indexOf("$ ")>-1?(i=" ",b=b.replace("$ ","")):b=b.replace("$",""),e=j(a._value,b,c),1>=f?e.indexOf("(")>-1||e.indexOf("-")>-1?(e=e.split(""),d=1,(g>f||h>f)&&(d=0),e.splice(d,0,p[q].currency.symbol+i),e=e.join("")):e=p[q].currency.symbol+i+e:e.indexOf(")")>-1?(e=e.split(""),e.splice(-1,0,i+p[q].currency.symbol),e=e.join("")):e=e+i+p[q].currency.symbol,e}function g(a,b,c){var d,e="",f=100*a._value;return b.indexOf(" %")>-1?(e=" ",b=b.replace(" %","")):b=b.replace("%",""),d=j(f,b,c),d.indexOf(")")>-1?(d=d.split(""),d.splice(-1,0,e+"%"),d=d.join("")):d=d+e+"%",d}function h(a){var b=Math.floor(a._value/60/60),c=Math.floor((a._value-60*b*60)/60),d=Math.round(a._value-60*b*60-60*c);return b+":"+(10>c?"0"+c:c)+":"+(10>d?"0"+d:d)}function i(a){var b=a.split(":"),c=0;return 3===b.length?(c+=60*Number(b[0])*60,c+=60*Number(b[1]),c+=Number(b[2])):2===b.length&&(c+=60*Number(b[0]),c+=Number(b[1])),Number(c)}function j(a,b,d){var e,f,g,h,i,j,k=!1,l=!1,m=!1,n="",o=!1,s=!1,t=!1,u=!1,v=!1,w="",x="",y=Math.abs(a),z=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],A="",B=!1;if(0===a&&null!==r)return r;if(b.indexOf("(")>-1?(k=!0,b=b.slice(1,-1)):b.indexOf("+")>-1&&(l=!0,b=b.replace(/\+/g,"")),b.indexOf("a")>-1&&(o=b.indexOf("aK")>=0,s=b.indexOf("aM")>=0,t=b.indexOf("aB")>=0,u=b.indexOf("aT")>=0,v=o||s||t||u,b.indexOf(" a")>-1?(n=" ",b=b.replace(" a","")):b=b.replace("a",""),y>=Math.pow(10,12)&&!v||u?(n+=p[q].abbreviations.trillion,a/=Math.pow(10,12)):y<Math.pow(10,12)&&y>=Math.pow(10,9)&&!v||t?(n+=p[q].abbreviations.billion,a/=Math.pow(10,9)):y<Math.pow(10,9)&&y>=Math.pow(10,6)&&!v||s?(n+=p[q].abbreviations.million,a/=Math.pow(10,6)):(y<Math.pow(10,6)&&y>=Math.pow(10,3)&&!v||o)&&(n+=p[q].abbreviations.thousand,a/=Math.pow(10,3))),b.indexOf("b")>-1)for(b.indexOf(" b")>-1?(w=" ",b=b.replace(" b","")):b=b.replace("b",""),g=0;g<=z.length;g++)if(e=Math.pow(1024,g),f=Math.pow(1024,g+1),a>=e&&f>a){w+=z[g],e>0&&(a/=e);break}return b.indexOf("o")>-1&&(b.indexOf(" o")>-1?(x=" ",b=b.replace(" o","")):b=b.replace("o",""),x+=p[q].ordinal(a)),b.indexOf("[.]")>-1&&(m=!0,b=b.replace("[.]",".")),h=a.toString().split(".")[0],i=b.split(".")[1],j=b.indexOf(","),i?(i.indexOf("[")>-1?(i=i.replace("]",""),i=i.split("["),A=c(a,i[0].length+i[1].length,d,i[1].length)):A=c(a,i.length,d),h=A.split(".")[0],A=A.split(".")[1].length?p[q].delimiters.decimal+A.split(".")[1]:"",m&&0===Number(A.slice(1))&&(A="")):h=c(a,null,d),h.indexOf("-")>-1&&(h=h.slice(1),B=!0),j>-1&&(h=h.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+p[q].delimiters.thousands)),0===b.indexOf(".")&&(h=""),(k&&B?"(":"")+(!k&&B?"-":"")+(!B&&l?"+":"")+h+A+(x?x:"")+(n?n:"")+(w?w:"")+(k&&B?")":"")}function k(a,b){p[a]=b}function l(a){var b=a.toString().split(".");return b.length<2?1:Math.pow(10,b[1].length)}function m(){var a=Array.prototype.slice.call(arguments);return a.reduce(function(a,b){var c=l(a),d=l(b);return c>d?c:d},-(1/0))}var n,o="1.5.3",p={},q="en",r=null,s="0,0",t="undefined"!=typeof b&&b.exports;n=function(b){return n.isNumeral(b)?b=b.value():0===b||"undefined"==typeof b?b=0:Number(b)||(b=n.fn.unformat(b)),new a(Number(b))},n.version=o,n.isNumeral=function(b){return b instanceof a},n.language=function(a,b){if(!a)return q;if(a&&!b){if(!p[a])throw new Error("Unknown language : "+a);q=a}return!b&&p[a]||k(a,b),n},n.languageData=function(a){if(!a)return p[q];if(!p[a])throw new Error("Unknown language : "+a);return p[a]},n.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(a){var b=a%10;return 1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"},currency:{symbol:"$"}}),n.zeroFormat=function(a){r="string"==typeof a?a:null},n.defaultFormat=function(a){s="string"==typeof a?a:"0.0"},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(a,b){"use strict";if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof a)throw new TypeError(a+" is not a function");var c,d,e=this.length>>>0,f=!1;for(1<arguments.length&&(d=b,f=!0),c=0;e>c;++c)this.hasOwnProperty(c)&&(f?d=a(d,this[c],c,this):(d=this[c],f=!0));if(!f)throw new TypeError("Reduce of empty array with no initial value");return d}),n.fn=a.prototype={clone:function(){return n(this)},format:function(a,b){return d(this,a?a:s,void 0!==b?b:Math.round)},unformat:function(a){return"[object Number]"===Object.prototype.toString.call(a)?a:e(this,a?a:s)},value:function(){return this._value},valueOf:function(){return this._value},set:function(a){return this._value=Number(a),this},add:function(a){function b(a,b,d,e){return a+c*b}var c=m.call(null,this._value,a);return this._value=[this._value,a].reduce(b,0)/c,this},subtract:function(a){function b(a,b,d,e){return a-c*b}var c=m.call(null,this._value,a);return this._value=[a].reduce(b,this._value*c)/c,this},multiply:function(a){function b(a,b,c,d){var e=m(a,b);return a*e*(b*e)/(e*e)}return this._value=[this._value,a].reduce(b,1),this},divide:function(a){function b(a,b,c,d){var e=m(a,b);return a*e/(b*e)}return this._value=[this._value,a].reduce(b),this},difference:function(a){return Math.abs(n(this._value).subtract(a).value())}},t&&(b.exports=n),"undefined"==typeof ender&&(this.numeral=n),"function"==typeof define&&define.amd&&define([],function(){return n})}).call(this)},{}],33:[function(a,b,c){function d(a){var b=!1;return function(){return b?void 0:(b=!0,a.apply(this,arguments))}}b.exports=d,d.proto=d(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return d(this)},configurable:!0})})},{}],34:[function(a,b,c){var d=a("trim"),e=a("for-each"),f=function(a){return"[object Array]"===Object.prototype.toString.call(a)};b.exports=function(a){if(!a)return{};var b={};return e(d(a).split("\n"),function(a){var c=a.indexOf(":"),e=d(a.slice(0,c)).toLowerCase(),g=d(a.slice(c+1));"undefined"==typeof b[e]?b[e]=g:f(b[e])?b[e].push(g):b[e]=[b[e],g]}),b}},{"for-each":23,trim:54}],35:[function(a,b,c){(function(a){function b(a,b){for(var c=0,d=a.length-1;d>=0;d--){var e=a[d];"."===e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}function d(a,b){if(a.filter)return a.filter(b);for(var c=[],d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,f=function(a){return e.exec(a).slice(1)};c.resolve=function(){for(var c="",e=!1,f=arguments.length-1;f>=-1&&!e;f--){var g=f>=0?arguments[f]:a.cwd();if("string"!=typeof g)throw new TypeError("Arguments to path.resolve must be strings");g&&(c=g+"/"+c,e="/"===g.charAt(0))}return c=b(d(c.split("/"),function(a){return!!a}),!e).join("/"),(e?"/":"")+c||"."},c.normalize=function(a){var e=c.isAbsolute(a),f="/"===g(a,-1);return a=b(d(a.split("/"),function(a){return!!a}),!e).join("/"),a||e||(a="."),a&&f&&(a+="/"),(e?"/":"")+a},c.isAbsolute=function(a){return"/"===a.charAt(0)},c.join=function(){var a=Array.prototype.slice.call(arguments,0);return c.normalize(d(a,function(a,b){if("string"!=typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))},c.relative=function(a,b){function d(a){for(var b=0;b<a.length&&""===a[b];b++);for(var c=a.length-1;c>=0&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}a=c.resolve(a).substr(1),b=c.resolve(b).substr(1);for(var e=d(a.split("/")),f=d(b.split("/")),g=Math.min(e.length,f.length),h=g,i=0;g>i;i++)if(e[i]!==f[i]){h=i;break}for(var j=[],i=h;i<e.length;i++)j.push("..");return j=j.concat(f.slice(h)),j.join("/")},c.sep="/",c.delimiter=":",c.dirname=function(a){var b=f(a),c=b[0],d=b[1];return c||d?(d&&(d=d.substr(0,d.length-1)),c+d):"."},c.basename=function(a,b){var c=f(a)[2];return b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length)),c},c.extname=function(a){return f(a)[3]};var g="b"==="ab".substr(-1)?function(a,b,c){return a.substr(b,c)}:function(a,b,c){return 0>b&&(b=a.length+b),a.substr(b,c)}}).call(this,a("_process"))},{_process:8}],36:[function(a,b,c){"use strict";b.exports=a("./lib/core.js"),a("./lib/done.js"),a("./lib/es6-extensions.js"),a("./lib/node-extensions.js")},{"./lib/core.js":37,"./lib/done.js":38,"./lib/es6-extensions.js":39,"./lib/node-extensions.js":40}],37:[function(a,b,c){"use strict";function d(a){function b(a){return null===i?void k.push(a):void g(function(){var b=i?a.onFulfilled:a.onRejected;if(null===b)return void(i?a.resolve:a.reject)(j);var c;try{c=b(j)}catch(d){return void a.reject(d)}a.resolve(c)})}function c(a){try{if(a===l)throw new TypeError("A promise cannot be resolved with itself.");if(a&&("object"==typeof a||"function"==typeof a)){var b=a.then;if("function"==typeof b)return void f(b.bind(a),c,d)}i=!0,j=a,h()}catch(e){d(e)}}function d(a){i=!1,j=a,h()}function h(){for(var a=0,c=k.length;c>a;a++)b(k[a]);k=null}if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");var i=null,j=null,k=[],l=this;this.then=function(a,c){return new l.constructor(function(d,f){b(new e(a,c,d,f))})},f(a,c,d)}function e(a,b,c,d){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.resolve=c,this.reject=d}function f(a,b,c){var d=!1;try{a(function(a){d||(d=!0,b(a))},function(a){d||(d=!0,c(a))})}catch(e){if(d)return;d=!0,c(e)}}var g=a("asap");b.exports=d},{asap:6}],38:[function(a,b,c){"use strict";var d=a("./core.js"),e=a("asap");b.exports=d,d.prototype.done=function(a,b){var c=arguments.length?this.then.apply(this,arguments):this;c.then(null,function(a){e(function(){throw a})})}},{"./core.js":37,asap:6}],39:[function(a,b,c){"use strict";function d(a){this.then=function(b){return"function"!=typeof b?this:new e(function(c,d){f(function(){try{c(b(a))}catch(e){d(e)}})})}}var e=a("./core.js"),f=a("asap");b.exports=e,d.prototype=e.prototype;var g=new d(!0),h=new d(!1),i=new d(null),j=new d(void 0),k=new d(0),l=new d("");e.resolve=function(a){if(a instanceof e)return a;if(null===a)return i;if(void 0===a)return j;if(a===!0)return g;if(a===!1)return h;if(0===a)return k;if(""===a)return l;if("object"==typeof a||"function"==typeof a)try{var b=a.then;if("function"==typeof b)return new e(b.bind(a))}catch(c){return new e(function(a,b){b(c)})}return new d(a)},e.all=function(a){var b=Array.prototype.slice.call(a);return new e(function(a,c){function d(f,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(a){d(f,a)},c)}b[f]=g,0===--e&&a(b)}catch(i){c(i)}}if(0===b.length)return a([]);for(var e=b.length,f=0;f<b.length;f++)d(f,b[f])})},e.reject=function(a){return new e(function(b,c){c(a)})},e.race=function(a){return new e(function(b,c){a.forEach(function(a){e.resolve(a).then(b,c)})})},e.prototype["catch"]=function(a){return this.then(null,a)}},{"./core.js":37,asap:6}],40:[function(a,b,c){"use strict";var d=a("./core.js"),e=a("asap");b.exports=d,d.denodeify=function(a,b){return b=b||1/0,function(){var c=this,e=Array.prototype.slice.call(arguments);return new d(function(d,f){for(;e.length&&e.length>b;)e.pop();e.push(function(a,b){a?f(a):d(b)});var g=a.apply(c,e);!g||"object"!=typeof g&&"function"!=typeof g||"function"!=typeof g.then||d(g)})}},d.nodeify=function(a){return function(){var b=Array.prototype.slice.call(arguments),c="function"==typeof b[b.length-1]?b.pop():null,f=this;try{return a.apply(this,arguments).nodeify(c,f)}catch(g){if(null===c||"undefined"==typeof c)return new d(function(a,b){b(g)});e(function(){c.call(f,g)})}}},d.prototype.nodeify=function(a,b){return"function"!=typeof a?this:void this.then(function(c){e(function(){a.call(b,null,c)})},function(c){e(function(){a.call(b,c)})})}},{"./core.js":37,asap:6}],41:[function(a,b,c){void function(a,d){"function"==typeof define&&define.amd?define(d):"object"==typeof c?b.exports=d():a.resolveUrl=d()}(this,function(){function a(){var a=arguments.length;if(0===a)throw new Error("resolveUrl requires at least one argument; got none.");var b=document.createElement("base");if(b.href=arguments[0],1===a)return b.href;var c=document.getElementsByTagName("head")[0];c.insertBefore(b,c.firstChild);for(var d,e=document.createElement("a"),f=1;a>f;f++)e.href=arguments[f],d=e.href,b.href=d;return c.removeChild(b),d}return a})},{}],42:[function(a,b,c){void function(d,e){if("function"==typeof define&&define.amd)define(["source-map-url","resolve-url"],e);else if("object"==typeof c){var f=a("source-map-url"),g=a("resolve-url");b.exports=e(f,g)}else d.sourceMapResolve=e(d.sourceMappingURL,d.resolveUrl)}(this,function(a,b){function c(a,b,c){setImmediate(function(){a(b,c)})}function d(a){return JSON.parse(a.replace(/^\)\]\}'/,""))}function e(a,b,e,f){var h;try{h=g(a,b)}catch(i){return c(f,i)}return!h||h.map?c(f,null,h):void e(h.url,function(a,b){if(a)return f(a);try{h.map=d(String(b))}catch(a){return f(a)}f(null,h)})}function f(a,b,c){var e=g(a,b);return!e||e.map?e:(e.map=d(String(c(e.url))),e)}function g(c,e){var f=a.getFrom(c);if(!f)return null;var g=f.match(m);if(g){var h=g[1],i=g[2],j=g[3];if(!n.test(h))throw new Error("Unuseful data uri mime type: "+(h||"text/plain"));return{sourceMappingURL:f,url:null,sourcesRelativeTo:e,map:d(";base64"===i?atob(j):decodeURIComponent(j))}}var k=b(e,f);return{sourceMappingURL:f,url:k,sourcesRelativeTo:k,map:null}}function h(a,b,d,e,f){"function"==typeof e&&(f=e,e={});var g=a.sources.length,h=!1,i={sourcesResolved:[],sourcesContent:[]},k=function(a){if(!h){if(a)return h=!0,f(a);g--,0===g&&f(null,i)}};j(a,b,e,function(a,b,e){i.sourcesResolved[e]=a,"string"==typeof b?(i.sourcesContent[e]=b,c(k,null)):d(a,function(a,b){i.sourcesContent[e]=String(b),k(a)})})}function i(a,b,c,d){var e={sourcesResolved:[],sourcesContent:[]};return j(a,b,d,function(a,b,d){e.sourcesResolved[d]=a,null!==c&&("string"==typeof b?e.sourcesContent[d]=b:e.sourcesContent[d]=String(c(a)))}),e}function j(a,c,d,e){d=d||{};for(var f,g,h=0,i=a.sources.length;i>h;h++)f=a.sourceRoot&&!d.ignoreSourceRoot?b(c,a.sourceRoot.replace(o,"/"),a.sources[h]):b(c,a.sources[h]),g=(a.sourcesContent||[])[h],e(f,g,h)}function k(a,b,c,d,f){"function"==typeof d&&(f=d,d={}),e(a,b,c,function(a,b){return a?f(a):b?void h(b.map,b.sourcesRelativeTo,c,d,function(a,c){return a?f(a):(b.sourcesResolved=c.sourcesResolved,b.sourcesContent=c.sourcesContent,void f(null,b))}):f(null,null)})}function l(a,b,c,d){var e=f(a,b,c);if(!e)return null;var g=i(e.map,e.sourcesRelativeTo,c,d);return e.sourcesResolved=g.sourcesResolved,e.sourcesContent=g.sourcesContent,e}var m=/^data:([^,;]*)(;[^,;]*)*(?:,(.*))?$/,n=/^(?:application|text)\/json$/,o=/\/?$/;return{resolveSourceMap:e,resolveSourceMapSync:f,resolveSources:h,resolveSourcesSync:i,resolve:k,resolveSync:l}})},{"resolve-url":41,"source-map-url":43}],43:[function(a,b,c){void function(a,d){"function"==typeof define&&define.amd?define(d):"object"==typeof c?b.exports=d():a.sourceMappingURL=d()}(this,function(){var a=/[#@] sourceMappingURL=([^\s'"]*)/,b=RegExp("(?:/\\*(?:\\s*\r?\n(?://)?)?(?:"+a.source+")\\s*\\*/|//(?:"+a.source+"))\\s*$");return{regex:b,_innerRegex:a,getFrom:function(a){var c=a.match(b);return c?c[1]||c[2]||"":null},existsIn:function(a){return b.test(a)},removeFrom:function(a){return a.replace(b,"")},insertBefore:function(a,c){var d=a.match(b);return d?a.slice(0,d.index)+c+a.slice(d.index):a+c}}})},{}],44:[function(a,b,c){c.SourceMapGenerator=a("./source-map/source-map-generator").SourceMapGenerator,c.SourceMapConsumer=a("./source-map/source-map-consumer").SourceMapConsumer,c.SourceNode=a("./source-map/source-node").SourceNode},{"./source-map/source-map-consumer":50,"./source-map/source-map-generator":51,"./source-map/source-node":52}],45:[function(a,b,c){if("function"!=typeof d)var d=a("amdefine")(b,a);d(function(a,b,c){function d(){this._array=[],this._set={}}var e=a("./util");d.fromArray=function(a,b){for(var c=new d,e=0,f=a.length;f>e;e++)c.add(a[e],b);return c},d.prototype.add=function(a,b){var c=this.has(a),d=this._array.length;c&&!b||this._array.push(a),c||(this._set[e.toSetString(a)]=d)},d.prototype.has=function(a){return Object.prototype.hasOwnProperty.call(this._set,e.toSetString(a))},d.prototype.indexOf=function(a){if(this.has(a))return this._set[e.toSetString(a)];throw new Error('"'+a+'" is not in the set.')},d.prototype.at=function(a){if(a>=0&&a<this._array.length)return this._array[a];throw new Error("No element indexed by "+a)},d.prototype.toArray=function(){return this._array.slice()},b.ArraySet=d})},{"./util":53,amdefine:4}],46:[function(a,b,c){if("function"!=typeof d)var d=a("amdefine")(b,a);d(function(a,b,c){function d(a){return 0>a?(-a<<1)+1:(a<<1)+0}function e(a){var b=1===(1&a),c=a>>1;return b?-c:c}var f=a("./base64"),g=5,h=1<<g,i=h-1,j=h;b.encode=function(a){var b,c="",e=d(a);do b=e&i,e>>>=g,e>0&&(b|=j),c+=f.encode(b);while(e>0);return c},b.decode=function(a,b){var c,d,h=0,k=a.length,l=0,m=0;do{if(h>=k)throw new Error("Expected more digits in base 64 VLQ value.");d=f.decode(a.charAt(h++)),c=!!(d&j),d&=i,l+=d<<m,m+=g}while(c);b.value=e(l),b.rest=a.slice(h)}})},{"./base64":47,amdefine:4}],47:[function(a,b,c){if("function"!=typeof d)var d=a("amdefine")(b,a);d(function(a,b,c){var d={},e={};"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("").forEach(function(a,b){d[a]=b,e[b]=a}),b.encode=function(a){if(a in e)return e[a];throw new TypeError("Must be between 0 and 63: "+a)},b.decode=function(a){if(a in d)return d[a];throw new TypeError("Not a valid base 64 digit: "+a)}})},{amdefine:4}],48:[function(a,b,c){if("function"!=typeof d)var d=a("amdefine")(b,a);d(function(a,b,c){function d(a,b,c,e,f){var g=Math.floor((b-a)/2)+a,h=f(c,e[g],!0);return 0===h?g:h>0?b-g>1?d(g,b,c,e,f):g:g-a>1?d(a,g,c,e,f):0>a?-1:a}b.search=function(a,b,c){return 0===b.length?-1:d(-1,b.length,a,b,c)}})},{amdefine:4}],49:[function(a,b,c){if("function"!=typeof d)var d=a("amdefine")(b,a);d(function(a,b,c){function d(a,b){var c=a.generatedLine,d=b.generatedLine,e=a.generatedColumn,g=b.generatedColumn;return d>c||d==c&&g>=e||f.compareByGeneratedPositions(a,b)<=0}function e(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}var f=a("./util");e.prototype.unsortedForEach=function(a,b){this._array.forEach(a,b)},e.prototype.add=function(a){d(this._last,a)?(this._last=a,this._array.push(a)):(this._sorted=!1,this._array.push(a))},e.prototype.toArray=function(){return this._sorted||(this._array.sort(f.compareByGeneratedPositions),this._sorted=!0),this._array},b.MappingList=e})},{"./util":53,amdefine:4}],50:[function(a,b,c){if("function"!=typeof d)var d=a("amdefine")(b,a);d(function(a,b,c){function d(a){var b=a;"string"==typeof a&&(b=JSON.parse(a.replace(/^\)\]\}'/,"")));var c=e.getArg(b,"version"),d=e.getArg(b,"sources"),f=e.getArg(b,"names",[]),h=e.getArg(b,"sourceRoot",null),i=e.getArg(b,"sourcesContent",null),j=e.getArg(b,"mappings"),k=e.getArg(b,"file",null);if(c!=this._version)throw new Error("Unsupported version: "+c);d=d.map(e.normalize),this._names=g.fromArray(f,!0),this._sources=g.fromArray(d,!0),this.sourceRoot=h,this.sourcesContent=i,this._mappings=j,this.file=k}var e=a("./util"),f=a("./binary-search"),g=a("./array-set").ArraySet,h=a("./base64-vlq");d.fromSourceMap=function(a){var b=Object.create(d.prototype);return b._names=g.fromArray(a._names.toArray(),!0),b._sources=g.fromArray(a._sources.toArray(),!0),b.sourceRoot=a._sourceRoot,b.sourcesContent=a._generateSourcesContent(b._sources.toArray(),b.sourceRoot),b.file=a._file,b.__generatedMappings=a._mappings.toArray().slice(),b.__originalMappings=a._mappings.toArray().slice().sort(e.compareByOriginalPositions),b},d.prototype._version=3,Object.defineProperty(d.prototype,"sources",{get:function(){return this._sources.toArray().map(function(a){return null!=this.sourceRoot?e.join(this.sourceRoot,a):a},this)}}),d.prototype.__generatedMappings=null,Object.defineProperty(d.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||(this.__generatedMappings=[],this.__originalMappings=[],this._parseMappings(this._mappings,this.sourceRoot)),this.__generatedMappings}}),d.prototype.__originalMappings=null,Object.defineProperty(d.prototype,"_originalMappings",{get:function(){return this.__originalMappings||(this.__generatedMappings=[],this.__originalMappings=[],this._parseMappings(this._mappings,this.sourceRoot)),this.__originalMappings}}),d.prototype._nextCharIsMappingSeparator=function(a){var b=a.charAt(0);return";"===b||","===b},d.prototype._parseMappings=function(a,b){for(var c,d=1,f=0,g=0,i=0,j=0,k=0,l=a,m={};l.length>0;)if(";"===l.charAt(0))d++,l=l.slice(1),f=0;else if(","===l.charAt(0))l=l.slice(1);else{if(c={},c.generatedLine=d,h.decode(l,m),c.generatedColumn=f+m.value,f=c.generatedColumn,l=m.rest,l.length>0&&!this._nextCharIsMappingSeparator(l)){if(h.decode(l,m),c.source=this._sources.at(j+m.value),j+=m.value,l=m.rest,0===l.length||this._nextCharIsMappingSeparator(l))throw new Error("Found a source, but no line and column");if(h.decode(l,m),c.originalLine=g+m.value,g=c.originalLine,c.originalLine+=1,l=m.rest,0===l.length||this._nextCharIsMappingSeparator(l))throw new Error("Found a source and line, but no column");h.decode(l,m),c.originalColumn=i+m.value,i=c.originalColumn,l=m.rest,l.length>0&&!this._nextCharIsMappingSeparator(l)&&(h.decode(l,m),c.name=this._names.at(k+m.value),k+=m.value,l=m.rest)}this.__generatedMappings.push(c),"number"==typeof c.originalLine&&this.__originalMappings.push(c)}this.__generatedMappings.sort(e.compareByGeneratedPositions),this.__originalMappings.sort(e.compareByOriginalPositions)},d.prototype._findMapping=function(a,b,c,d,e){if(a[c]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+a[c]);if(a[d]<0)throw new TypeError("Column must be greater than or equal to 0, got "+a[d]);return f.search(a,b,e)},d.prototype.computeColumnSpans=function(){for(var a=0;a<this._generatedMappings.length;++a){var b=this._generatedMappings[a];if(a+1<this._generatedMappings.length){var c=this._generatedMappings[a+1];if(b.generatedLine===c.generatedLine){b.lastGeneratedColumn=c.generatedColumn-1;continue}}b.lastGeneratedColumn=1/0}},d.prototype.originalPositionFor=function(a){var b={generatedLine:e.getArg(a,"line"),generatedColumn:e.getArg(a,"column")},c=this._findMapping(b,this._generatedMappings,"generatedLine","generatedColumn",e.compareByGeneratedPositions);if(c>=0){var d=this._generatedMappings[c];if(d.generatedLine===b.generatedLine){var f=e.getArg(d,"source",null);return null!=f&&null!=this.sourceRoot&&(f=e.join(this.sourceRoot,f)),{source:f,line:e.getArg(d,"originalLine",null),column:e.getArg(d,"originalColumn",null),name:e.getArg(d,"name",null)}}}return{source:null,line:null,column:null,name:null}},d.prototype.sourceContentFor=function(a){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(a=e.relative(this.sourceRoot,a)),this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];var b;if(null!=this.sourceRoot&&(b=e.urlParse(this.sourceRoot))){var c=a.replace(/^file:\/\//,"");if("file"==b.scheme&&this._sources.has(c))return this.sourcesContent[this._sources.indexOf(c)];if((!b.path||"/"==b.path)&&this._sources.has("/"+a))return this.sourcesContent[this._sources.indexOf("/"+a)]}throw new Error('"'+a+'" is not in the SourceMap.')},d.prototype.generatedPositionFor=function(a){var b={source:e.getArg(a,"source"),originalLine:e.getArg(a,"line"),originalColumn:e.getArg(a,"column")};null!=this.sourceRoot&&(b.source=e.relative(this.sourceRoot,b.source));var c=this._findMapping(b,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions);if(c>=0){var d=this._originalMappings[c];return{line:e.getArg(d,"generatedLine",null),column:e.getArg(d,"generatedColumn",null),lastColumn:e.getArg(d,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},d.prototype.allGeneratedPositionsFor=function(a){var b={source:e.getArg(a,"source"),originalLine:e.getArg(a,"line"),originalColumn:1/0};null!=this.sourceRoot&&(b.source=e.relative(this.sourceRoot,b.source));var c=[],d=this._findMapping(b,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions);if(d>=0)for(var f=this._originalMappings[d];f&&f.originalLine===b.originalLine;)c.push({line:e.getArg(f,"generatedLine",null),column:e.getArg(f,"generatedColumn",null),lastColumn:e.getArg(f,"lastGeneratedColumn",null)}),f=this._originalMappings[--d];return c.reverse()},d.GENERATED_ORDER=1,d.ORIGINAL_ORDER=2,d.prototype.eachMapping=function(a,b,c){var f,g=b||null,h=c||d.GENERATED_ORDER;switch(h){case d.GENERATED_ORDER:f=this._generatedMappings;break;case d.ORIGINAL_ORDER:f=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var i=this.sourceRoot;f.map(function(a){var b=a.source;return null!=b&&null!=i&&(b=e.join(i,b)),{source:b,generatedLine:a.generatedLine,generatedColumn:a.generatedColumn,originalLine:a.originalLine,originalColumn:a.originalColumn,name:a.name}}).forEach(a,g)},b.SourceMapConsumer=d})},{"./array-set":45,"./base64-vlq":46,"./binary-search":48,"./util":53,amdefine:4}],51:[function(a,b,c){if("function"!=typeof d)var d=a("amdefine")(b,a);d(function(a,b,c){function d(a){a||(a={}),this._file=f.getArg(a,"file",null),this._sourceRoot=f.getArg(a,"sourceRoot",null),this._skipValidation=f.getArg(a,"skipValidation",!1),this._sources=new g,this._names=new g,this._mappings=new h,this._sourcesContents=null}var e=a("./base64-vlq"),f=a("./util"),g=a("./array-set").ArraySet,h=a("./mapping-list").MappingList;d.prototype._version=3,d.fromSourceMap=function(a){var b=a.sourceRoot,c=new d({file:a.file,sourceRoot:b});return a.eachMapping(function(a){var d={generated:{line:a.generatedLine,column:a.generatedColumn}};null!=a.source&&(d.source=a.source,null!=b&&(d.source=f.relative(b,d.source)),d.original={line:a.originalLine,column:a.originalColumn},null!=a.name&&(d.name=a.name)),c.addMapping(d)}),a.sources.forEach(function(b){var d=a.sourceContentFor(b);null!=d&&c.setSourceContent(b,d)}),c},d.prototype.addMapping=function(a){var b=f.getArg(a,"generated"),c=f.getArg(a,"original",null),d=f.getArg(a,"source",null),e=f.getArg(a,"name",null);this._skipValidation||this._validateMapping(b,c,d,e),null==d||this._sources.has(d)||this._sources.add(d),null==e||this._names.has(e)||this._names.add(e),this._mappings.add({generatedLine:b.line,generatedColumn:b.column,originalLine:null!=c&&c.line,originalColumn:null!=c&&c.column,source:d,name:e})},d.prototype.setSourceContent=function(a,b){var c=a;null!=this._sourceRoot&&(c=f.relative(this._sourceRoot,c)),null!=b?(this._sourcesContents||(this._sourcesContents={}),this._sourcesContents[f.toSetString(c)]=b):this._sourcesContents&&(delete this._sourcesContents[f.toSetString(c)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},d.prototype.applySourceMap=function(a,b,c){var d=b;if(null==b){if(null==a.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');d=a.file}var e=this._sourceRoot;null!=e&&(d=f.relative(e,d));var h=new g,i=new g;this._mappings.unsortedForEach(function(b){if(b.source===d&&null!=b.originalLine){var g=a.originalPositionFor({line:b.originalLine,column:b.originalColumn});null!=g.source&&(b.source=g.source,null!=c&&(b.source=f.join(c,b.source)),null!=e&&(b.source=f.relative(e,b.source)),b.originalLine=g.line,b.originalColumn=g.column,null!=g.name&&(b.name=g.name))}var j=b.source;null==j||h.has(j)||h.add(j);var k=b.name;null==k||i.has(k)||i.add(k)},this),this._sources=h,this._names=i,a.sources.forEach(function(b){var d=a.sourceContentFor(b);null!=d&&(null!=c&&(b=f.join(c,b)),null!=e&&(b=f.relative(e,b)),this.setSourceContent(b,d))},this)},d.prototype._validateMapping=function(a,b,c,d){if((!(a&&"line"in a&&"column"in a&&a.line>0&&a.column>=0)||b||c||d)&&!(a&&"line"in a&&"column"in a&&b&&"line"in b&&"column"in b&&a.line>0&&a.column>=0&&b.line>0&&b.column>=0&&c))throw new Error("Invalid mapping: "+JSON.stringify({generated:a,source:c,original:b,name:d}))},d.prototype._serializeMappings=function(){for(var a,b=0,c=1,d=0,g=0,h=0,i=0,j="",k=this._mappings.toArray(),l=0,m=k.length;m>l;l++){if(a=k[l],a.generatedLine!==c)for(b=0;a.generatedLine!==c;)j+=";",c++;else if(l>0){if(!f.compareByGeneratedPositions(a,k[l-1]))continue;j+=","}j+=e.encode(a.generatedColumn-b),b=a.generatedColumn,null!=a.source&&(j+=e.encode(this._sources.indexOf(a.source)-i),i=this._sources.indexOf(a.source),j+=e.encode(a.originalLine-1-g),g=a.originalLine-1,j+=e.encode(a.originalColumn-d),d=a.originalColumn,null!=a.name&&(j+=e.encode(this._names.indexOf(a.name)-h),
h=this._names.indexOf(a.name)))}return j},d.prototype._generateSourcesContent=function(a,b){return a.map(function(a){if(!this._sourcesContents)return null;null!=b&&(a=f.relative(b,a));var c=f.toSetString(a);return Object.prototype.hasOwnProperty.call(this._sourcesContents,c)?this._sourcesContents[c]:null},this)},d.prototype.toJSON=function(){var a={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(a.file=this._file),null!=this._sourceRoot&&(a.sourceRoot=this._sourceRoot),this._sourcesContents&&(a.sourcesContent=this._generateSourcesContent(a.sources,a.sourceRoot)),a},d.prototype.toString=function(){return JSON.stringify(this)},b.SourceMapGenerator=d})},{"./array-set":45,"./base64-vlq":46,"./mapping-list":49,"./util":53,amdefine:4}],52:[function(a,b,c){if("function"!=typeof d)var d=a("amdefine")(b,a);d(function(a,b,c){function d(a,b,c,d,e){this.children=[],this.sourceContents={},this.line=null==a?null:a,this.column=null==b?null:b,this.source=null==c?null:c,this.name=null==e?null:e,this[i]=!0,null!=d&&this.add(d)}var e=a("./source-map-generator").SourceMapGenerator,f=a("./util"),g=/(\r?\n)/,h=10,i="$$$isSourceNode$$$";d.fromStringWithSourceMap=function(a,b,c){function e(a,b){if(null===a||void 0===a.source)h.add(b);else{var e=c?f.join(c,a.source):a.source;h.add(new d(a.originalLine,a.originalColumn,e,b,a.name))}}var h=new d,i=a.split(g),j=function(){var a=i.shift(),b=i.shift()||"";return a+b},k=1,l=0,m=null;return b.eachMapping(function(a){if(null!==m){if(!(k<a.generatedLine)){var b=i[0],c=b.substr(0,a.generatedColumn-l);return i[0]=b.substr(a.generatedColumn-l),l=a.generatedColumn,e(m,c),void(m=a)}var c="";e(m,j()),k++,l=0}for(;k<a.generatedLine;)h.add(j()),k++;if(l<a.generatedColumn){var b=i[0];h.add(b.substr(0,a.generatedColumn)),i[0]=b.substr(a.generatedColumn),l=a.generatedColumn}m=a},this),i.length>0&&(m&&e(m,j()),h.add(i.join(""))),b.sources.forEach(function(a){var d=b.sourceContentFor(a);null!=d&&(null!=c&&(a=f.join(c,a)),h.setSourceContent(a,d))}),h},d.prototype.add=function(a){if(Array.isArray(a))a.forEach(function(a){this.add(a)},this);else{if(!a[i]&&"string"!=typeof a)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+a);a&&this.children.push(a)}return this},d.prototype.prepend=function(a){if(Array.isArray(a))for(var b=a.length-1;b>=0;b--)this.prepend(a[b]);else{if(!a[i]&&"string"!=typeof a)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+a);this.children.unshift(a)}return this},d.prototype.walk=function(a){for(var b,c=0,d=this.children.length;d>c;c++)b=this.children[c],b[i]?b.walk(a):""!==b&&a(b,{source:this.source,line:this.line,column:this.column,name:this.name})},d.prototype.join=function(a){var b,c,d=this.children.length;if(d>0){for(b=[],c=0;d-1>c;c++)b.push(this.children[c]),b.push(a);b.push(this.children[c]),this.children=b}return this},d.prototype.replaceRight=function(a,b){var c=this.children[this.children.length-1];return c[i]?c.replaceRight(a,b):"string"==typeof c?this.children[this.children.length-1]=c.replace(a,b):this.children.push("".replace(a,b)),this},d.prototype.setSourceContent=function(a,b){this.sourceContents[f.toSetString(a)]=b},d.prototype.walkSourceContents=function(a){for(var b=0,c=this.children.length;c>b;b++)this.children[b][i]&&this.children[b].walkSourceContents(a);for(var d=Object.keys(this.sourceContents),b=0,c=d.length;c>b;b++)a(f.fromSetString(d[b]),this.sourceContents[d[b]])},d.prototype.toString=function(){var a="";return this.walk(function(b){a+=b}),a},d.prototype.toStringWithSourceMap=function(a){var b={code:"",line:1,column:0},c=new e(a),d=!1,f=null,g=null,i=null,j=null;return this.walk(function(a,e){b.code+=a,null!==e.source&&null!==e.line&&null!==e.column?(f===e.source&&g===e.line&&i===e.column&&j===e.name||c.addMapping({source:e.source,original:{line:e.line,column:e.column},generated:{line:b.line,column:b.column},name:e.name}),f=e.source,g=e.line,i=e.column,j=e.name,d=!0):d&&(c.addMapping({generated:{line:b.line,column:b.column}}),f=null,d=!1);for(var k=0,l=a.length;l>k;k++)a.charCodeAt(k)===h?(b.line++,b.column=0,k+1===l?(f=null,d=!1):d&&c.addMapping({source:e.source,original:{line:e.line,column:e.column},generated:{line:b.line,column:b.column},name:e.name})):b.column++}),this.walkSourceContents(function(a,b){c.setSourceContent(a,b)}),{code:b.code,map:c}},b.SourceNode=d})},{"./source-map-generator":51,"./util":53,amdefine:4}],53:[function(a,b,c){if("function"!=typeof d)var d=a("amdefine")(b,a);d(function(a,b,c){function d(a,b,c){if(b in a)return a[b];if(3===arguments.length)return c;throw new Error('"'+b+'" is a required argument.')}function e(a){var b=a.match(o);return b?{scheme:b[1],auth:b[2],host:b[3],port:b[4],path:b[5]}:null}function f(a){var b="";return a.scheme&&(b+=a.scheme+":"),b+="//",a.auth&&(b+=a.auth+"@"),a.host&&(b+=a.host),a.port&&(b+=":"+a.port),a.path&&(b+=a.path),b}function g(a){var b=a,c=e(a);if(c){if(!c.path)return a;b=c.path}for(var d,g="/"===b.charAt(0),h=b.split(/\/+/),i=0,j=h.length-1;j>=0;j--)d=h[j],"."===d?h.splice(j,1):".."===d?i++:i>0&&(""===d?(h.splice(j+1,i),i=0):(h.splice(j,2),i--));return b=h.join("/"),""===b&&(b=g?"/":"."),c?(c.path=b,f(c)):b}function h(a,b){""===a&&(a="."),""===b&&(b=".");var c=e(b),d=e(a);if(d&&(a=d.path||"/"),c&&!c.scheme)return d&&(c.scheme=d.scheme),f(c);if(c||b.match(p))return b;if(d&&!d.host&&!d.path)return d.host=b,f(d);var h="/"===b.charAt(0)?b:g(a.replace(/\/+$/,"")+"/"+b);return d?(d.path=h,f(d)):h}function i(a,b){""===a&&(a="."),a=a.replace(/\/$/,"");var c=e(a);return"/"==b.charAt(0)&&c&&"/"==c.path?b.slice(1):0===b.indexOf(a+"/")?b.substr(a.length+1):b}function j(a){return"$"+a}function k(a){return a.substr(1)}function l(a,b){var c=a||"",d=b||"";return(c>d)-(d>c)}function m(a,b,c){var d;return(d=l(a.source,b.source))?d:(d=a.originalLine-b.originalLine)?d:(d=a.originalColumn-b.originalColumn,d||c?d:(d=l(a.name,b.name))?d:(d=a.generatedLine-b.generatedLine,d?d:a.generatedColumn-b.generatedColumn))}function n(a,b,c){var d;return(d=a.generatedLine-b.generatedLine)?d:(d=a.generatedColumn-b.generatedColumn,d||c?d:(d=l(a.source,b.source))?d:(d=a.originalLine-b.originalLine)?d:(d=a.originalColumn-b.originalColumn,d?d:l(a.name,b.name)))}b.getArg=d;var o=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,p=/^data:.+\,.+$/;b.urlParse=e,b.urlGenerate=f,b.normalize=g,b.join=h,b.relative=i,b.toSetString=j,b.fromSetString=k,b.compareByOriginalPositions=m,b.compareByGeneratedPositions=n})},{amdefine:4}],54:[function(a,b,c){function d(a){return a.replace(/^\s*|\s*$/g,"")}c=b.exports=d,c.left=function(a){return a.replace(/^\s*/,"")},c.right=function(a){return a.replace(/\s*$/,"")}},{}],55:[function(a,b,c){function d(a){return"\\"===e.sep?a.replace(/\\/g,"/").replace(/^[a-z]:\/?/i,"/"):a}var e=a("path");b.exports=d},{path:35}],56:[function(a,b,c){function d(a,b){var c;return c=b?new f(a,b):new f(a)}var e=function(){return this}(),f=e.WebSocket||e.MozWebSocket,g=a("./version");b.exports={w3cwebsocket:f?d:null,version:g}},{"./version":57}],57:[function(a,b,c){b.exports=a("../package.json").version},{"../package.json":58}],58:[function(a,b,c){b.exports={_args:[["websocket@1.0.22","/var/lib/atlassian/bamboo/xml-data/build-dir/139657219/ZD22-PAC-NPM/client/sdk"]],_from:"websocket@1.0.22",_id:"websocket@1.0.22",_inCache:!0,_installable:!0,_location:"/websocket",_nodeVersion:"3.3.1",_npmUser:{email:"brian@worlize.com",name:"theturtle32"},_npmVersion:"2.14.3",_phantomChildren:{},_requested:{name:"websocket",raw:"websocket@1.0.22",rawSpec:"1.0.22",scope:null,spec:"1.0.22",type:"version"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/websocket/-/websocket-1.0.22.tgz",_shasum:"8c33e3449f879aaf518297c9744cebf812b9e3d8",_shrinkwrap:null,_spec:"websocket@1.0.22",_where:"/var/lib/atlassian/bamboo/xml-data/build-dir/139657219/ZD22-PAC-NPM/client/sdk",author:{email:"brian@worlize.com",name:"Brian McKelvey",url:"https://www.worlize.com/"},browser:"lib/browser.js",bugs:{url:"https://github.com/theturtle32/WebSocket-Node/issues"},config:{verbose:!1},contributors:[{email:"ibc@aliax.net",name:"Iñaki Baz Castillo",url:"http://dev.sipdoc.net"}],dependencies:{debug:"~2.2.0",nan:"~2.0.5","typedarray-to-buffer":"~3.0.3",yaeti:"~0.0.4"},description:"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",devDependencies:{"buffer-equal":"^0.0.1",faucet:"^0.0.1",gulp:"git+https://github.com/gulpjs/gulp.git#4.0","gulp-jshint":"^1.11.2","jshint-stylish":"^1.0.2",tape:"^4.0.1"},directories:{lib:"./lib"},dist:{shasum:"8c33e3449f879aaf518297c9744cebf812b9e3d8",tarball:"https://registry.npmjs.org/websocket/-/websocket-1.0.22.tgz"},engines:{node:">=0.8.0"},gitHead:"19108bbfd7d94a5cd02dbff3495eafee9e901ca4",homepage:"https://github.com/theturtle32/WebSocket-Node",keywords:["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],license:"Apache-2.0",main:"index",maintainers:[{email:"brian@worlize.com",name:"theturtle32"}],name:"websocket",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+https://github.com/theturtle32/WebSocket-Node.git"},scripts:{gulp:"gulp",install:"(node-gyp rebuild 2> builderror.log) || (exit 0)",test:"faucet test/unit"},version:"1.0.22"}},{}],59:[function(a,b,c){"use strict";function d(a,b){function c(){4===l.readyState&&f()}function d(){var a=void 0;if(l.response?a=l.response:"text"!==l.responseType&&l.responseType||(a=l.responseText||l.responseXML),t)try{a=JSON.parse(a)}catch(b){}return a}function e(a){clearTimeout(n),a instanceof Error||(a=new Error(""+(a||"unknown"))),a.statusCode=0,b(a,k)}function f(){clearTimeout(n);var a=1223===l.status?204:l.status,c=k,e=null;0!==a?(c={body:d(),statusCode:a,method:p,headers:{},url:o,rawRequest:l},l.getAllResponseHeaders&&(c.headers=h(l.getAllResponseHeaders()))):e=new Error("Internal XMLHttpRequest Error"),b(e,c,c.body)}var k={body:void 0,headers:{},statusCode:0,method:p,url:o,rawRequest:l};if("string"==typeof a&&(a={uri:a}),a=a||{},"undefined"==typeof b)throw new Error("callback argument missing");b=g(b);var l=a.xhr||null;l||(l=a.cors||a.useXDR?new j:new i);var m,n,o=l.url=a.uri||a.url,p=l.method=a.method||"GET",q=a.body||a.data,r=l.headers=a.headers||{},s=!!a.sync,t=!1;if("json"in a&&(t=!0,r.Accept||(r.Accept="application/json"),"GET"!==p&&"HEAD"!==p&&(r["Content-Type"]="application/json",q=JSON.stringify(a.json))),l.onreadystatechange=c,l.onload=f,l.onerror=e,l.onprogress=function(){},l.ontimeout=e,l.open(p,o,!s),l.withCredentials=!!a.withCredentials,!s&&a.timeout>0&&(n=setTimeout(function(){l.abort("timeout")},a.timeout+2)),l.setRequestHeader)for(m in r)r.hasOwnProperty(m)&&l.setRequestHeader(m,r[m]);else if(a.headers)throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in a&&(l.responseType=a.responseType),"beforeSend"in a&&"function"==typeof a.beforeSend&&a.beforeSend(l),l.send(q),l}function e(){}var f=a("global/window"),g=a("once"),h=a("parse-headers"),i=f.XMLHttpRequest||e,j="withCredentials"in new i?i:f.XDomainRequest;b.exports=d},{"global/window":24,once:33,"parse-headers":34}],60:[function(a,b,c){"use strict";function d(a,b){var c=F(b);this._listeners=[],c.forEach(z(this.addListener.bind(this),a))}function e(a,b){var c=F(b),d=a.groups.get(),e=a.metrics.get(),f=a.fields.get();x(c).groupBy("TYPE").forEach(function(a,b){switch(b){case I.TYPES.METRIC:case I.TYPES.MULTI_METRIC:case I.TYPES.BOX_PLOT_METRIC:a.forEach(function(a,b){var c=e[b];a.TYPE===I.TYPES.METRIC||a.TYPE===I.TYPES.BOX_PLOT_METRIC?c?a.setMetric(c):a.unsetMetric(c):a.resetMetrics(e)});break;case I.TYPES.GROUP:a[0].resetGroup(d[0]);break;case I.TYPES.DIMENSION:a[0].resetGroups(d);break;case I.TYPES.FIELDS:a[0].resetFields(f)}}).value()}function f(a,b){var c=F(b),d=a.metrics,e=a.groups,f=a.fields;d.remove(d.get()),e.remove(e.get()),f.remove(f.get()),c.forEach(z(h,a))}function g(a){var b=F(a),c={metrics:[],groups:[],fields:[]};return b.forEach(z(i,c)),C(c.groups)&&C(c.fields)?D(c,"fields"):D(c,C)}function h(a,b){var c=a.metrics,d=a.groups,e=a.fields,f=b.TYPE;switch(f){case I.TYPES.METRIC:var g=b.getMetric();g&&c.add(g);break;case I.TYPES.BOX_PLOT_METRIC:c.add(b.getMetric());break;case I.TYPES.MULTI_METRIC:c.add(b.getMetrics());break;case I.TYPES.GROUP:d.add(b.getGroup());break;case I.TYPES.DIMENSION:d.add(b.getGroups());break;case I.TYPES.FIELDS:e.add(b.getFields())}}function i(a,b){var c=b.TYPE;switch(c){case I.TYPES.METRIC:var d=b.getMetric();d&&a.metrics.push(d);break;case I.TYPES.BOX_PLOT_METRIC:a.metrics.push(b.getMetric());break;case I.TYPES.MULTI_METRIC:a.metrics=a.metrics.concat(b.getMetrics());break;case I.TYPES.GROUP:a.groups.push(b.getGroup());break;case I.TYPES.DIMENSION:a.groups=a.groups.concat(b.getGroups());break;case I.TYPES.FIELDS:a.fields=a.fields.concat(b.getFields())}}function j(a,b){var c=b.TYPE,d={query:a,accessor:b};switch(c){case I.TYPES.METRIC:d.events=k(a,b);break;case I.TYPES.BOX_PLOT_METRIC:d.events=k(a,b);break;case I.TYPES.MULTI_METRIC:d.events=l(a,b);break;case I.TYPES.GROUP:d.events=m(a,b);break;case I.TYPES.DIMENSION:d.events=n(a,b);break;case I.TYPES.FIELDS:d.events=o(a,b)}return d}function k(a,b){var c={accessor:{},query:{}};return x(c.accessor).assign(u(b,b.EVENTS.CHANGE,H(a.metrics.change))).assign(u(b,b.EVENTS.SET,a.metrics.add)).assign(u(b,b.EVENTS.UNSET,a.metrics.remove)).value(),c}function l(a,b){var c={accessor:{},query:{}};return x(c.accessor).assign(u(b,b.EVENTS.ADD,a.metrics.add)).assign(u(b,b.EVENTS.REMOVE,a.metrics.remove)).assign(u(b,b.EVENTS.CHANGE,H(a.metrics.change))).value(),c}function m(a,b){var c={accessor:{},query:{}};return x(c.accessor).assign(u(b,b.EVENTS.CHANGE,z(p,a))).value(),c}function n(a,b){var c={accessor:{},query:{}};return x(c.accessor).assign(u(b,b.EVENTS.ADD,a.groups.add)).assign(u(b,b.EVENTS.REMOVE,y(z(E,w,"name"),a.groups.remove))).assign(u(b,b.EVENTS.CHANGE,z(p,a))).value(),c}function o(a,b){var c={accessor:{},query:{}};return x(c.accessor).assign(u(b,b.EVENTS.ADD,a.fields.add)).assign(u(b,b.EVENTS.REMOVE,a.fields.remove)).assign(u(b,b.EVENTS.CHANGE,a.fields.change)).value(),x(c.query).assign(u(a.fields,a.EVENTS.ADD,z(q,a,b))).assign(u(a.fields,a.EVENTS.REMOVE,z(r,a,b))).assign(u(a.fields,a.EVENTS.CHANGE,z(s,b))).value(),c}function p(a,b,c){var d="number"==typeof c?c:{name:c.name};a.groups.set(d,b)}function q(a,b,c){c.forEach(function(c){var d=a.fields.get(),e=b.getFields();G(d,e)||b.addField(c)})}function r(a,b,c){c.forEach(function(c){var d=a.fields.get(),e=b.getFields();G(d,e)||b.removeField(c)})}function s(a,b,c){a.setField(c,b)}function t(a){var b=a.accessor,c=a.query,d=a.events;x(d.accessor).pairs().forEach(z(v,b)).value(),x(d.query).pairs().forEach(z(v,c)).value()}var u=a("../../../Utilities").events.createHandler,v=a("../../../Utilities").events.removeHandler,w=a("lodash"),x=w.chain,y=w.flow,z=w.partial,A=w.find,B=(w.findIndex,w.reject),C=(w.pull,w.pluck,w.last,w.isEmpty),D=w.omit,E=w.pick,F=w.values,G=w.isEqual,H=z(w.rearg,w,1,0),I=a("../DataAccessor/index");d.prototype={addListener:function(a,b){var c,d=this._listeners,e=w.find(d,{accessor:b});return e&&this.removeListener(b),c=j(a,b),d.push(c),c},removeListener:function(a){var b=this._listeners,c=A(b,{accessor:a});if(!c)throw Error("listeners not found");t(c),this._listeners=B(b,c)},removeAllListeners:function(){var a=this._listeners;x(a).pluck("accessor").forEach(this.removeListener.bind(this)).value()},accessorsToQuery:f,queryToAccessors:e},d.accessorsToQuery=f,d.queryToAccessors=e,d.accessorsToConfig=g,b.exports=d},{"../../../Utilities":158,"../DataAccessor/index":71,lodash:30}],61:[function(a,b,c){b.exports=a("./AccessorController")},{"./AccessorController":60}],62:[function(a,b,c){"use strict";function d(a){return h(a).map(f).zipObject().thru(e).value()}function e(a){return new k(a)}function f(a){var b,c=a.type,d=a.name,e=a.values,f=a.attributeType,g=a.config;switch(c){case l.GROUP:b=new j.GroupAccessor(e[0].value,f,0,0,{color:e[0].colorConfig});break;case l.HISTOGRAM:b=new j.GroupAccessor(e[0].value,f,0,0);break;case l.MULTI_GROUP:b=new j.DimensionAccessor(0,i(e,"value"),g.groupTypes,{color:h(e).pluck("colorConfig").compact().value()[0]});break;case l.METRIC:b=new j.SingleMetricAccessor(e[0].value,{color:e[0].colorConfig});break;case l.BOX_PLOT_METRIC:b=new j.BoxPlotAccessor(e[0].value);break;case l.MULTI_METRIC:b=new j.MultiMetricAccessor(i(e,"value"),{color:h(e).pluck("colorConfig").compact().value()[0]});break;case l.NON_GROUPED:b=new j.FieldsAccessor(i(e,"value"));break;default:throw Error("Unknown variable type")}return[d,b]}var g=a("lodash"),h=g.chain,i=g.pluck,j=a("../Accessors"),k=a("../DataAccessorsCollection"),l={METRIC:"metric",MULTI_METRIC:"multi-metric",BOX_PLOT_METRIC:"box-plot-metric",GROUP:"group",MULTI_GROUP:"multi-group",HISTOGRAM:"histogram-group",NON_GROUPED:"ungrouped"},m={configureDataAccessors:d};b.exports=m},{"../Accessors":64,"../DataAccessorsCollection":73,lodash:30}],63:[function(a,b,c){b.exports=a("./AccessorParser.js")},{"./AccessorParser.js":62}],64:[function(a,b,c){b.exports={DimensionAccessor:a("./DimensionAccessor"),GroupAccessor:a("./GroupAccessor"),MultiMetricAccessor:a("./MultiMetricAccessor"),SingleMetricAccessor:a("./MetricAccessor"),BoxPlotAccessor:a("./BoxPlotAccessor"),FieldsAccessor:a("./FieldsAccessor")}},{"./BoxPlotAccessor":66,"./DimensionAccessor":75,"./FieldsAccessor":77,"./GroupAccessor":79,"./MetricAccessor":83,"./MultiMetricAccessor":87}],65:[function(a,b,c){"use strict";function d(a){return new n(a.type,a.dataResolution,a.granularity)}var e=a("lodash"),f=a("inherit"),g=(e.defaults,e.curry),h=e.clone,i=e.chain,j=e.isEqual,k=e.isArray,l=e.noop,m=a("../DataAccessor"),n=a("../MetricFormatter"),o=a("../../Source/Query/Metric"),p=o.TYPES,q=m.TYPES,r=q.BOX_PLOT_METRIC,s={CHANGE:"change"},t=f(m,{__constructor:function(a,b){m.prototype.__constructor.call(this,b),this._setMetric(a)},_setMetric:function(a){this._metric=h(a,!0),this._formatter=d(a)},setMetric:function(a){var b=this.getMetric();j(a,b)||(this._setMetric(a),this.trigger(s.CHANGE,this.getMetric(a),b))},getMetric:function(){return h(this._metric,!0)},getMetrics:function(){var a=this.getMetric();return[].concat(a)},getLabel:function(){var a=this.getMetric();return a.label},getLabels:function(){var a=this.getMetric();return[].concat(a.label)},getColorName:function(){var a=this.getMetric();return a.name+":"+a.func},getType:function(){var a=this.getMetric();return a.type||p.NUMBER},raw:function(a){var b=this.getMetric();return i(a).thru(u(b)).value()},formatted:function(a){var b=k(a)?a:this.raw(a),c=this._formatter.format;return b&&b.map(c)},getMetaData:function(a){return a},updateDomain:l,TYPES:q,TYPE:r,EVENTS:s,METRIC_TYPES:p},{TYPES:q,TYPE:r,EVENTS:s,METRIC_TYPES:p});b.exports=t;var u=g(function(a,b){return e.chain(b).get("current.metrics").get(a.name).get(a.func).value()})},{"../../Source/Query/Metric":102,"../DataAccessor":71,"../MetricFormatter":85,inherit:25,lodash:30}],66:[function(a,b,c){"use strict";b.exports=a("./BoxPlotAccessor")},{"./BoxPlotAccessor":65}],67:[function(a,b,c){"use strict";function d(a,b,c){return 0===b.length?a:b.map(function(b,d){var e=a[d%a.length];return c[b]||e})}function e(a,b){var c=t[a],d=Number(q(n(c))),e=Number(p(n(c))),f=q([e,p([b,d])]);return 1===b?[c[f][0]]:c[f]}function f(a){return a.reduce(function(a,b){return a[b.name]=b.color,a},{})}function g(a,b){for(var c=(a[1]-a[0])/b,d=[a[0]],e=1;b-1>=e;e++)d.push(a[0]+c*e);return d.push(a[1]),d}var h=a("lodash"),i=h.chain,j=(h.assign,h.defaults),k=h.clone,l=h.isArray,m=h.contains,n=h.keys,o=h.map,p=h.min,q=h.max,r=a("inherit"),s=a("chroma-js"),t=a("./colorLookup"),u=a("../DataAccessor/index"),v={UPDATE_COLOR_SCALE:"updateColorScale",UPDATE_COLOR_NUMBER:"updateColorNumber",UPDATE_COLOR_SET:"updateColorSet",UPDATE_COLOR_POSITIONS:"updateColorPositions",UPDATE_COLOR_SCALE_TYPE:"updateColorScaleType",UPDATE_COLOR_RANGE_TYPE:"updateColorRangeType",UPDATE_COLOR_RANGE:"updateColorRange",SHOW_LEGEND:"showLegend",HIDE_LEGEND:"hideLegend",DOMAIN_UPDATED:"domain:updated"},w=n(t),x={GRADIENT:"gradient",DISTINCT:"distinct"},y={PALETTE:"palette",RANGE:"range"},z=[0,1],A={customColors:null,colorSet:w[0],colorPositions:null,colorNumb:2,colorScaleType:x.GRADIENT,legendType:y.PALETTE,autoColor:!0,autoShowColorLegend:!1,savedColors:{}},B=w[0];h.mixin({findByValues:function(a,b,c){return h.filter(a,function(a){return h.contains(c,a[b])})}});var C=r(u,{__constructor:function(a){a=a||{},u.prototype.__constructor.apply(this,arguments);var b=j({},a.color,A);this.isColor=!(!a.color||!a.color.colorSet),this._domain=[],this._colorSettings={},this._colorSettings.customColors=b.colors,this._colorSettings.showLegend=b.autoShowColorLegend,this._colorSettings.colorSet=m(w,b.colorSet)?b.colorSet:A.colorSet,this._colorSettings.colorPositions=b.colorPositions,this._colorSettings.colorNumber=q([b.colorNumb,2]),this._colorSettings.colorScaleType=m(x,b.colorScaleType)?b.colorScaleType:A.colorScaleType,this._colorSettings.colorRangeType=m(y,b.legendType)?b.legendType:A.legendType,this._colorSettings.autoColor=b.autoColor,this._colorSettings.savedColors=b.savedColors,this._clearColorCache(),this._initColorScale(),this._updateColorScale()},_populateDefaultColors:function(){this.on(v.UPDATE_COLOR_NUMBER,this._updateCustomColors.bind(this))},_updateCustomColors:function(){this.setColorRangeData(this.populateColorRangeData()),this.off(v.UPDATE_COLOR_NUMBER,this._updateCustomColors.bind(this))},resetCustomColors:function(){this._colorSettings.customColors=this.populateColorRangeData()},_initColorScale:function(){this._colorScale=s.scale()},_clearColorCache:function(){this._getDistinctColor.cache.__data__={}},_updateColorScale:function(){if(this.isColor){var a=this._domain,b=this.getColorRange();this._updateColorScaleDomain(a),this._updateColorScaleRange(b),this._updateColorScaleClasses(),this.trigger(v.UPDATE_COLOR_SCALE,k(this._colorSettings,!0))}},_updateColorScaleClasses:function(){var a=this.getColorScaleType(),b=this.getColorPositions(),c=this.getColorNumber();a===x.DISTINCT&&this._colorScale.classes(b||c)},_updateColorScaleRange:function(a){this._colorScale.range(a)},_updateColorScaleDomain:function(a){var b=this.getColorScaleType();l(a)&&2===a.length&&a[0]===a[1]&&(a[1]+=1),b===x.GRADIENT&&this._initColorScale(),this._colorScale.domain(a),b===x.DISTINCT&&this._colorScale.classes(this.getColorNumber())},setColorNumber:function(a){return a!==this._colorSettings.colorNumber&&(this._colorSettings.colorNumber=q([a,2]),this.trigger(v.UPDATE_COLOR_NUMBER,a)),this},getColorNumber:function(){return this._colorSettings.colorNumber},setAutoColor:function(a){return this._colorSettings.autoColor=!!a,this},getAutoColor:function(a){return this._colorSettings.autoColor},setColorSet:function(a,b){var c=this._colorSettings;if(b=b||c.colorPositions,!m(w,a))throw Error("Unsupported color set");return c.colorSet=a,c.colorPositions=b,this.setColorRangeData(this.populateColorRangeData()),this},getColorSet:function(){return this._colorSettings.colorSet},setCustomSet:function(a,b){var c=this._colorSettings;c.customColors=a,c.colorPositions=b},getCustomSet:function(){return this._colorSettings.customColors},getColor:function(a){return this._colorScale(a).hex()},_getDistinctColor:h.memoize(function(a){var b,c=this.getColorRangeType();if(c===y.RANGE){var d=this._colorSettings.customColors;b=this._fastFind(d,"name",a),b=b?b.color:null}else{var e=this.getDomain(),f=e.indexOf(a),g=this.getColorRange();b=g[f%g.length]}return b}),_fastFind:function(a,b,c){for(var d=0,e=a.length;e>d;++d){var f=a[d][b];if(c&&0===c.indexOf(f))return a[d]}},color:function(a){var b=this.raw(a);return null===b?this.getColorRange()[0]:this.getColor(b)},getColorKeyLabel:function(){throw Error("ColorAccessor.getColorKeyLabel has no implementation")},getColorRange:function(a){var b=this._domain,c=this.isGroupColor()&&!this.getAutoColor(),f=this.getColorRangeType(),g=this._colorSettings.colorSet,h=this._colorSettings.colorNumber,i=this.hasOwnProperty("_metric")?null===this._metric:!1,j=f===y.RANGE?o(this.getColorRangeData(a),"color"):e(g,h);return c&&(j=d(j,b,this._colorSettings.savedColors)),i?[j[0]]:j},getColorScaleType:function(){return this._colorSettings.colorScaleType},setColorScaleType:function(a){if(!m(x,a))throw Error("invalid colorScaleType");return a!==this._colorSettings.colorScaleType&&(this._colorSettings.colorScaleType=a,a===x.GRADIENT&&this._initColorScale(),this._updateColorScale(),this.trigger(v.UPDATE_COLOR_SCALE_TYPE,a)),this},getColorRangeData:function(){var a=this.isNone,b=this.isGroupColor()?this.getSavedColorsCollection(this._colorSettings.savedColors):this._colorSettings.customColors;return a&&b?[k(b,!0)[0]]:k(b,!0)},setColorRangeData:function(a){this._clearColorCache();var b=this.getColorRangeType(),c=this.getColorSet();this._colorSettings.customColors=a,this._colorSettings.savedColors=f(a),this._updateColorScale(),c!==B&&(this.trigger(v.UPDATE_COLOR_SET),B=c),b===y.RANGE&&this.trigger(v.UPDATE_COLOR_RANGE,a)},getColorRangeType:function(){return this._colorSettings.colorRangeType},setColorRangeType:function(a){if(!m(y,a))throw Error("invalid colorRangeType");return this._colorSettings.colorRangeType=a,a===y.RANGE&&this.resetCustomColors(),this._updateColorScale(),this.trigger(v.UPDATE_COLOR_RANGE_TYPE,a),this},showLegend:function(a){var b=this._colorSettings.showLegend;b!==a&&(this._colorSettings.showLegend=a,this.trigger(a?v.SHOW_LEGEND:v.HIDE_LEGEND))},isLegendShown:function(){return this._colorSettings.showLegend},isLegendDisabled:function(){return this.isNone||!this.getDomain().length},isGroupColor:function(){return m([this.TYPES.GROUP,this.TYPES.DIMENSION,this.TYPES.FIELDS],this.TYPE)},colorRange:function(){return console.warn("ColorAccessor.colorRange is deprecated, use ColorAccessor.getColorRange instead"),this.getColorRange.apply(this,arguments)},populateColorRangeData:function(){var a=this._colorSettings.colorSet,b=this._colorSettings.colorNumber,c=e(a,b);return c.map(function(a,b){return{name:"Color "+b,color:a}})},getColorPositions:function(){return k(this._colorSettings.colorPositions)},setColorPositions:function(a){this._colorSettings.colorPositions=a,this._updateColorScale(),this.trigger(v.UPDATE_COLOR_POSITIONS,k(a,!0))},defaultColorPositions:function(){var a=this.getDomain(),b=this.getColorNumber();return g(a,b)},getSavedColorsCollection:function(a){var b;return b=h.isEmpty(a)?this._colorSettings.customColors:i(a).keys().map(function(b){return{name:b,color:a[b]}}).value()},getColorsFromSet:e,DEFAULT_DOMAIN:z,COLOR_SETS:t,COLOR_SET_NAMES:w,COLOR_SCALE_TYPES:x,COLOR_RANGE_TYPES:y,EVENTS:v},{getColorsFromSet:e,defaultColorPositions:g,DEFAULT_DOMAIN:z,COLOR_SETS:t,COLOR_SET_NAMES:w,COLOR_SCALE_TYPES:x,COLOR_RANGE_TYPES:y,EVENTS:v});b.exports=C},{"../DataAccessor/index":71,"./colorLookup":68,"chroma-js":9,inherit:25,lodash:30}],68:[function(a,b,c){b.exports={ZoomSequential:{2:["#ffc65f","#0096b6"],3:["#ffc65f","#9eb778","#0096b6"],4:["#ffd27c","#ccbd67","#7eb184","#008db6"],5:["#ffd27c","#ccbd67","#7eb184","#0096b6","#0082b5"],6:["#ffd27c","#efc15e","#9eb778","#7eb184","#0096b6","#0082b5"],7:["#ffd27c","#efc15e","#9eb778","#7eb184","#43a79b","#008db6","#097bb1"],8:["#ffdc9c","#ffc65f","#efc15e","#9eb778","#7eb184","#43a79b","#008db6","#097bb1"],9:["#ffdc9c","#ffc65f","#efc15e","#9eb778","#7eb184","#43a79b","#008db6","#0082b5","#1473ac"]},ZoomPalette:{2:["#0095b7","#f4c658"],3:["#0095b7","#a0b774","#f4c658"],4:["#0095b7","#a0b774","#f4c658","#fe8b3e"],5:["#0095b7","#a0b774","#f4c658","#fe8b3e","#cf2f23"],6:["#0095b7","#a0b774","#f4c658","#fe8b3e","#cf2f23","#756c56"],7:["#0095b7","#a0b774","#f4c658","#fe8b3e","#cf2f23","#756c56","#007896"],8:["#0095b7","#a0b774","#f4c658","#fe8b3e","#cf2f23","#756c56","#007896","#47a694"],9:["#0095b7","#a0b774","#f4c658","#fe8b3e","#cf2f23","#756c56","#007896","#47a694","#f9a94b"],10:["#0095b7","#a0b774","#f4c658","#fe8b3e","#cf2f23","#756c56","#007896","#47a694","#f9a94b","#ff6b30"],11:["#0095b7","#a0b774","#f4c658","#fe8b3e","#cf2f23","#756c56","#007896","#47a694","#f9a94b","#ff6b30","#e94d29"],12:["#0095b7","#a0b774","#f4c658","#fe8b3e","#cf2f23","#756c56","#007896","#47a694","#f9a94b","#ff6b30","#e94d29","#005b76"]},YlGn:{2:["#f7fcb9","#31a354"],3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{2:["#edf8b1","#2c7fb8"],3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{2:["#e0f3db","#43a2ca"],3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{2:["#e5f5f9","#2ca25f"],3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{2:["#ece2f0","#1c9099"],3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{2:["#ece7f2","#2b8cbe"],3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{2:["#e0ecf4","#8856a7"],3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{2:["#fde0dd","#c51b8a"],3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],
7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{2:["#e7e1ef","#dd1c77"],3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{2:["#fee8c8","#e34a33"],3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{2:["#ffeda0","#f03b20"],3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{2:["#fff7bc","#d95f0e"],3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{2:["#efedf5","#756bb1"],3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{2:["#deebf7","#3182bd"],3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{2:["#e5f5e0","#31a354"],3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{2:["#fee6ce","#e6550d"],3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{2:["#fee0d2","#de2d26"],3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{2:["#f0f0f0","#636363"],3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{2:["#f1a340","#998ec3"],3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{2:["#d8b365","#5ab4ac"],3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{2:["#af8dc3","#7fbf7b"],3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{2:["#e9a3c9","#a1d76a"],3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{2:["#ef8a62","#67a9cf"],3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{2:["#ef8a62","#999999"],3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{2:["#fc8d59","#91bfdb"],3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{2:["#fc8d59","#99d594"],3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{2:["#fc8d59","#91cf60"],3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{2:["#7fc97f","#fdc086"],3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{2:["#1b9e77","#7570b3"],3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{2:["#a6cee3","#b2df8a"],3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{2:["#fbb4ae","#ccebc5"],3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{2:["#b3e2cd","#cbd5e8"],3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{2:["#e41a1c","#4daf4a"],3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{2:["#66c2a5","#8da0cb"],3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{2:["#8dd3c7","#bebada"],3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}}},{}],69:[function(a,b,c){b.exports=a("./ColorAccessor")},{"./ColorAccessor":67}],70:[function(a,b,c){"use strict";function d(a,b,c){var d=Array.prototype.slice.call(arguments,2);if(f(b,c))return a.emit.apply(a,d);throw Error("unsupported event: "+c)}var e=a("lodash"),f=e.contains,g=e.assign,h=e.partial,i=e.values,j=a("inherit"),k=a("events").EventEmitter,l={METRIC:"METRIC",MULTI_METRIC:"MULTI_METRIC",BOX_PLOT_METRIC:"BOX_PLOT_METRIC",DIMENSION:"DIMENSION",GROUP:"GROUP",FIELDS:"FIELDS"},m=j({__constructor:function(){this.isNone=!1;var a=new k,b=i(this.EVENTS);g(this,{trigger:h(d,a,b),on:a.on.bind(a),off:a.removeListener.bind(a),once:a.once.bind(a)})},raw:function(a){throw Error("DataAccessor.raw has no implementation")},formatted:function(a){throw Error("DataAccessor.formatted has no implementation")},format:function(a){throw Error("DataAccessor.format has no implementation")},updateDomain:function(a){throw Error("DataAccessor.updateDomain has no implementation")},getDomain:function(){throw Error("DataAccessor.getDomain has no implementation")},getMetaData:function(){throw Error("DataAccessor.getMetaData has no implementation")},domain:function(){return console.warn("DataAccessor.domain is deprecated, use DataAccessor.getDomain instead"),this.getDomain.apply(this,arguments)},getLabel:function(){throw Error("DataAccessor.getLabel has no implementation")},TYPES:l},{TYPES:l});b.exports=m},{events:22,inherit:25,lodash:30}],71:[function(a,b,c){b.exports=a("./DataAccessor")},{"./DataAccessor":70}],72:[function(a,b,c){"use strict";function d(a){l(this,a)}function e(){return k(this).thru(h).take().flatten().value()}function f(){return k(this).thru(h).takeRight().flatten().value()}function g(){var a=this.getMetricAccessors()[0],b=j.size(a);return k(a).filter(function(a){return a.TYPE===a.TYPES.MULTI_METRIC?!a.isColor||1===b:!0}).map(function(a){return a.getMetrics()}).flatten().value()}function h(a){var b=["GROUP","DIMENSION","FIELDS"];return k(a).pairs().partition(function(a){return j.contains(b,a[1].TYPE)}).map(i).value()}function i(a){return k(a).flatten().chunk(2).zipObject().value()}var j=a("lodash"),k=j.chain,l=j.assign;d.prototype.getDimensionAccessors=e,d.prototype.getMetricAccessors=f,d.prototype.getSelectedMetrics=g,b.exports=d},{lodash:30}],73:[function(a,b,c){b.exports=a("./DataAccessorsCollection")},{"./DataAccessorsCollection":72}],74:[function(a,b,c){"use strict";function d(a,b,c,d,e){var f=b[d].split(" ");return new u(c,f,a,d,e)}function e(a,b){for(var c=0;c<a.length;c++)a[c].updateDomain(b)}var f=a("lodash"),g=f.chain,h=f.invoke,i=f.partial,j=f.clone,k=f.assign,l=f.defaults,m=f.findIndex,n=f.pullAt,o=f.isEqual,p=f.min,q=f.contains,r=(f.difference,a("inherit")),s=a("../ColorAccessor"),t=a("../../Source/Query/Group"),u=a("../GroupAccessor"),v=s.getColorsFromSet,w=s.DEFAULT_DOMAIN,x=t.TYPES,y=s.TYPES,z=y.DIMENSION,A=k({ADD:"add",REMOVE:"remove",CHANGE:"change"},s.EVENTS),B={},C="NONE",D=r(s,{__constructor:function(a,b,c,e){e=l({},e,B),this._colorGroupIndex=f.get(e,"color.colorGroupIndex",null),delete e.colorGroupIndex,this._dimension=a,this._groupTypes=c,this._domain=[],this._accessors=b.map(i(d,a,c,f,f,e)),s.prototype.__constructor.call(this,e),this.updateDomain(e.data||[])},raw:function(a,b){var c=this._accessors;return"number"==typeof b?c[b].raw(a):h(c,"raw",a)},formatted:function(a,b){var c=this._accessors;return"number"==typeof b?c[b].formatted(a):h(c,"formatted",a)},format:function(a,b){var c=this._accessors;return"number"==typeof b?c[b].format(a):h(c,"format",a)},color:function(a){var b=this.raw(a),c=this.getColorGroupIndex(),d=b[c];return null===d?this.getColorRange()[0]:this.getColor(d)},getColor:function(a){return this._getDistinctColor(a)},updateDomain:function(a){var b,c=this._accessors,d=this.getColorGroupIndex();e(c,a),b=c[d].getDomain(),o(f.sortBy(this._domain),f.sortBy(b))||(this._domain=b,this.setColorNumber(this._domain.length),this._updateColorScale())},_updateColorScaleDomain:function(a,b){this._colorScale.domain(w,b,null)},getDomain:function(){return j(this._domain,!0)},getColorScaleType:function(){return s.COLOR_SCALE_TYPES.DISTINCT},getColorGroupIndex:function(){var a=this._colorGroupIndex,b=this.getGroups(),c=b.length-1;return null==a?c:p([a,c])},getLabel:function(a){var b=this._accessors[a];return b?b.getLabel():null},getColorKeyLabel:function(){var a=this.getColorGroupIndex();return this.getLabel(a)},getType:function(a){var b=this._accessors[a];return b?b.getType():null},getLabels:function(){var a=this._accessors;return g(a).invoke("getLabel").value()},getColorName:function(a){var b=this._accessors[a];return b?b.getColorName():null},getColorNames:function(){var a=this._accessors;return h(a,"getColorName")},getTypes:function(){var a=this._accessors;return g(a).invoke("getType").value()},getGroups:function(){var a=this._accessors;return g(a).invoke("getGroup").value()},getGroup:function(a){var b=this._accessors,c=b[a];return c?c.getGroup():null},getMetaData:function(a){var b=[].concat(this._groupTypes);return this._singleGrouped&&(b.length=1),b.map(function(b){return a.filter(function(a){return q(b,a.type)})})},setGroup:function(a,b){var c=this._accessors,d=c[a],e=t.validate(b);if(!t.isSuccess(e))throw Error(e);if(!d)throw Error("invalid group index");var f=d.getGroup();o(f,b)||(d.setGroup(b),this.trigger(A.CHANGE,c[a].getGroup(),f,a),this.isColor&&a===this.getColorGroupIndex()&&this._populateDefaultColors())},addGroup:function(a){var b,c=t.validate(a),e=this._accessors,f=this._dimension,g=this._groupTypes;if(!t.isSuccess(c))throw Error(c);b=d(f,g,a,e.length),e.push(b),this.isColor&&this._populateDefaultColors(),this.trigger(A.ADD,b.getGroup())},removeGroup:function(a){var b,c=this._accessors;b="object"==typeof a?m(this.getGroups(),a):a;var d=n(c,b)[0];d&&this.trigger(A.REMOVE,d.getGroup())},resetGroups:function(a){var b=this.getGroups();if(!Array.isArray(a))throw Error("array expected");g(b).forEach(this.removeGroup.bind(this)).value(),g(a).forEach(this.addGroup.bind(this)).value()},populateColorRangeData:function(){var a=this.getDomain(),b=this._colorSettings.colorSet,c=this._colorSettings.colorNumber,d=v(b,c);return a.map(function(a,b){return{name:a,color:d[b%d.length]}})},allowsEmpty:function(){return this._groupTypes.map(function(a){return f.contains(a,C)})},setSingleGrouped:function(a){this._singleGrouped=!!a,a&&this.removeGroup(1)},TYPES:y,TYPE:z,EVENTS:A,GROUP_TYPES:x},{TYPES:y,TYPE:z,EVENTS:A,GROUP_TYPES:x});b.exports=D},{"../../Source/Query/Group":100,"../ColorAccessor":69,"../GroupAccessor":79,inherit:25,lodash:30}],75:[function(a,b,c){b.exports=a("./DimensionAccessor")},{"./DimensionAccessor":74}],76:[function(a,b,c){"use strict";function d(a){return o(k(t),a.type)?new r(a.type):{format:f}}var e=a("lodash"),f=e.identity,g=(e.partial,e.chain),h=e.defaults,i=e.assign,j=e.clone,k=e.values,l=(e.every,e.reject,e.pullAt),m=e.find,n=e.findIndex,o=(e.map,e.contains),p=a("inherit"),q=a("../ColorAccessor"),r=a("../MetricFormatter"),s=a("../../Source/Query/Field"),t={NUMBER:"NUMBER",TIME:"TIME"},u=q.TYPES,v=u.FIELDS,w=i({ADD:"add",REMOVE:"remove",change:"change"},q.EVENTS),x={},y=p(q,{__constructor:function(a,b){b=h({},b,x),q.prototype.__constructor.call(this,b),this._fields=[],this._formatters=[],a.forEach(this.addField.bind(this))},raw:function(a,b){var c=this.getFields(),d=this.getField(b),e=n(c,d);return j(a)[e]},formatted:function(a,b){var c=this._formatters,d=this.getFields(),e=this.getField(b),f=n(d,e),g=c[f],h=this.raw(a,b);return g?g.format(h):h},updateDomain:function(){this._domain=[],this._updateColorScale()},getFields:function(){return j(this._fields,!0)},getField:function(a){var b=this.getFields();return j("number"==typeof a?b[a]:m(b,a),!0)},setField:function(a,b){b=j(b,!0);var c,e,f=this._fields,g=this._formatters,h=this.getField(a);if(!h)throw Error("cannot find field to set");if(c=s.validate(b),!s.isSuccess(c))throw Error(c);e=n(f,h),f[e]=b,g[e]=d(b),this.trigger(w.CHANGE,j(b,!0),h)},addField:function(a){var b=s.validate(a);if(!s.isSuccess(b))throw Error(b);this._fields.push(a),this._formatters.push(d(a)),this.trigger(w.ADD,a)},removeField:function(a){var b=this._fields,c=b.length-1;"object"==typeof a&&(c=n(b,a)),this._removeFieldAt(c)},resetFields:function(a){var b=this.getFields();if(!Array.isArray(a))throw Error("array expected");g(b).forEach(this.removeField.bind(this)).value(),g(a).forEach(this.addField.bind(this)).value()},_removeFieldAt:function(a){var b=this._fields,c=this._formatters,d=l(b,a)[0];d&&(l(c,a),this.trigger(w.REMOVE,d))},TYPES:u,TYPE:v,EVENTS:w},{TYPES:u,TYPE:v,EVENTS:w});b.exports=y},{"../../Source/Query/Field":96,"../ColorAccessor":69,"../MetricFormatter":85,inherit:25,lodash:30}],77:[function(a,b,c){b.exports=a("./FieldsAccessor.js")},{"./FieldsAccessor.js":76}],78:[function(a,b,c){"use strict";var d=a("lodash"),e=d.clone,f=d.defaults,g=d.assign,h=d.contains,i=(d.difference,d.isEqual),j=a("inherit"),k=a("../ColorAccessor/index"),l=a("../../Source/Query/Group"),m=l.TYPES,n=k.TYPES,o=n.GROUP,p={label:"Volume",name:"count",type:"NUMBER"},q=g({CHANGE:"change"},k.EVENTS),r="group",s="NONE",t={colorNum:7},u=k.DEFAULT_DOMAIN,v=a("../GroupFormatter"),w=k.getColorsFromSet,x=j(k,{__constructor:function(a,b,c,d,g){g=f({},g,t),k.prototype.__constructor.call(this,g),this._dimension=c||0,this._index=d||0,this._group=e(a,!0),this._formatter=v,this._attributeType=b,this.updateDomain(g.data||[])},raw:function(a){var b=this._index;this._dimension;return a[r][b]},formatted:function(a){var b=this.raw(a);return this.format(b)},format:function(a){var b=this.getGroup();return this._formatter(b,a)},getColor:function(a){return this._getDistinctColor(a)},updateDomain:function(a){var b=d.chain(a).map(this.raw.bind(this)).uniq().value(),c=!i(d.sortBy(this._domain),d.sortBy(b));this._domain=b,this.isColor&&c&&(this.setColorNumber(b.length),this._updateColorScale())},getDomain:function(){return e(this._domain,!0)},getColorScaleType:function(){return k.COLOR_SCALE_TYPES.DISTINCT},getMetaData:function(a){var b=this._attributeType;return a.filter(function(a){return h(b,a.type)&&!d.isEqual(p,a)})},_updateColorScaleDomain:function(a,b,c){this._colorScale.domain(u,b,null)},getGroup:function(){return e(this._group,!0)},getGroups:function(){var a=this.getGroup();return[].concat(a)},setGroup:function(a,b){var c=l.validate(a),d=this.getGroup();if(b=b||{},c!==l.VALIDATION_SUCCESS)throw Error(c);i(d,a)||(this._group=e(a,!0),b.forceSort||(this._group.sort.name=this.getNewSortName(this._group,d)),this.trigger(q.CHANGE,this.getGroup(),d),this.isColor&&this._populateDefaultColors())},resetGroup:function(a){this.setGroup(a,{forceSort:!0})},getNewSortName:function(a,b){var c=a.sort.name;return b.name===b.sort.name&&a.name!==b.name&&(c=a.name),c},getLabel:function(){return this.getGroup().label},getColorKeyLabel:function(){return this.getLabel()},getLabels:function(){var a=this.getGroup();return[].concat(a.label)},getColorName:function(){return this.getGroup().name},getColorNames:function(){return[].concat(this.getColorName())},getType:function(){return this.getGroup().type||l.TYPES.ATTRIBUTE},getLimit:function(){return this.getGroup().limit},allowsEmpty:function(){return h(this._attributeType,s)},populateColorRangeData:function(){var a=this.getDomain(),b=this._colorSettings.colorSet,c=this._colorSettings.colorNumber,d=w(b,c);return a.map(function(a,b){return{name:a,color:d[b%d.length]}})},TYPES:n,TYPE:o,EVENTS:q,GROUP_TYPES:m},{TYPES:n,TYPE:o,EVENTS:q,GROUP_TYPES:m});b.exports=x},{"../../Source/Query/Group":100,"../ColorAccessor/index":69,"../GroupFormatter":81,inherit:25,lodash:30}],79:[function(a,b,c){b.exports=a("./GroupAccessor")},{"./GroupAccessor":78}],80:[function(a,b,c){"use strict";function d(a){var b;switch(a){case"":b="[Empty]";break;case null:b="[Null]";break;default:b=a}return b}var e=(a("lodash"),a("moment"));b.exports=function(a,b){var c;switch(a.type){case"TIME":var f={MINUTE:"MM/DD/YYYY h:mm A",HOUR:"MM/DD/YYYY h A",DAY:"MM/DD/YYYY",WEEK:"ww/gggg",MONTH:"MM/YYYY",YEAR:"YYYY"};c=e(b).format(f[a.func]);break;default:c=d(b)}return c}},{lodash:30,moment:31}],81:[function(a,b,c){b.exports=a("./GroupFormatter")},{"./GroupFormatter":80}],82:[function(a,b,c){"use strict";function d(a,b,c,d){var e=1===h.filter(c,{func:v}).length;return d.func===v&&e?!1:!(a.name===b.name&&a.func===v||"count"===a.name)}function e(){return null}function f(a){return new r(a.type,a.dataResolution,a.granularity)}function g(a){return 0===a.length?[]:[h.min(a),h.max(a)]}var h=a("lodash"),i=a("inherit"),j=h.defaults,k=h.assign,l=h.curry,m=h.clone,n=h.chain,o=h.isEqual,p=h.isNull,q=(h.difference,a("../ColorAccessor/index")),r=a("../MetricFormatter"),s=a("../../Source/Query/Metric"),t={},u="None",v="last_value",w=s.TYPES,x=q.TYPES,y=x.METRIC,z=k({CHANGE:"change",SET:"set",UNSET:"unset"},q.EVENTS),A=i(q,{__constructor:function(a,b){q.prototype.__constructor.call(this,b),b=j({},b,t),a?(this.setMetric(a),this.updateDomain([])):this.unsetMetric()},_setMetric:function(a){this._metric=m(a,!0),this._formatter=f(a),this.isNone=!1,this._getValue=B(this._metric)},setMetric:function(a){var b=s.validate(a),c=this.getMetric();if(!s.isSuccess(b))throw Error(b);o(a,c)||(this._setMetric(a),this.setColorPositions(null),c?this.trigger(z.CHANGE,this.getMetric(),c):(this.trigger(z.SET,this.getMetric()),this.isColor&&!h.isUndefined(c)&&this._updateCustomColors()))},unsetMetric:function(){var a=this.getMetric();this._unsetMetric(),this.trigger(z.UNSET,a)},_unsetMetric:function(){this._metric=null,this._formatter=null,this._domain=[null],this.isNone=!0,this._getValue=e,this._updateColorScale()},getMetric:function(){return m(this._metric,!0)},getMetrics:function(){var a=this.getMetric();return p(a)?[]:[].concat(a)},getLabel:function(){var a=this.getMetric();return null===a?u:a.label},getLabels:function(){return[].concat(this.getLabel())},getColorName:function(){var a=this.getMetric();return a.name+(a.func?":"+a.func:"")},getColorNames:function(){return[].concat(this.getColorName())},getColorKeyLabel:function(){var a=this.getMetric(),b="";return h.has(a,"func")&&null!==a.func&&""!==a.func&&(b=" ("+h.capitalize(a.func)+")"),this.getLabel()+b},getType:function(){var a=this.getMetric();return a.type||w.NUMBER},raw:function(a){return this._getValue(a)},formatted:function(a){var b=a?this.raw(a):null;return this.format(b)},format:function(a){var b=this._formatter;return null===b?null:b.format(a)},updateDomain:function(a){var b=n(a).map(this.raw,this).thru(g).value(),c=!o(h.sortBy(this._domain),h.sortBy(b));this._domain=b,this.isColor&&c&&this._updateColorScale()},getDomain:function(){return m(this._domain,!0)},getMetaData:function(a,b){var c=h.findWhere(b,{func:v});return c?a.map(function(a){return h.extend({},a,{notSupported:d(a,c,b,this._metric)})}.bind(this)):a},TYPES:x,TYPE:y,EVENTS:z,METRIC_TYPES:w,NONE_LABEL:u},{TYPES:x,TYPE:y,EVENTS:z,METRIC_TYPES:w,NONE_LABEL:u});b.exports=A;var B=l(function(a,b){return null===a?null:s.isCount(a)?h.get(b,"current.count"):h.chain(b).get("current.metrics").get(a.name).get(a.func).value()})},{"../../Source/Query/Metric":102,"../ColorAccessor/index":69,"../MetricFormatter":85,inherit:25,lodash:30}],83:[function(a,b,c){b.exports=a("./MetricAccessor")},{"./MetricAccessor":82}],84:[function(a,b,c){"use strict";var d=a("lodash"),e=a("moment"),f=a("numeral");b.exports=function(a,b,c){b="NONE"===b?!1:b;var g=a,h=!1,i=b,j=function(a){return h||(h=new Date(1*a)),h};this.format=function(a){var b=null;h=!1;var k,l,m,n,o,p;switch(g){case"MONEY":if(d.isString(a)){var q=/\(\d{1,2}%\)$/,r=q.exec(a);b=r?f(a).format("$0,0.00")+" "+r[0]:f(a).format("$0,0.00")}else b=f(a).format("$0,0.00");break;case"TIME":parseInt(a)===a&&(a=Number(a)),b=e(a);var s;s=c&&-1!==["DAY","WEEK","MONTH","YEAR"].indexOf(c)?"MM/DD/YYYY":"MM/DD/YYYY, hh:mm:ss A",b=b.format(s);break;case"DATE":b=j(a).getDay();break;case"MINUTE":if(isNaN(1*a))return"";n=j(a).getHours(),o=j(a).getMinutes(),p=n>12?n-12:n||12,b=(10>p?"0":"")+p+":"+(10>o?"0"+o:o)+(n>=12?" pm":" am");break;case"HOUR":if(isNaN(1*a))return"";n=j(a).getHours(),p=n>12?n-12:n||12,b=(10>p?"0":"")+p+(n>=12?" pm":" am");break;case"DAY":if(isNaN(1*a))return"";"DAY"===i?(m=j(a).getUTCDate(),l=j(a).getUTCMonth()+1):(m=j(a).getDate(),l=j(a).getMonth()+1),b=(10>l?"0"+l:l)+" / "+(10>m?"0"+m:m);break;case"WEEK":if(isNaN(1*a))return"";"DAY"===i?(m=j(a).getUTCDate(),l=j(a).getUTCMonth()+1):(m=j(a).getDate(),l=j(a).getMonth()+1),b=(10>l?"0"+l:l)+" / "+(10>m?"0"+m:m);
break;case"MONTH":if(isNaN(1*a))return"";"DAY"===i?(l=j(a).getUTCMonth()+1,k=j(a).getUTCFullYear()):(l=j(a).getMonth()+1,k=j(a).getFullYear()),b=k+" / "+(10>l?"0"+l:l);break;case"YEAR":if(isNaN(1*a))return"";b="DAY"===i?j(a).getUTCFullYear():j(a).getFullYear();break;default:if(d.isString(a))return a;if(d.isUndefined(a))return null;Math.abs(a)>=1e-4&&Math.abs(a)<1?b=f(a).format("0.0000"):Math.abs(a)>=1?b=-1!==a.toString().indexOf(".")?f(a).format("0,0.00"):f(a).format("0,0"):(null===a&&(a=0),b="number"==typeof a&&0!==a?a.toExponential(4).toString():a.toString())}return b}}},{lodash:30,moment:31,numeral:32}],85:[function(a,b,c){b.exports=a("./MetricFormatter")},{"./MetricFormatter":84}],86:[function(require,module,exports){"use strict";function notSupportedMetaItem(a,b){return!(b&&a.name===b.name&&a.func===LAST_VALUE||"count"===a.name)}function createAccessor(a){return new MetricAccessor(a)}function toColorDomain(a){return chain(a).keys().map(Number).value()}function toValue(a){return a.func?a.name+":"+a.func:a.name}var _=require("lodash"),chain=_.chain,spread=_.spread,invoke=_.invoke,forEach=_.forEach,partial=_.partial,clone=_.clone,assign=_.assign,pullAt=_.pullAt,findIndex=_.findIndex,find=_.find,isEqual=_.isEqual,matches=_.matches,diff=_.difference,inherit=require("inherit"),Parent=require("../ColorAccessor"),Metric=require("../../Source/Query/Metric"),MetricAccessor=require("../MetricAccessor"),getColorsFromSet=Parent.getColorsFromSet,METRIC_TYPES=Metric.TYPES,TYPES=Parent.TYPES,TYPE=TYPES.MULTI_METRIC,DEFAULT_DOMAIN=Parent.DEFAULT_DOMAIN,LAST_VALUE="last_value",EVENTS=assign({ADD:"add",REMOVE:"remove",CHANGE:"change"},Parent.EVENTS),MultiMetricAccessor=inherit(Parent,{__constructor:function(a,b){b=b||{},Parent.prototype.__constructor.call(this,b),this._accessors=a.map(createAccessor),this.updateDomain(b.data||[])},raw:function(a,b){var c=this._accessors;return"number"==typeof b?c[b].raw(a):invoke(c,"raw",a)},formatted:function(a,b){var c=this._accessors;return"number"==typeof b?c[b].formatted(a):invoke(c,"formatted",a)},format:function(a,b){var c=this._accessors;return"number"==typeof b?c[b].format(a):invoke(c,"format",a)},updateDomain:function(a){var b=this._accessors,c=this.getMetrics();invoke(b,"updateDomain",a);var d=chain(c).map(toValue).uniq().value(),e=!isEqual(_.sortBy(this._domain),_.sortBy(d));this._domain=d,this.isColor&&e&&(this.setColorNumber(this._domain.length),this._updateDistinctColors())},_updateColorScaleDomain:function(a,b){this._colorScale.domain(DEFAULT_DOMAIN,b,null)},getDomain:function(){return clone(this._domain,!0)},color:function(a){var b=this.getMetrics(),c="number"==typeof a?b[a]:find(b,a);if(!c)throw Error("cannot find color");return this.getColor(toValue(c))},getColor:function(a){return this._getDistinctColor(a)},getColorKeyLabel:function(){return"Color"},getColorScaleType:function(){return Parent.COLOR_SCALE_TYPES.DISTINCT},setMetric:function(a,b){var c,d=Metric.validate(b),e=this._accessors,f=e[a];if(!Metric.isSuccess(d))throw Error(d);if(!f)throw Error("invalid metric index");c=f.getMetric(),isEqual(f,c)||(f.setMetric(b),this.trigger(EVENTS.CHANGE,e[a].getMetric(),c,a))},getMetric:function(a){var b=this._accessors,c=b[a];return c?c.getMetric():null},getMetrics:function(){var a=this._accessors;return invoke(a,"getMetric")},removeMetric:function(a){var b=this.getMetrics(),c=findIndex(b,"name",a.name);this._removeMetricAt(c)},resetMetrics:function(a){var b=this.getMetrics();if(!Array.isArray(a))throw Error("array expected");chain(b).zip(a).all(spread(isEqual)).value()||(this.isColor?(forEach(b,this.pullMetric.bind(this)),forEach(a,this.pushMetric.bind(this))):(forEach(b,this.removeMetric.bind(this)),forEach(a,this.addMetric.bind(this))))},_removeMetricAt:function(a){var b=this._accessors,c=pullAt(b,a)[0];c&&this.trigger(EVENTS.REMOVE,c.getMetric())},pushMetric:function(a){var b,c=Metric.validate(a),d=this._accessors;if(c!==Metric.VALIDATION_SUCCESS)throw Error(c);b=createAccessor(a),d.push(b)},pullMetric:function(a){var b=this._accessors,c=this.getMetrics(),d=findIndex(c,"name",a.name);pullAt(b,d)},addMetric:function(a){var b,c=Metric.validate(a),d=this._accessors;if(c!==Metric.VALIDATION_SUCCESS)throw Error(c);b=createAccessor(a),d.push(b),this.trigger(EVENTS.ADD,b.getMetric())},getLabel:function(a){var b=this._accessors[a];return b?b.getLabel():null},getLabels:function(){var a=this._accessors;return invoke(a,"getLabel")},getColorName:function(a){var b=this._accessors[a];return b?b.getColorName():null},getColorNames:function(){var a=this._accessors;return invoke(a,"getColorName")},getTypes:function(){var a=this._accessors;return invoke(a,"getType")},getType:function(a){var b=this._accessors[a];return b?b.getType():null},populateColorRangeData:function(){var a=this,b=this.getDomain(),c=this._colorSettings.colorSet,d=this._colorSettings.colorNumber,e=getColorsFromSet(c,d);return b.map(function(b,c){return{name:b,label:a.getLabel(c),color:e[c%e.length]}})},getColorRangeData:function(active){var isNone=this.hasOwnProperty("_metric")?null===this._metric:!1,customColors=this._colorSettings.customColors,domain=this._domain;if(active&&customColors&&customColors.length>domain.length){var domainStr=domain.join();customColors=_.filter(customColors,function(color){return eval("/(^|,)"+color.name+"([:,]|$)/.test(domainStr)")})}return isNone?[clone(customColors,!0)[0]]:clone(customColors,!0)},_updateDistinctColors:function(){var a=this.getColorRangeType();if(a===this.COLOR_RANGE_TYPES.RANGE){var b=this._colorSettings.customColors,c=this.populateColorRangeData(),d=_.uniq(b.concat(c),"label");return _.forEach(c,function(a,b){var c=_.findIndex(d,{label:a.label});if(~c&&b!==c){var e=d[c];d.splice(c,1),d.splice(b,0,e)}}),this._colorSettings.customColors=d,d}this._colorSettings.customColors=this.populateColorRangeData(),this._updateColorScale()},getMetaData:function(a,b){var c=_.findWhere(b,{func:LAST_VALUE});return c?a.map(function(a){return _.extend({},a,{notSupported:notSupportedMetaItem(a,c,b)})}.bind(this)):a},TYPES:TYPES,TYPE:TYPE,EVENTS:EVENTS,METRIC_TYPES:METRIC_TYPES},{TYPES:TYPES,TYPE:TYPE,EVENTS:EVENTS,METRIC_TYPES:METRIC_TYPES});module.exports=MultiMetricAccessor},{"../../Source/Query/Metric":102,"../ColorAccessor":69,"../MetricAccessor":83,inherit:25,lodash:30}],87:[function(a,b,c){b.exports=a("./MultiMetricAccessor")},{"./MultiMetricAccessor":86}],88:[function(a,b,c){"use strict";function d(a,b,c,d,e,f,g,h){var i=C(h).omit("groups","metrics","fields").assign(_.accessorsToConfig(g)).thru(E(a.createQuery.bind(a),c)).value();return S.all([a,b,c,i,e,f,g,h])}function e(a,b,c,d,e,f,i){var j=a.sources,k=a.visualizations;return c=o(j,c),e=q(k,e),S.all([a,b,c,d,e,f]).then(D(g)).then(D(h)).then(D(function(a,b,c,d,e,f,g){var h=C(d).omit("groups","metrics","fields").assign(_.accessorsToConfig(g)).thru(E(a.createQuery.bind(a),c)).value();return S.all([a,b,c,h,e,f,g,u(a,e,null),v(a,e,null,b)])})).then(D(l)).then(D(F(m,i)))}function f(a,b,c,d,e,f){var i=c.getSourceId(),j=a.sources,k=a.visualizations,n=o(j,{id:i});return d=q(k,d),S.all([a,b,n,c,d,e]).then(D(g)).then(D(h)).then(D(function(a,b,c,d,e,f,g){return _.queryToAccessors(d,g),S.all([a,b,c,d,e,f,g,u(a,e,null),v(a,e,null,b)])})).then(D(l)).then(D(F(m,f)))}function g(a,b,c,d,e,f,g){var h=w(e.id,c),i=Y.parse(c,e,J(f,h)),j=$.configureDataAccessors(i);return S.all([a,b,c,d,e,f,j,g])}function h(a,b,c,d,e,f,g,h){var i=w(e.id,c),j=Y.parse(c,e,J(f,i)),l=Array.isArray(d.filters)?d.filters:d.filters.toJSON(),m=x(i,j,l);return k(m,c)?S.reject("no available object field found"):S.all([a,b,c,d,e,f,g,h])}function i(a,b,c,d){b["Row Attributes"]=[],b["Column Attributes"]=[],a.groups.forEach(function(a,c){b["Row Sorting"]=[{dir:a.sort.dir,name:a.sort.name}],b["Row Attributes"][c]=a.form?{name:a.name,form:a.form}:{name:a.name},"TIME"===a.type&&(b["Time Attribute"]={name:a.name,timestampGranularity:a.func})}),c.Metrics.resetMetrics(d.metrics)}function j(a,b){var c=[a.pivot.groups.rows[0],a.pivot.groups.cols[0]].filter(function(a){return"undefined"!=typeof a});c.length>0&&(b.groups.forEach(function(a,b){c[b]&&(c[b].limit=a.limit,c[b].sort=a.sort)}),a.groups=c)}function k(a,b){function c(a,b){var c=P(a,e),d=a.concat(c);return O(d,b)||null===b?b:void 0}function d(a){return B.any(a,B.isUndefined)}function e(a){var b=a.split(".");return b[b.length-1]}var f=b.formulas||[],g=b.volumeMetric||[],h=b.objectFields.concat(g,f),i=N(h,"name");return C(a).map(E(c,i)).uniq().thru(d).value()}function l(a,b,c,d,e,f,g){var h=new _(d,g),i=a.run(d,!1);return S.all([a,b,c,d,e,f,g,h,i])}function m(a,b,c,d,e,f,g,h,i,j){var k=aa.create(a,c,d,i,b,f,g,e.type,j),l=C().tap(h.removeAllListeners.bind(h)).tap(k.clear).tap(k.teardownListeners.bind(k)).tap(function(){b.innerHTML=""});return X.init(e,[k]).then(function(){(k.update||k.processData)&&i.start();var a={thread:i,dataAccessors:g,filters:d.filters,time:d.time,player:d.player,state:k.state,config:d.config,axisLabels:k.axisLabels,on:k.on,off:k.off,clear:k.clear,resize:k.resize,setVisualizationName:k.setVisualizationName,getVisualizationType:k.getVisualizationType,initColorAccessorListeners:k.initColorAccessorListeners,removeColorAccessorListeners:k.removeColorAccessorListeners,source:k.source,getSourceId:d.getSourceId,toRequest:d.toRequest,isInteractive:k.isInteractive,isTimeTrends:k.isTimeTrends,variables:k.variables,variableToString:Z.stringify,eventDispatcher:k.eventDispatcher,createHandler:k.createHandler,removeHandler:k.removeHandler,remove:function(){return S.all([i.stop(),l.value()])}};return"PIVOT_TABLE"===e.type&&B.assign(a,{element:k.element,trigger:k.trigger}),S.resolve(a)})}function n(a,b){return new S(function(c,d){var e=a.find(b);e?c(e):d("source doesn't exist")})}function o(a,b){return W.isValid(b)?(a.add(b),S.resolve(b)):n(a,b)["catch"](a.update.bind(null,b)).then(E(n,a,b))}function p(a,b){return new S(function(c,d){var e=a.find({id:b})||a.find({name:b});e?c(e):d("visualization doesn't exist")})}function q(a,b){return p(a,b)["catch"](a.update.bind(null,{name:b})).then(E(p,a,b))}function r(a,b){var c=a.mode,d=a.getCredentials(),e=a.getHomePath();return b=y(c,d,b),W.fetch(e,b)}function s(a,b){var c=a.mode,d=a.getCredentials(),e=a.getHomePath();return b=y(c,d,b),X.fetch(e,b)}function t(a,b){var c=a.mode,d=a.getCredentials(),e=a.getHomePath();return b=y(c,d,b),ba.fetch(e,b)}function u(a,b,c){var d=b.libs,e=a.mode,f=a.getCredentials(),g=a.getHomePath(),h=a.libraries.get(),i=K(d,h);c=y(e,f,c);var j=E(ba.load,g,B,c);return S.all(i.map(j)).then(a.libraries.add)}function v(a,b,c,d){var e=a.mode,f=a.getCredentials(),g=a.getHomePath();return c=y(e,f,c),X.loadComponents(g,b,c,d)}function w(a,b){return C(b).get("visualizations").find({visId:a}).get("source.variables").value()}function x(a,b,c){function d(a,b){a=a.filter(function(a){return a.operation!==ia});var c=N(a,"path");return b.concat(c)}function e(a,b){var c=a["Row Attributes"]||[],d=a["Column Attributes"]||[],e=N(c.concat(d),"name");return b.concat(e)}function f(a){function b(a){return!B.isUndefined(a)}var c=N(a.values,"value.name"),d=N(a.values,"value.sort.name").filter(b),e=R(c,d);return P(e,function(b){return g(a)?null:b})}function g(a){var b=a.config||{},c=M(a,"metricType")&&"color"===a.metricType,d=b.displayNoneOption,e=N(a.values,"value");return(c||d)&&O(e,null)}return a=a||{},C(b).map(f).flatten().thru(Q(E(e,a),E(d,c))).uniq().compact().value()}function y(a,b,c){if(c=c||{},a===ea.STANDALONE){if(b.key)return I({},c,{key:b.key});if(b.access_token)return I({},c,{access_token:b.access_token})}return c}function z(a,b,c){return a(c).then(b)}var A="Invalid options: either standalone credentials or user credentials must be defined",B=a("lodash"),C=B.chain,D=B.spread,E=B.partial,F=B.partialRight,G=B.filter,H=B.find,I=B.assign,J=B.defaults,K=B.difference,L=B.bindAll,M=B.has,N=B.pluck,O=B.includes,P=B.map,Q=(B.uniq,B.flow),R=B.union,S=a("promise"),T=a("../Data"),U=a("./Service"),V=a("./User"),W=a("./Source"),X=a("./Visualization"),Y=a("./VariableParser"),Z=a("./VariableStringify"),$=a("./Accessors/AccessorParser"),_=a("./Accessors/AccessorController"),aa=a("./Visualization/API"),ba=a("./Visualization/Library"),ca=(a("./Source/Query"),a("./ThreadManager")),da=a("./QueryInheritanceManager"),ea={CLIENT:0,STANDALONE:1},fa=(T.accessors.getter,T.mutators.add),ga=T.mutators.merge,ha=(T.mutators.remove,T.mutators.change),ia="TEXT_SEARCH",ja=function(a){L(this,["createQuery","runQuery"]),a=a||{};var b=a.credentials,c=a.application,d=a.sources||[],e=a.visualizations||[],f=a.libraries||[];if("object"!=typeof b)throw Error(A);if(U.isValidStandalone(b))this.mode=ea.STANDALONE;else{if(!V.isValid(b))throw Error(A);this.mode=ea.CLIENT}var g=U.getHomePath(c),h=new ca(c,b),i=T.accessors.getter(b),j=T.accessors.getter(g),k=E(G,d),l=ga(fa,ha,d,W),m=E(H,d),n=E(r,this),o=E(z,n,l),p=E(G,e),q=ga(fa,ha,e,X),u=E(H,e),v=E(s,this),w=E(z,v,q),x=E(G,f),y=ga(fa,ha,f,ba),B=E(H,f),C=E(t,this),D=E(z,C,y);I(this,{run:h.startThread,getHomePath:j,getCredentials:i,sources:{get:k,add:l,find:m,fetch:n,update:o},visualizations:{get:p,add:q,find:u,fetch:v,update:w},libraries:{get:x,add:y,find:B,fetch:C,update:D}})};ja.MODES=ea,ja.prototype={createQuery:function(a,b){var c=this.sources;return o(c,a).then(E(W.createQuery,B,b))},visualize:function(a){if(a=a||{},!(a.element instanceof HTMLElement))throw Error("element expected");var b=a.element,c=this,d=a.visualization,g=a.variables,h=a.config,i=a.query,j=i?i.getSourceId():a.source,k=a.interactive;return h?e(c,b,j,h,d,g,k):f(c,b,i,d,g,k)},switchVis:function(a,b){if(a=a||{},b=b||{},b.isFromUndo=b.isFromUndo||!1,b.visConfig=b.visConfig||null,!(a.element instanceof HTMLElement))throw Error("element expected");var c=a.element,e=this,f=a.visualization,k=a.variables,n=a.config,o=a.source,p=a.interactive,r=a.dataAccessors;return q(e.visualizations,f).then(function(a){return g(e,c,o,null,a,k,n).then(D(d)).then(D(h)).then(D(function(a,c,d,e,f,g,h,k){var l=B.omit(k,"groups","metrics","fields");b.isFromUndo&&(l=B.omit(l,"filters")),k.pivot.groups&&j(k,e.config);var m=da({currentConfig:k,nextConfig:e.config,nextVisType:f.type,nextDataAccessors:h,origDataAccessors:r,source:d},{isFromUndo:b.isFromUndo,visConfig:b.visConfig});"PIVOT_TABLE"===f.type&&i(k,g,h,m);var n=I({},m,l),o=a.createQuery(d,n);return S.all([a,c,d,o,f,g,h,u(a,f,null),v(a,f,null,c)])})).then(D(function(a,b,c,d,e,f,g){return _.queryToAccessors(d,g),S.all([a,b,c,d,e,f,g])})).then(D(l)).then(D(F(m,p)))})},runQuery:function(a,b,c){var d=!0;this.run(a,d).then(function(a){var d=[];a.on("thread:startVisDone",E(T.mutators.empty,d)),a.on("thread:message",b),a.on("thread:error",c)})["catch"](c)}},b.exports=ja},{"../Data":151,"./Accessors/AccessorController":61,"./Accessors/AccessorParser":63,"./QueryInheritanceManager":90,"./Service":94,"./Source":114,"./Source/Query":110,"./ThreadManager":118,"./User":120,"./VariableParser":122,"./VariableStringify":124,"./Visualization":142,"./Visualization/API":136,"./Visualization/Library":140,lodash:30,promise:36}],89:[function(a,b,c){"use strict";function d(a,b){b=b||{},b.isFromUndo=b.isFromUndo||!1,b.visConfig=b.visConfig||null;var c=a.currentConfig,d=a.nextConfig,h=a.nextVisType,u=a.nextDataAccessors,v=a.origDataAccessors,w=a.source.objectFields,x=q(c.groups),y=q(d.groups),z=q(c.metrics),A=q(d.metrics),B=[],C=[],D=[],E=k(l(s),h),F=m(s.LINE_CHART_CONTINUOUS,h),G=h===t,H=j(u).result("getMetricAccessors").get(0).pluck("TYPE").contains("MULTI_METRIC").value(),I=j(v).result("getMetricAccessors").get(0).pluck("TYPE").contains("MULTI_METRIC").value();if(x.length>y.length&&!b.isFromUndo&&(B=r(x,y.length)),x.length!==y.length||b.isFromUndo||(B=x),x.length<y.length&&!b.isFromUndo&&(B=x),0===x.length&&(B=y),0===y.length&&(B=[]),b.isFromUndo&&(B=b.visConfig?g.size(b.visConfig.groups)?b.visConfig.groups:[]:y.length?y:[]),E&&!b.isFromUndo){var J=n(x,{type:"TIME"}),K=n(y,{type:"TIME"}),L=o(x,{type:"TIME"});F?(J?(p(L)?B[0]=L[0]:B[0]=y[0],B[1]=J):B[1]=K,f(B[1])):(J?B[0]=J:B[0]=K,f(B[0]))}if(!b.isFromUndo){var M=["Color","Bar Color","Bubble Color","Color Metric"],N=g.first(g.intersection(M,g.keys(v))),O=g.first(g.intersection(M,g.keys(u))),P=!!N&&!!v[N].unsetMetric,Q=!!O&&!!u[O].unsetMetric;if("BOX_PLOT"===h)C=o(z,function(a){var b="FORMULA"===a.type||"count"===a.name||"distinct_count"===a.func;return a.func=A[0].func,a.args=A[0].args,b}),C=p(C)?C:A;else{var R=function(a){return function(b){return b[a]}};(P&&!Q||P&&H)&&v[N].unsetMetric();var S=g.chain(v.getSelectedMetrics()).compact().value();H&&(S=g.uniq(S,!1,R("label"))),C=o(S,function(a){return"percentiles"===a.func&&(a.func=e(w,a.name),delete a.args),!n(A,function(b){return b.name===a.name})}),g.size(S)||(!P&&Q&&!H||P&&!Q||P&&H&&!G&&!I)&&(C=g.take(C,g.size(A)-1)),!H&&Q&&(C=g.take(C,g.size(A)-1)),g.size(C)<g.size(A)&&!b.isFromUndo&&!H&&(C=g.union(C,g.takeRight(A,g.size(A)-g.size(C)))),g.size(C)>g.size(A)&&!b.isFromUndo&&!H&&(C=g.take(C,g.size(A))),g.size(C)||(C=A),H&&!I&&(C=g.chain(C).uniq(!1,R("label")).value())}}b.isFromUndo&&(C=g.size(b.visConfig.metrics)?b.visConfig.metrics:C,C=g.chain(C).compact().value()),b.isFromUndo&&(D=b.visConfig.filters);var T=i({},{groups:B},{metrics:C});return b.isFromUndo&&(T=i(T,{filters:D})),T}function e(a,b){var c=n(a,{name:b});return c?c.func&&c.func.toLowerCase()||null:null}function f(a){return a.sort.dir=h.SORT_DIRECTIONS.ASCENDING,a.sort.name=a.name,a}var g=a("lodash"),h=a("./../Source/Query/Sort"),i=g.assign,j=g.chain,k=g.contains,l=g.values,m=g.isEqual,n=g.findWhere,o=g.reject,p=g.negate(g.isEmpty),q=g.cloneDeep,r=g.take,s={LINE_AND_BARS:"LINE_AND_BARS",LINE_CHART:"LINE_CHART",LINE_CHART_CONTINUOUS:"LINE_CHART_CONTINUOUS"},t="PIVOT_TABLE";b.exports=d},{"./../Source/Query/Sort":107,lodash:30}],90:[function(a,b,c){b.exports=a("./QueryInheritanceManager")},{"./QueryInheritanceManager":89}],91:[function(a,b,c){"use strict";function d(a){return a.status}function e(a,b){var c=a.emitter;switch(a.status){case u.CLOSED:return o.reject("connection is closed");case u.CONNECTING:return r(c,"connection:open","connection:error").then(n.partial(e,a,b));case u.OPEN:return new o(function(c,d){var e=JSON.stringify(b);a.socket.onerror=d,a.socket.send(e),c()});case u.CLOSING:return o.reject("connection is closing");default:throw Error(t.UNSUPPORTED_STATUS)}}function f(a,b){var c=a.emitter;switch(a.status){case u.CLOSED:return a.status=u.CONNECTING,h(b).then(function(b){return c.emit("connection:open"),a.status=u.OPEN,a.socket=b,j(b,c),o.resolve()},function(b){return c.emit("connection:error",b),a.status=u.CLOSED,o.reject(b)});case u.OPEN:return o.resolve();case u.CONNECTING:return r(c,"connection:open","connection:error");case u.CLOSING:return r(c,"connection:close","connection:error").then(n.partial(f,a,b));default:throw Error(t.UNSUPPORTED_STATUS)}}function g(a,b,c){var d=a.emitter;switch(a.status){case u.CLOSED:return o.resolve();case u.CONNECTING:return r(d,"connection:open","connection:error").then(n.partial(g,a,b,c));case u.OPEN:return a.status=u.CLOSING,i(a.socket,b,c).then(function(){return d.emit("connection:close"),a.status=u.CLOSED,k(a.socket,d),delete a.socket,o.resolve()},function(a){return d.emit("connection:error",a),o.reject(a)});case u.CLOSING:return r(d,"connection:close","connection:error");default:throw Error(t.UNSUPPORTED_STATUS)}}function h(a){return new o(function(b,c){var d=new p(a);d.onopen=function(){b(d)},d.onerror=function(a){c(a)}})}function i(a,b,c){return new o(function(d,e){a.onclose=d,a.onerror=e,a.close(b,c)})}function j(a,b){a.onmessage=function(a){var c=l(a);b.emit(c.type,c.data),b.emit("message",a)},a.onclose=function(a){b.emit("connection:interrupted",a)}}function k(a){a.onmessage=s,a.onclose=s}function l(a){var b=m(a),c=b.status||"message";return c=b.error?"error":b.status?b.status:"message",{type:"stream:"+c,data:b}}function m(a){return JSON.parse(a.data)}var n=a("lodash"),o=a("promise"),p=a("websocket").w3cwebsocket,q=a("events").EventEmitter,r=a("../../../Utilities").events.promisify,s=function(){},t={UNSUPPORTED_STATUS:"unsupported connection status"},u={CLOSED:0,CONNECTING:1,OPEN:2,CLOSING:3},v=function(a){var b=new q,c={socket:null,emitter:b,status:u.CLOSED};n.assign(this,{on:n.bind(b.on,b),off:n.bind(b.removeListener,b),handlers:{},getStatus:n.partial(d,c),open:n.partial(f,c,a),close:n.partial(g,c),send:n.partial(e,c)})};v.STATUSES=u,b.exports=v},{"../../../Utilities":158,events:22,lodash:30,promise:36,websocket:56}],92:[function(a,b,c){b.exports=a("./Connection")},{"./Connection":91}],93:[function(a,b,c){"use strict";var d=a("lodash"),e=(d.isNaN,a("promise")),f=a("./Connection"),g=a("../../Web"),h="id",i={createConnection:function(a,b){var c=i.getSocketPath(a,b);return new f(c)},isValidStandalone:function(a){return"string"==typeof a.key||"string"==typeof a.access_token},getHomePath:function(a){return(g.secure(a)?"https://":"http://")+g.hostname(a)+("number"==typeof g.port(a)?":"+g.port(a):"")+g.path(a)},getSocketPath:function(a,b){var c="";return b.key&&(c=g.paramString({key:b.key})),b.access_token&&(c=g.paramString({access_token:b.access_token})),(g.secure(a)?"wss://":"ws://")+g.hostname(a)+("number"==typeof g.port(a)?":"+g.port(a):"")+g.path(a)+"/websocket"+c},fetch:function(a,b,c,f){c=c?d.clone(c):{},f=f||h;var i=""+("string"==typeof a?a+b:b);"string"==typeof c[f]&&(i+="/"+c[f],delete c[f]);var j="object"==typeof c?g.paramString(c):"";return g.request(i+j).then(function(a){var b="string"==typeof a?JSON.parse(a):a;return b=Array.isArray(b)?b:[b],e.resolve(b)})}};b.exports=i},{"../../Web":160,"./Connection":92,lodash:30,promise:36}],94:[function(a,b,c){b.exports=a("./Service")},{"./Service":93}],95:[function(a,b,c){"use strict";var d=a("lodash"),e=a("../../../../Data/index"),f="VALIDATION_SUCCESS",g={ID_FIELD:"name",VALIDATION_SUCCESS:f,validate:function(a){return"object"!=typeof a?"field must be an object":d.isString(a.name)?f:"name must be a string"}};b.exports=e.type.construct(g)},{"../../../../Data/index":151,lodash:30}],96:[function(a,b,c){b.exports=a("./Field")},{"./Field":95}],97:[function(a,b,c){"use strict";function d(a){return"string"==typeof a}function e(a){return"number"==typeof a}function f(a){return"string"==typeof a}function g(a){return Array.isArray(a)}function h(a){return g(a)&&2===a.length}function i(a,b){a.remove(b.path)}function j(a,b){a.change(b.path,b)}function k(a,b){var c=o.findWhere(a.get(),{path:b.path});c?j(a,b):a.add(b)}function l(a,b){var c=o.findWhere(a.get(),{path:b.path});c?(b.operation===c.operation&&o.contains([r.IN,r.NOTIN],b.operation)&&(b.value=o.chain(o.values(b.value)).union(o.values(c.value)).uniq().value()),a.change(b.path,b)):a.add(b)}function m(a,b,c){g(c)?c.forEach(function(c){a(b,c)}):a(b,c)}function n(a,b,c,d){var e=q.createAPI(a,b,c,d,t);return o.assign(e,{addFilters:o.partial(m,l,e),resetFilters:o.partial(m,k,e),changeFilters:o.partial(m,j,e),removeFilters:o.partial(m,i,e)})}var o=a("lodash"),p=a("../../../../Data/index"),q=a("../../../../Data/Notified"),r={LT:"LT",LE:"LE",EQUALS:"EQUALS",EQUALSI:"EQUALSI",GE:"GE",GT:"GT",IN:"IN",NOTIN:"NOTIN",BETWEEN:"BETWEEN",NOTEQUALS:"NOTEQUALS",TEXT_SEARCH:"TEXT_SEARCH",AND:"AND",OR:"OR"},s="VALIDATION_SUCCESS",t=p.type.construct({ID_FIELD:"path",OPERATIONS:r,VALIDATION_SUCCESS:s,validate:function(a){if("object"!=typeof a)return"filter must be an object";var b=a.value,c=(a.path,a.operation);if(!d(a.path)&&c!==r.TEXT_SEARCH)return"path must be a string";if(!d(a.operation))return"operation must be a string";if(!o.includes(r,a.operation))return"unsupported operation";if(!a.hasOwnProperty("value"))return"value must be defined";switch(c){case r.LT:case r.LE:case r.GE:case r.GT:if(!e(b)&&!f(b))return"value must be either a number or a formatted date";break;case r.EQUALS:case r.NOTEQUALS:if(!e(b)&&!f(b)&&!d(b))return"value must be either a number, string or a formatted date";break;case r.EQUALSI:case r.TEXT_SEARCH:if(!d(b))return"value must be a string";break;case r.IN:case r.NOTIN:if(!g(b))return"value must be an array";break;case r.BETWEEN:if(!h(b))return"value must be an array of 2 elements";break;case r.AND:case r.OR:if(!g(b)||!t.isValid(b))return"value must be an array of filters"}return s},createAPI:n});b.exports=t},{"../../../../Data/Notified":150,"../../../../Data/index":151,lodash:30}],98:[function(a,b,c){b.exports=a("./Filter")},{"./Filter":97}],99:[function(a,b,c){"use strict";function d(a){return a.args?e.isNumber(a.args):!1}var e=a("lodash"),f=e.contains,g=e.values,h=a("../Sort"),i=a("../../../../Data"),j=a("../Time"),k="VALIDATION_SUCCESS",l={ATTRIBUTE:"ATTRIBUTE",NUMBER:"NUMBER",INTEGER:"INTEGER",MONEY:"MONEY",TIME:"TIME"},m={GRANULARITIES:j.GRANULARITIES,HISTOGRAM:{HISTOGRAM:"$histogram",HISTOGRAM_BY_SIZE:"$histogram_by_size",HISTOGRAM_BY_COUNT:"$histogram_by_count"}},n={ID_FIELD:"name",FORMULAS:m,VALIDATION_SUCCESS:k,TYPES:l,validate:function(a){return"object"!=typeof a?"group must be an object":e.isString(a.name)?e.isNumber(a.limit)?a.hasOwnProperty("sort")&&!h.isValid(a.sort)?h.validate(a.sort):!a.hasOwnProperty("func")||f(g(m.GRANULARITIES),a.func)||f(g(m.HISTOGRAM),a.func)?!a.hasOwnProperty("func")||a.func!==m.HISTOGRAM.HISTOGRAM_BY_COUNT&&a.func!==m.HISTOGRAM.HISTOGRAM_BY_SIZE||d(a)?a.hasOwnProperty("type")&&!f(g(l),a.type)?"invalid group type":k:"invalid function arguments":"func is not valid":"limit must be a number":"name must be a string"}};b.exports=i.type.construct(n)},{"../../../../Data":151,"../Sort":107,"../Time":109,lodash:30}],100:[function(a,b,c){b.exports=a("./Group")},{"./Group":99}],101:[function(a,b,c){"use strict";var d=a("lodash"),e=d.contains,f=d.values,g=a("../../../../Data"),h="VALIDATION_SUCCESS",i={MIN:"min",MAX:"max",AVG:"avg",SUM:"sum",CALC:"calc",DISTINCT_COUNT:"distinct_count",LAST_VALUE:"last_value",PERCENTILES:"percentiles"},j={NUMBER:"NUMBER",INTEGER:"INTEGER"},k="count",l="none",m={VALIDATION_SUCCESS:h,FUNCS:i,TYPES:j,COUNT_NAME:k,NONE_NAME:l,isCount:function(a){return a.name===k},isNone:function(a){return a.name===l},validate:function(a){return"object"!=typeof a?"metric must be an object":"string"!=typeof a.name?"name must be a string":void 0!==a.script&&"string"!=typeof a.script?"script must be a string":m.isCount(a)||e(f(i),a.func)||m.isNone(a)?h:"unsupported metric function"}};b.exports=g.type.construct(m)},{"../../../../Data":151,lodash:30}],102:[function(a,b,c){b.exports=a("./Metric")},{"./Metric":101}],103:[function(a,b,c){"use strict";function d(a){return e(a).format(h)!==i}var e=(a("lodash"),a("moment")),f=a("../../../../Data/index"),g="VALIDATION_SUCCESS",h="YYYY-MM-DD HH:mm:ss.SSS",i="Invalid date",j={ROLLING:"ROLLING",PINNED:"PINNED"},k={VALIDATION_SUCCESS:g,TIME_WINDOWS:j,validate:function(a){if(a.hasOwnProperty("speed")&&"number"!=typeof a.speed)return"speed must be a number";if(a.hasOwnProperty("pauseAfterRead")&&"boolean"!=typeof a.pauseAfterRead)return"pauseAfterRead must be a boolean";if(a.hasOwnProperty("stopTime")){if("string"!=typeof a.stopTime)return"player.stopTime must be a string";if(!d(a.stopTime))return"invalid player.stopTime format: expected "+h}return g}};b.exports=f.type.construct(k)},{"../../../../Data/index":151,lodash:30,moment:31}],104:[function(a,b,c){b.exports=a("./Player")},{"./Player":103}],105:[function(a,b,c){"use strict";function d(a,b){var c=this,d=new M,f=D({},b,T),g=f.time,h=f.player,i=f.filters,j=f.groups,k=f.fields,l=f.metrics,m=f.pivot;this.type=a,this.config=f,x(this,{on:w(d.on,d),off:w(d.removeListener,d),filters:E.createAPI(K.mutators,d,"filters",i),groups:R(d,"groups",j,F),fields:R(d,"fields",k,G),metrics:R(d,"metrics",l,H),player:L.createAPI(K.mutators,d,"player",h,J),time:I.createAPI(K.mutators,d,"time",g),pivot:{get:N(m)},getSourceId:q(N,f,"sourceId"),toRequest:q(e,c,f)})}function e(a,b){var c=a.type,d={streamSourceId:b.sourceId,cfg:{}};switch(d.cfg.filters=h(b.filters),d.time=j(b.time),d.cfg.player=k(b.time,b.player),c){case S.TIME_TREND:case S.GROUPED:d.cfg.group={},d.cfg.group.fields=l(a.groups.get()),d.cfg.group.metrics=f(a.metrics.get());break;case S.UNGROUPED:d.cfg.fields=z(a.fields.get(),"name"),d.cfg.limit=b.fields[0].limit;break;case S.GLOBAL_GROUP:d.cfg.group.metrics=f(a.metrics.get());break;case S.PIVOT:d.cfg.group={},d.cfg.group.fields=l(a.groups.get()),d.cfg.group.metrics=f(a.metrics.get()),d.cfg.group.pivot=a.pivot.get();break;default:throw Error("invalid query type")}return d}function f(a){return v(a).thru(i).map(g).map(q(y,o,"name","func","script","percentiles")).value()}function g(a){return"percentiles"===a.func&&x(a,{percentiles:a.args}),a}function h(a){return a.map(q(y,o,"path","operation","value","form"))}function i(a){var b={name:"*",func:"count"};return s(a,H.isCount)?v(a).reject(H.isCount).push(b).value():a}function j(a){return a&&a.timeField?u(a,!0):null}function k(a,b){if(!j(a)&&!B(b))throw Error("wrong topology format: time must be defined");return B(b)?null:u(b,!0)}function l(a){return v(a).clone(!0).map(m).map(q(y,o,"name","sort","limit","form")).reject("name","none").value()}function m(a){var b,c=a.name;return a.func&&(o.has(a,"args")&&(c=c.concat(",").concat(a.args),b=n(c),a.name=a.func.concat(b)),"TIME"===a.type?(b=n(c),a.name=Q.concat(a.func.toLowerCase()).concat(b)):(b=n(c),a.name=a.func.concat(b))),a}function n(a){return v(a).padLeft(a.length+1,"(").padRight(a.length+2,")").value()}var o=a("lodash"),p=o.curry,q=o.partial,r=o.flow,s=o.find,t=o.findWhere,u=o.clone,v=o.chain,w=o.bind,x=o.assign,y=o.pick,z=o.pluck,A=o.isEqual,B=o.isEmpty,C=o.findIndex,D=o.merge,E=a("./Filter"),F=a("./Group"),G=a("./Field"),H=a("./Metric"),I=a("./Time"),J=a("./Player"),K=a("../../../Data"),L=a("../../../Data/Notified"),M=a("events").EventEmitter,N=K.accessors.getter,O=(K.mutators.add,K.mutators.remove),P=L.EVENTS,Q="$to_",R=p(function(a,b,c,d){var e=new M,f={add:(b?b+":":"")+P.ADD,remove:(b?b+":":"")+P.REMOVE,change:(b?b+":":"")+P.CHANGE};return a&&L.pipeEmitters(e,a,f),{EVENTS:P,on:e.on.bind(e),off:e.removeListener.bind(e),get:N(c),toJSON:N(c),add:L.add(K.mutators,e,P.ADD,c,d),remove:function(a){var b;return Array.isArray(a)||(a=[a]),b=a.filter(function(a){return!!t(c,a)}).map(r(q(t,c),c.indexOf.bind(c),O(c,"ignored"))),b.length&&e.emit(P.REMOVE,b),b},change:function(a,b){var f,g,h="number"==typeof a?c[a]:t(c,a),i=u(h,!0);if(h){if(f=v(h).clone(!0).assign(b).value(),g=d.validate(f),d.isSuccess(g))return A(f,i)?null:(x(h,b),e.emit(P.CHANGE,f,i),[f,i]);throw Error(g)}return null},set:function(a,b){var f="number"==typeof a?a:C(c,a),g=c[f];if(!g)return null;var h=u(g,!0),i=u(b),j=d.validate(i);if(d.isSuccess(j))return A(i,h)?null:(c[f]=i,e.emit(P.CHANGE,i,h),[i,h]);throw Error(j)}}}),S={GROUPED:1,UNGROUPED:2,PIVOT:3,GLOBAL_GROUP:4,TIME_TREND:5},T={player:{},time:{},groups:[],fields:[],metrics:[],pivot:{}};d.TYPES=S,d.EVENTS=P,d.prototype={TYPES:S,EVENTS:P},b.exports=d},{"../../../Data":151,"../../../Data/Notified":150,"./Field":96,"./Filter":98,"./Group":100,"./Metric":102,"./Player":104,"./Time":109,events:22,lodash:30}],106:[function(a,b,c){"use strict";var d=a("lodash"),e=a("../../../../Data"),f="VALIDATION_SUCCESS",g={ASCENDING:"asc",DESCENDING:"desc"},h={VALIDATION_SUCCESS:f,SORT_DIRECTIONS:g,validate:function(a){return"object"!=typeof a?"sort must be an object":"string"!=typeof a.name?"name must be a string":-1===d.values(g).indexOf(a.dir)?"unsupported sort dir":f}};b.exports=e.type.construct(h)},{"../../../../Data":151,lodash:30}],107:[function(a,b,c){b.exports=a("./Sort")},{"./Sort":106}],108:[function(a,b,c){"use strict";function d(a){return"+"===a[0]||"-"===a[0]}function e(a){var b;return"$"===a[1]?!0:(b=a.substring(1,a.length),l(b).format(o)!==n)}function f(a,b,c,d){var e=d?"+"+c:"-"+c;a.set(b,e)}function g(a,b,c,d){var e=k.createAPI(a,b,c,d,r);return i.assign(e,{setFromTime:i.partial(f,e,"from"),setToTime:i.partial(f,e,"to"),isTimePreset:i.partial(h,e)})}function h(a){return i.chain(i.pick(a.toJSON(),"from","to")).values().every(function(a){return a&&"$"===a[1]}).value()}var i=a("lodash"),j=a("../../../../Data/index"),k=a("../../../../Data/Notified"),l=a("moment"),m="VALIDATION_SUCCESS",n="Invalid date",o="YYYY-MM-DD HH:mm:ss.SSS",p={
MINUTE:"MINUTE",HOUR:"HOUR",DAY:"DAY",WEEK:"WEEK",MONTH:"MONTH",YEAR:"YEAR"},q=p.YEAR,r=j.type.construct({GRANULARITIES:p,DEFAULT_GRANULARITY:q,VALIDATION_SUCCESS:m,validate:function(a){if("object"!=typeof a)return"time must be an object";if("string"!=typeof a.timeField)return"timeField must be a string";if(a.hasOwnProperty("from")){if("string"!=typeof a.from)return"time.from must be a string";if(!d(a.from))return'invalid time.from syntax: "-" or "+" expected as first character';if(!e(a.from))return"invalid time.from format: expected "+o}if(a.hasOwnProperty("to")){if("string"!=typeof a.to)return"time.to must be a string";if(!d(a.to))return'invalid time.to syntax: "-" or "+" expected as first character';if(!e(a.to))return"invalid time.to format: expected formula or "+o}return m},createAPI:g});b.exports=r},{"../../../../Data/Notified":150,"../../../../Data/index":151,lodash:30,moment:31}],109:[function(a,b,c){b.exports=a("./Time")},{"./Time":108}],110:[function(a,b,c){b.exports=a("./Query")},{"./Query":105}],111:[function(a,b,c){"use strict";function d(a){var b=[l(a),e(a.sourceId),f(a.filters),h(a.metrics)];return s(a.time)&&b.push(i(a.time)),s(a.player)&&b.push(g(a.player)),A.all(b).then(function(a){var b={type:a[0].type,query:m.assign({sourceId:a[1],filters:a[2],metrics:a[3],time:a[4],player:a[5]},a[0].query)};return A.resolve(b)})}function e(a){return new A(function(b,c){"string"==typeof a?b(a):c("invalid sourceId")})}function f(a){return new A(function(b,c){"undefined"==typeof a?b([]):Array.isArray(a)?0===a.length?b([]):v.isValid(a)?b(m.clone(a,!0)):c("invalid filters"):c("filters must be an array")})}function g(a){return z.pValidate(a).then(function(a){return A.resolve(m.clone(a,!0))})}function h(a){return new A(function(b,c){"undefined"==typeof a?b([]):Array.isArray(a)?0===a.length?b([]):u.isValid(a)?b(m.clone(a,!0)):c("invalid metrics"):c("metrics must be an array")})}function i(a){return new A(function(b,c){var d=y.validate(a);d===y.VALIDATION_SUCCESS?b(m.clone(a)):c(d)})}function j(a){function b(a){function b(a){return a===w.VALIDATION_SUCCESS}var c=w.validateAll(a);return m.every(c,b)}return new A(function(c,d){var e=a.groups;"undefined"==typeof e?d("groups is not defined"):Array.isArray(e)?b(e)?c({groups:m.clone(e,!0)}):d("invalid groups list"):d("groups must be an array of groups configurations")})}function k(a){return new A(function(b,c){var d=a.fields;"undefined"==typeof d?c("fields is not defined"):Array.isArray(d)?x.isValid(d)?b({fields:m.clone(d,!0)}):c("invalid groupBy list"):c("fields must be an array of field names")})}function l(a){return new A(function(b,c){function d(a){return function(b){i.push({type:a,query:b}),f()}}function e(a){l.push(a),f()}function f(){i.length+l.length===h&&(1!==i.length?c(["Could not derive query type"].concat(l).join(". ")):b(i[0]))}function g(){h++}var h=0,i=[],l=[];g(),j(a).then(q(r(g),r(d(B.GROUPED)),p(a,k)),q(r(g),r(e),p(a,k))).then(d(B.UNGROUPED),e)})}var m=a("lodash"),n=m.curry,o=m.rearg,p=m.wrap,q=m.flow,r=n(o(m.tap,1,0,2),2),s=(m.assign,m.negate(m.isEmpty)),t=a("../Query"),u=a("../Query/Metric"),v=a("../Query/Filter"),w=a("../Query/Group"),x=a("../Query/Field"),y=a("../Query/Time"),z=a("../Query/Player"),A=a("promise"),B=t.TYPES;b.exports={create:function(a){return d(a).then(function(a){var b=a.type,c=a.query;return new t(b,c)})},TYPES:B}},{"../Query":110,"../Query/Field":96,"../Query/Filter":98,"../Query/Group":100,"../Query/Metric":102,"../Query/Player":104,"../Query/Time":109,lodash:30,promise:36}],112:[function(a,b,c){b.exports=a("./QueryBuilder")},{"./QueryBuilder":111}],113:[function(a,b,c){"use strict";var d=a("lodash"),e=d.isArray,f=d.isObject,g=a("promise"),h=a("./QueryBuilder"),i=a("../Service"),j=a("../../Data"),k="VALIDATION_SUCCESS",l="/service/sources",m={VALIDATION_SUCCESS:k,END_POINT:l,fetch:d.partial(i.fetch,d,l),createQuery:function(a,b){return m.isValid(a)?(b.sourceId=a.id,h.create(b)):g.reject("invalid source")},validate:function(a){return"object"!=typeof a?"source must be an object":"string"!=typeof a.id?"source.id must be a string":"string"!=typeof a.name?"source.name must be a string":e(a.visualizations)?e(a.objectFields)?f(a.volumeMetric)?k:"source.volumeMetric must be an object":"source.objectFields must be an array":"source.visualizations must be an array"}};b.exports=j.type.construct(m)},{"../../Data":151,"../Service":94,"./QueryBuilder":112,lodash:30,promise:36}],114:[function(a,b,c){b.exports=a("./Source")},{"./Source":113}],115:[function(a,b,c){"use strict";function d(a){return JSON.parse(JSON.stringify(a._data))}function e(a){return a.timeline}function f(a,b){return new Q(a,b)}function g(a){a.UUID=C()}function h(a,b,c,d){var e=a.status;return K([O.STOPPED,O.STOPPING],e)?i(a,b,c,d):j(a,b,c).then(G(i,a,b,c,d))}function i(a,b,c,d){g(a);var e={type:"START_VIS",cid:a.UUID,request:E(a,d)};return delete a.timeline,delete a.notResolveTime,a.status=O.STARTING,c.emit(P.STARTING,e),b.send(e)}function j(a,b,c){var d={type:"STOP_VIS",cid:a.UUID};return a.status=O.STOPPING,a._data=[],c.emit(P.STOPPING,d),b.send(d)}function k(){var a=this;a.off("stream:message",a.handlers.onMessage),a.off("stream:error",a.handlers.onError),a.off("stream:START_VIS_DONE",a.handlers.onStartVisDone),a.off("stream:STOP_VIS_DONE",a.handlers.onStopVisDone),a.off("stream:NO_DATA_FOUND",a.handlers.onNoDataFound),a.off("stream:PAUSE_DONE",a.handlers.onPauseDone),a.off("stream:UNPAUSE_DONE",a.handlers.onUnpauseDone),a.off("stream:DIRTY_DATA",a.handlers.onDirtyData),a.off("stream:NOT_DIRTY_DATA",a.handlers.onNotDirtyData),a.off("stream:PAGINATION",a.handlers.onPagination),a.off("stream:PAGING",a.handlers.onPaging),a.off("stream:VIEWPORT",a.handlers.onViewport),a.off("stream:TIME_LINE",a.handlers.onTimeline)}function l(a,b,c){var d={type:"PAUSE",cid:a.UUID};return c.emit(P.PAUSING,d),b.send(d)}function m(a,b,c){var d={type:"UNPAUSE",cid:a.UUID};return c.emit(P.UNPAUSING,d),b.send(d)}function n(a,b,c,d){var e={type:"UPDATE_SPEED",cid:a.UUID,request:{speed:d.speed}};return c.emit("thread:updateSpeed",e),b.send(e)}function o(a,b,c){var d={type:"REQUEST_DATA",cid:a.UUID,request:c};return b.send(d)}function p(a,b,c){D(a,c)&&(a._data=c.data,b.emit(P.MESSAGE,c.data))}function q(a,b,c){D(a,c)&&b.emit("thread:error",c.data||c)}function r(a,b,c){D(a,c)&&(a.status=O.STARTED,b.emit(P.STARTED,c))}function s(a,b,c){D(a,c)&&(a.status=O.STOPPED,b.emit(P.STOPPED,c))}function t(a,b,c){D(a,c)&&(c.progress=100,b.emit(P.NO_DATA,c))}function u(a,b,c){D(a,c)&&(c.progress="number"==typeof c.progress?c.progress:0,b.emit(P.DIRTY_DATA,c))}function v(a,b,c){D(a,c)&&(c.progress=100,b.emit(P.NOT_DIRTY_DATA,c))}function w(a,b,c){D(a,c)&&b.emit(P.PAUSED,c)}function x(a,b,c){D(a,c)&&b.emit(P.UNPAUSED,c)}function y(a,b,c){D(a,c)&&b.emit("thread:pagination",c)}function z(a,b,c){D(a,c)&&b.emit(P.PAGING,c)}function A(a,b,c){D(a,c)&&b.emit(P.VIEWPORT,c)}function B(a,b,c){D(a,c)&&(a.timeline=c,b.emit(P.TIMELINE,c))}function C(){return"xxxxxxxxxxxxxxxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})}function D(a,b){var c=a.UUID,d=b.cid;return c===d}function E(a,b){var c=a.timeline,d=b.toRequest();return c&&!a.notResolveTime&&(c.live?(K(d.time.from,"$now")||(d.time.from=c.queryFrom),K(d.time.to,"$now")||(d.time.to="+$now")):(d.time.from=c.queryFrom,d.time.to=c.queryTo)),d}var F=a("lodash"),G=F.partial,H=F.bind,I=F.chain,J=F.assign,K=(F.clone,F.contains),L=a("../../../Data").defaults,M=a("events").EventEmitter,N={debounceInterval:300},O={STOPPED:"STOPPED",STARTED:"STARTED",STOPPING:"STOPPING",STARTING:"STARTING",ERROR:"ERROR"},P={MESSAGE:"thread:message",NO_DATA:"thread:noData",DIRTY_DATA:"thread:dirtyData",NOT_DIRTY_DATA:"thread:notDirtyData",ERROR:"thread:error",STARTING:"thread:start",STARTED:"thread:startVisDone",STOPPING:"thread:stop",STOPPED:"thread:stopVisDone",PAUSING:"thread:pause",PAUSED:"thread:pauseDone",UNPAUSING:"thread:unpause",UNPAUSED:"thread:unpauseDone",UPDATE_SPEED:"thread:updateSpeed",PAGING:"thread:pivotPaging",VIEWPORT:"thread:viewport",TIMELINE:"thread:timeline"},Q=function(a,b,c){c=L(c||{},N);var f=new M;f.setMaxListeners(0);var g={UUID:C(),status:O.STOPPED,_data:[]},i=I(h).partial(g,a,f,b).debounce(c.debounceInterval).value(),D=function(){return g.notResolveTime=!0,i.apply(this,arguments)},E=G(l,g,a,f),F=G(m,g,a,f),K=G(n,g,a,f),Q=G(o,g,a);b.on("filters:add",i),b.on("filters:remove",i),b.on("filters:change",i),b.on("groups:add",i),b.on("groups:remove",i),b.on("groups:change",i),b.on("fields:add",i),b.on("fields:remove",i),b.on("fields:change",i),b.on("metrics:add",i),b.on("metrics:remove",i),b.on("metrics:change",i),b.time.on("set",D),b.player.on("set:timeWindowScale",i),b.player.on("set:speed",K),b.time.on("reset",D),b.player.on("reset",i),a.handlers.onMessage=G(p,g,f),a.handlers.onError=G(q,g,f),a.handlers.onStartVisDone=G(r,g,f),a.handlers.onStopVisDone=G(s,g,f),a.handlers.onNoDataFound=G(t,g,f),a.handlers.onPauseDone=G(w,g,f),a.handlers.onUnpauseDone=G(x,g,f),a.handlers.onDirtyData=G(u,g,f),a.handlers.onNotDirtyData=G(v,g,f),a.handlers.onPagination=G(y,g,f),a.handlers.onPaging=G(z,g,f),a.handlers.onViewport=G(A,g,f),a.handlers.onTimeline=G(B,g,f),a.on("stream:message",a.handlers.onMessage),a.on("stream:error",a.handlers.onError),a.on("stream:START_VIS_DONE",a.handlers.onStartVisDone),a.on("stream:STOP_VIS_DONE",a.handlers.onStopVisDone),a.on("stream:NO_DATA_FOUND",a.handlers.onNoDataFound),a.on("stream:PAUSE_DONE",a.handlers.onPauseDone),a.on("stream:UNPAUSE_DONE",a.handlers.onUnpauseDone),a.on("stream:DIRTY_DATA",a.handlers.onDirtyData),a.on("stream:NOT_DIRTY_DATA",a.handlers.onNotDirtyData),a.on("stream:PAGINATION",a.handlers.onPagination),a.on("stream:PAGING",a.handlers.onPaging),a.on("stream:VIEWPORT",a.handlers.onViewport),a.on("stream:TIME_LINE",a.handlers.onTimeline),J(this,{EVENTS:P,STATUSES:O,get UUID(){return g.UUID},on:H(f.on,f),off:H(f.removeListener,f),start:i,pause:E,getLatest:G(e,g),getData:G(d,g),unpause:F,requestData:Q,teardownListeners:H(k,a),stop:G(j,g,a,f)})};b.exports={create:f,STATUSES:O,EVENTS:P}},{"../../../Data":151,events:22,lodash:30}],116:[function(a,b,c){b.exports=a("./DataThread")},{"./DataThread":115}],117:[function(a,b,c){"use strict";function d(a,b){var c=h.createConnection(a,b);f.assign(this,{startThread:f.partial(e,c)})}function e(a,b,c){return c="boolean"==typeof c?c:i,a.open().then(function(){var d=g.create(a,b);return c&&d.start(),d})}var f=a("lodash"),g=(a("promise"),a("./DataThread")),h=a("../Service"),i=!0;b.exports=d},{"../Service":94,"./DataThread":116,lodash:30,promise:36}],118:[function(a,b,c){b.exports=a("./ThreadManager")},{"./ThreadManager":117}],119:[function(a,b,c){"use strict";var d=a("lodash"),e=a("../../Data"),f=a("../Service"),g="/service/user",h="VALIDATION_SUCCESS",i={END_POINT:g,VALIDATION_SUCCESS:h,fetch:d.partial(f.fetch,d,g),validate:function(a){return"object"!=typeof a?"user must be an object":"string"!=typeof a.id?"id must be a string":"string"!=typeof a.name?"name must be a string":"string"!=typeof a.accountId?"accountId must be a string":Array.isArray(a.accounts)?Array.isArray(a.activeRoles)?Array.isArray(a.groupRoles)?h:"groupRoles must be an array":"activeRoles must be an array":"accounts must be an array"}};b.exports=e.type.construct(i)},{"../../Data":151,"../Service":94,lodash:30}],120:[function(a,b,c){b.exports=a("./User")},{"./User":119}],121:[function(a,b,c){"use strict";function d(a,b,c){var d=(a.formulas||[]).map(function(a){return C.extend({},a,{type:_})}),h=(a.fusedAttributes||[]).map(function(a){return a.storageConfig={},a.storageConfig.type=a.type,a}),i=a.objectFields.concat(a.volumeMetric).concat(h).concat(d),j=b.variables;return F(j).filter(f).map(H(y,G(g,c),G(l,i),G(m,i),G(n,i),G(o,i),w,z,e)).value()}function e(a){var b="values[0].value",c=C.get(a,b);return"none"===c.name&&C.set(a,b,null),a}function f(a){var b=a.type;return M(Q($),b)}function g(a,b){var c,d=b.type,e=b.name,f=b.config,g=b.defaultValue,l=a[e];switch(d){case $.METRIC:case $.MULTI_METRIC:c=F(R(l.match(S))).zip(R(g.match(S))).map(h).value();break;case $.BOX_PLOT_METRIC:c=[F(l||g||"{}").thru(JSON.parse).thru(k).value()];break;case $.GROUP:c=[F(l||g||"{}").thru(JSON.parse).thru(G(i,f)).value()];break;case $.HISTOGRAM:c=[F(l||g||"{}").thru(JSON.parse).thru(G(j,f)).value()];break;case $.MULTI_GROUP:c=F(l||g||"[]").thru(JSON.parse).map(G(i,f)).filter(function(a){return"none"!==a.value.name}).value();break;case $.NON_GROUPED:c=F(l||g||"[]").thru(JSON.parse).map(function(a){return{value:a}}).value()}return{variable:b,parsed:c}}function h(a){var b=a[0],c=b?b.split(":"):"",d=b?b.match(T)||"":"",e=a[1]||"",f=e.split(":"),g=e.match(T)||"",h=d[2]||g[2],i=F({});return i=b?i.set("value",{name:c[0],func:c[1]||null}):i.set("value",{name:f[0],func:f[1]||null}),h&&(i=i.set("colorConfig",JSON.parse(h))),i.value()}function i(a,b,c){c=c||0;var d=F({}),e=C.chain(b).pick(Q(V)).defaults(O(a,Q(V))).mapKeys(t).value(),f=e[V.COLOR_INDEX],g=C.chain(b).pick(W).thru(u).thru(v).value();return f===c&&(d=d.set("colorConfig",e)),d.set("value",g).value()}function j(a,b){var c=F({}),d=C.assign({},a,b),e=F(d).thru(s).thru(q).thru(p).thru(r).pick(W).value();return c.set("value",e).value()}function k(a){return{value:a}}function l(a,b){var c=b.parsed;return F(c).forEach(function(b){var c=b.value,d=K(a,{name:c.name});d&&(c.label=d.label)}).value(),b}function m(a,b){var c=b.parsed;return F(c).forEach(function(b){var c=b.value,d=K(a,{name:c.name});d&&(c.type=d.type)}).value(),b}function n(a,b){var c=b.parsed;return F(c).forEach(function(b){var c=b.value,d=K(a,{name:c.name});if(d&&"TIME"===c.type){var e,f,g;if(d.forms){var h=[0].concat(d.forms[0].mapping.map(function(b){return K(a,{name:b})}).map(function(a){return Q(E).indexOf(a.timestampGranularity)}));f=Q(E)[C.max(h)]}else f=d.timestampGranularity;g=A(f),e=c.func||c.defaultGranularity||B(g),I(c,{granularities:g,func:e})}}).value(),b}function o(a,b){var c=b.parsed;return F(c).forEach(function(b){var c=b.value,d=K(a,{name:c.name});d&&d.forms&&(c.forms=[].concat(d.forms))}).value(),b}function p(a){return a.func=Z[a.binsType],a}function q(a){return a.sort={name:a.name,dir:"desc"},a}function r(a){switch(a.binsType){case Y.AUTO:break;case Y.BY_SIZE:a.args=a.binsWidth;break;case Y.BY_COUNT:a.args=a.binsCount}return a}function s(a){return a.limit=1e4,a}function t(a,b){var c=L(V,function(a){return a===b});return U[c]||b}function u(a){var b=a.sort;return b&&b.func&&(b.metricFunc=b.func.toUpperCase(),delete b.func),a}function v(a){var b=a.sort;a.name;return b&&(b.name=b.name||a.name),a}function w(a){var b=a.variable,c=a.parsed,d=O(b,Q(U));return c=N(c,G(x,d)),b=P(b,Q(U)),{variable:b,parsed:c}}function x(a,b){var c=F({}).assign(b),d=J(b.colorConfig,a);return d&&("string"==typeof d[U.COLORS]&&(d[U.COLORS]=JSON.parse(d[U.COLORS])),c=c.set("colorConfig",d)),c.value()}function y(a){var b=F({}).assign(a),c=a.config?JSON.parse(a.config):{};return c&&(b=b.set("config",c)),b.value()}function z(a){var b=a.parsed,c=F({}).assign(a.variable).set("values",b).omit("defaultValue");return c.value()}function A(a){return C.drop(Q(E),C.findIndex(Q(E),function(b){return b===a}))}function B(a){return C.includes(X,a[0])?"DAY":a[0]}var C=a("lodash"),D=a("../Source/Query/Group"),E=D.FORMULAS.GRANULARITIES,F=C.chain,G=C.partial,H=C.flow,I=C.assign,J=C.defaults,K=C.find,L=C.findKey,M=C.contains,N=C.map,O=(C.union,C.pick),P=C.omit,Q=C.values,R=C.compact,S=/[\w\.]*:*\w*:*(?:\{.*\})*/g,T=/(^\w\S+?):\w*:({\S*.*?autoShowColorLegend.*})/,U={AUTO_COLOR:"autoColor",SHOW_LEGEND:"autoShowColorLegend",LEGEND_POSITION:"colorLegendPosition",COLOR_POSITIONS:"colorPositions",LEGEND_TYPE:"legendType",COLOR_NUMB:"colorNumb",COLORS:"savedColors",COLOR_SET:"colorSet"},V=I({},U,{COLORS:"groupColors",COLOR_SET:"groupColorSet",COLOR_INDEX:"colorGroupIndex"}),W=["name","limit","sort","form","func","args","defaultGranularity"],X=["MILLISECOND","SECOND","MINUTE","HOUR"],Y={AUTO:"auto",BY_SIZE:"width",BY_COUNT:"count"},Z={auto:"$histogram",width:"$histogram_by_size",count:"$histogram_by_count"},$={METRIC:"metric",MULTI_METRIC:"multi-metric",BOX_PLOT_METRIC:"box-plot-metric",GROUP:"group",MULTI_GROUP:"multi-group",HISTOGRAM:"histogram-group",NON_GROUPED:"ungrouped"},_="FORMULA";b.exports={DATA_VARIABLE_TYPES:$,parse:d}},{"../Source/Query/Group":100,lodash:30}],122:[function(a,b,c){b.exports=a("./VariableParser")},{"./VariableParser":121}],123:[function(a,b,c){"use strict";function d(a,b,c){return p(a).filter(e).map(r(q(f,c,b))).value()}function e(a){var b=a.type;return t(u(y),b)}function f(a,b,c){var d,e=c.type,f=c.name;switch(e){case y.METRIC:case y.MULTI_METRIC:d=p(a[f]).thru(q(k,b)).value();break;case y.BOX_PLOT_METRIC:d=p(a[f]).thru(q(l,b)).value();break;case y.GROUP:d=p(a[f]).thru(q(g,b)).value();break;case y.HISTOGRAM:d=p(a[f]).thru(q(j,b,c)).value();break;case y.MULTI_GROUP:d=p(a[f]).thru(q(i,b)).value();break;case y.NON_GROUPED:d=p(a[f]).thru(q(n)).value()}return{options:c,string:d}}function g(a,b){var c=p(b.getGroup()).thru(r(q(h,b))).value();return JSON.stringify(c)}function h(a,b){var c={},d=a._colorSettings.customColors,e=a._colorSettings.savedColors;return c[x.COLOR_SET]=a.getColorSet(),c[x.SHOW_LEGEND]=a._colorSettings.showLegend,c[x.COLOR_NUMB]=a.getColorNumber(),c[x.AUTO_COLOR]=a._colorSettings.autoColor,d?(c[x.COLORS]={},o.each(d,function(a){c[x.COLORS][a.name]=a.color})):e&&(c[x.COLORS]=e),o.extend(b,c),b}function i(a,b){var c=p(b.getGroups()).map(r(q(h,b))).value();return JSON.stringify(c)}function j(a,b,c){var d=JSON.parse(b.config),e=c.getGroup(),f={},g=a.state.get("_histogramConfig").toJSON().value;return f.name=e.name,f.binsType=g.binsType,f.binsCount=g.binsCount,f.binsWidth=g.binsWidth,f.values=g.values,f.cumulative=g.cumulative,v(d,function(a,b){"undefined"==typeof f[b]&&(f[b]=d[b])}),JSON.stringify(f)}function k(a,b){var c=b.isColor,d=b.isNone,e="",f=b.getMetrics(),g=[];return c?e=m(b):(o.each(f,function(a){var b=[],c="";a?(b.push(a.name),null!==a.func&&b.push(a.func)):d&&b.push("none"),c=b.join(":"),g.push(c)}),e=g.join(" ")),e}function l(a,b){var c=o.pick(b.getMetric(),["name","func","args"]);return JSON.stringify(c)}function m(a){var b="",c=a.getMetrics(),d=c[0];c.splice(0,1);var e=a.isNone,f=[];d?(f.push(d.name),f.push(null!==d.func?d.func:"")):e&&f.push("none","");var g=c?" "+c.map(function(a){return a.name+":"+a.func}).join(" "):"",h={};return h[w.COLOR_NUMB]=a.getColorNumber(),h[w.LEGEND_TYPE]=a.getColorRangeType(),h[w.SAVED_COLORS]=a.getColorRangeData(),h[w.COLOR_SET]=a.getColorSet(),h[w.SHOW_LEGEND]=a._colorSettings.showLegend,h[w.AUTO_COLOR]=a._colorSettings.autoColor,h[w.LEGEND_POSITION]=a._colorSettings.colorLegendPosition,h[w.COLOR_POSITIONS]=a._colorSettings.colorPositions,h[w.COLOR_SCALE_TYPE]=a.getColorScaleType(),h=JSON.stringify(h),f.push(h),b=f.join(":"),b.concat(g)}function n(a){}var o=a("lodash"),p=(a("../Source/Query/Group"),o.chain),q=o.partial,r=o.flow,s=o.assign,t=(o.defaults,o.isEmpty,o.find,o.findKey,o.contains),u=(o.map,o.union,o.pick,o.omit,o.values),v=(o.compact,o.forOwn),w={SHOW_LEGEND:"autoShowColorLegend",LEGEND_POSITION:"colorLegendPosition",COLOR_POSITIONS:"colorPositions",LEGEND_TYPE:"legendType",COLOR_NUMB:"colorNumb",SAVED_COLORS:"colors",COLOR_SCALE_TYPE:"colorScaleType",COLOR_SET:"colorSet",AUTO_COLOR:"autoColor"},x=s({},w,{COLORS:"groupColors",COLOR_SET:"groupColorSet",COLOR_INDEX:"colorGroupIndex"}),y={METRIC:"metric",MULTI_METRIC:"multi-metric",BOX_PLOT_METRIC:"box-plot-metric",GROUP:"group",MULTI_GROUP:"multi-group",HISTOGRAM:"histogram-group",NON_GROUPED:"ungrouped"};b.exports={DATA_VARIABLE_TYPES:y,stringify:d}},{"../Source/Query/Group":100,lodash:30}],124:[function(a,b,c){b.exports=a("./VariableStringify")},{"./VariableStringify":123}],125:[function(a,b,c){"use strict";function d(a,b,c){var d="function"==typeof c.data,e=!!c.actions,f=!!c.events;if(g.bindAll(this,"_onInteractionStart","_onInteraction","_onInteractionEnd"),"undefined"!=typeof i(b).interactiveElement&&null!==i(b).interactiveElement){var h="An element already is an instance of interactiveElement";throw new Error(h)}this._manager=a,this.element=b,this.gestureTimeOut=null,this.options={},this.options.interactions=g.assign({},this.defaults.interactions,c.interactions),this.data=d?c.data:null,e&&(this.options.actions=c.actions),f&&(this.options.interactions.action=c.events),this._allowed=[],this._prevented=[],this._allow(this.options.interactions.start),this._allow(this.options.interactions.action),this._allow(this.options.interactions.end),i(this.element).interactiveElement=this}function e(){return!1}function f(){var a;return a="undefined"!=typeof navigator&&-1!==navigator.appVersion.indexOf("MSIE 10.")?h.detectTouchDevice()?"MSPointerDown click":"click":h.detectTouchDevice()?"touchend":"click"}var g=a("lodash"),h=a("../../../../../Utilities"),i=a("data-set");d.prototype={defaults:{interactions:{start:"mousedown",action:f(),end:"mouseup"},draggable:{containment:"body",appendTo:"body",helper:"clone",revert:"invalid",addClasses:!1,dragClass:"zd-interactive-draggable",cursor:"pointer",cursorAt:{left:25,top:25},zIndex:2e3,scope:"default"},droppable:{addClasses:!1,tolerance:"pointer",activeClass:"zd-interactive-droppable-accepts",scope:"default"}},get:function(){var a={};if(0===arguments.length)a=this.options;else if(1===arguments.length)a=this.options[arguments[0]]||null;else for(var b=0;b<arguments.length;b++)a[arguments[b]]=this.options[arguments[b]]||null;return a},set:function(a){this.data=a.data||this.data},isSVG:function(){return!("svg"!==this.element.tagName.toLowerCase()&&!this.element.ownerSVGElement)},_notify:function(a,b){this._manager._notify(a,this,b)},_isAllowed:function(a){return-1!==this._allowed.indexOf(a)},_allow:function(a){function b(){f.element.addEventListener(e.start,f._onInteractionStart)}function c(){f.element.addEventListener(e.action,f._onInteraction)}function d(){f.element.addEventListener(e.end,f._onInteractionEnd)}var e=this.options.interactions,f=this;if(!this._isAllowed(a))switch(this._allowed.push(a),a){case e.start:b();break;case e.action:c();break;case e.end:d()}},_restrict:function(a){function b(){f.element.removeEventListener(e.start,f._onInteractionStart)}function c(){f.element.removeEventListener(e.action,f._onInteraction)}function d(){f.element.removeEventListener(e.end,f._onInteractionEnd)}var e=this.options.interactions,f=this;if(this._isAllowed(a))switch(this._allowed.splice(this._allowed.indexOf(a),1),a){case e.start:b();break;case e.action:c();break;case e.end:d()}},_isPrevented:function(a){return-1!==this._prevented.indexOf(a)},_prevent:function(a){var b=this.options.interactions;if(!this._isPrevented(a))switch(this._prevented.push(a),a){case b.start:this.element.addEventListener(b.start,e);break;case b.action:this.element.addEventListener(b.action,e);break;case b.end:this.element.addEventListener(b.end,e)}},_onInteractionStart:function(){return this._notify("interaction:start"),null},_onInteraction:function(a){var b=(this.options,null);return b=a.originalEvent&&a.originalEvent.changedTouches?a.originalEvent.changedTouches[0]:a,this._notify("interaction",{data:this.data}),null},_onInteractionEnd:function(a){return this._notify("interaction:stop"),null},destroy:function(){var a=this.options.interactions;this._restrict(a.action),this._restrict(a.start),this._restrict(a.end),i(this.element).interactiveElement=null}},b.exports=d},{"../../../../../Utilities":158,"data-set":21,lodash:30}],126:[function(a,b,c){b.exports=a("./InteractiveElementsController")},{"./InteractiveElementsController":125}],127:[function(a,b,c){"use strict";function d(a){a=a||new g,this.elements=[],this._interactions={},f.assign(this,{on:f.bind(a.on,a),trigger:f.bind(a.emit,a)})}function e(a,b){var c=a.groups.get();return f.chain(c).pluck("name").intersection(b).size().gt(0).value()}var f=a("lodash"),g=a("events").EventEmitter,h=a("../Controller");d.prototype={defaults:{},configure:function(a){a||(a={}),this.options=f.assign({},this.defaults,a)},register:function(a,b){function c(a,b){b.actionList=d.actionList,d.registered(a)?d.updateElement(a,b):(d._addToRegistry(a,b),e.push(a))}var d=this,e=[];return a instanceof Array?f.each(a,function(a){c(a,b)}):c(a,b),e},release:function(a,b){function c(a,b){var c=d.getInteractiveElementFor(a);c&&(d._removeFromRegistry(c),e.push(a))}var d=this,e=[];return a instanceof Array?f.each(a,function(a){c(a,b)}):c(a,b),e},getInteractiveElementFor:function(a){return f.find(this.elements,function(b){return b.element===a})},registered:function(a){return!!this.getInteractiveElementFor(a)},updateElement:function(a,b){var c=this.getInteractiveElementFor(a);c&&c.set(b)},inProgress:function(a){return!!this._interactions[a]},getElementInAction:function(a){var b;return b=this.inProgress(a)?this._interactions[a]:null},assemblyInteractiveElementActions:function(a){function b(){var b=w.items.reverse()||[];b.forEach(function(a){var b='No function assigned to custom action "';b+=a+'"',w[a]?d(w,a):B[a]?B[a]():console.warn()});var c={searchDetails:"search",search:"search",attribute:"objectField"},e=["objectFieldAcceptor","pivotLabel"],g=a.droppable===!0,h="function"==typeof v;g&&h&&(c[u]?o(c[u]):f.contains(e,u)?p():o("objectField"))}function c(){if("function"==typeof v)switch(u){case"searchDetails":m(),o("search");break;case"search":m(),i(),j(),k(),o("search");break;case"objectFieldAcceptor":p();break;case"pivotLabel":break;default:h(),g(),i(),j(),k(),f.contains(A,"Exclude")||n(),l(),o("objectField")}}function d(a,b){y.push({name:b,group:v(),label:b,action:a[b].bind(t)})}function g(){y.push({name:"details",group:v(),label:"Details",action:function(a,b){q.trigger("actionList:action:info",{$at:b,getter:v,UUID:q.UUID})}})}function h(){y.push({name:"trend",group:v(),label:"Trend",disabled:function(){return this.visualization.isTimeTrends()||!this.hasLineChart},action:function(){q.trigger("actionList:action:trend",{getter:v,UUID:q.UUID})}})}function i(){y.push({name:"filter_all",group:v(),disabled:function(){var a=this.config,b=a.collection.toJSON(),c=a.get("source").sourceId;return 1===b.length||f.chain(b).pluck("source").pluck("sourceId").filter(function(a){return a===c}).value().length<=1},label:"Filter <br> all",action:function(){q.trigger("actionList:action:filterAll",{getter:v,UUID:q.UUID})}})}function j(){y.push({name:"un_filter_all",group:v(),disabled:function(){var a=this._getFilters({getter:v,visualization:this.visualization}),b=this._hasFilterAllFilter(a[0]),c=this.config.collection.length<=1;return c||!b},label:"Un<br>Filter <br> all",action:function(){q.trigger("actionList:action:unFilterAll",{getter:v,UUID:q.UUID})}})}function k(){y.push({name:"filter",group:v(),label:"Filter",action:function(a,b){q.trigger("actionList:action:filter",{$at:b,getter:v,UUID:q.UUID})}})}function l(){y.push({name:"zoom",group:v(),label:"Zoom",disabled:function(){var a=!1,b=this.visualization;if(b.isTimeTrends()){var c=f.chain(b.dataAccessors).result("getDimensionAccessors").get(0).values().get(0).result("getGroups").findWhere({type:"TIME"}).value(),d=f.chain(b.source.objectFields).findWhere({type:"TIME",label:c.label}).value().timestampGranularity,e=c.granularities&&c.granularities[0]||d;a=c.func===e}return a},action:function(a,b){q.trigger("actionList:action:zoom",{$at:b,getter:v,UUID:q.UUID})}})}function m(){y.push({name:"search_details",group:v(),label:"Details",action:function(a,b){q.trigger("actionList:action:search",{$at:b,getter:v,UUID:q.UUID})}})}function n(){y.push({name:"exclude",group:v(),label:"remove-exclude",type:"icon",disabled:function(){return e(r,s)},action:function(){q.trigger("actionList:action:exclude",{getter:v,UUID:q.UUID})}})}function o(a){z={scope:a,over:function(){},drop:function(a){q.trigger("actionList:action:drop",{getter:v,UUID:q.UUID,input:t,objectField:a})},out:function(){}}}function p(){z={scope:"objectField",over:function(){},drop:function(b){a.droppable.drop(b)},out:function(){}}}var q=this,r=a.query,s=a.timeFields,t=a.input||this.element,u=a.role,v=a.getter,w=a.menuConfig,x=[],y=[],z=a.droppable||null,A=a.hiddenActions||[],B={Filter:k,"Filter All":i,"Unfilter All":j,Info:g,Zoom:l,Trend:h,Exclude:n};return this.UUID=a.UUID,w?b():"undefined"==typeof w&&c(),{actions:y,dropActions:x,droppable:z}},_notify:function(a,b,c){c||(c={});var d=a.split(":")[0],e=a.split(":")[1]||"action";switch(e){case"start":this.inProgress(d)&&this._stop(d,c),this._start(d,b,c);break;case"stop":this._stop(d,c);break;case"action":this._trigger(d,b,c)}},_start:function(a,b,c){this._interactions[a]=b},_stop:function(a,b){delete this._interactions[a]},_trigger:function(a,b,c){var d=!!c.silent;d||this.trigger(a,b)},_removeFromRegistry:function(a){var b=this;f.each(f.keys(this._interactions),function(c){a===b.getElementInAction(c)&&b._stop(c)}),a.destroy(),this.elements.splice(this.elements.indexOf(a),1)},_addToRegistry:function(a,b){var c=new h(this,a,b);this.elements.push(c)},destroy:function(){for(;this.elements.length>0;)this._removeFromRegistry(this.elements[0])}},b.exports=d},{"../Controller":126,events:22,lodash:30}],128:[function(a,b,c){b.exports=a("./InteractiveElementsManager")},{"./InteractiveElementsManager":127}],129:[function(a,b,c){"use strict";var d=a("lodash"),e=d.curry,f=(d.partial,a("../../../../../Data")),g=(a("../../../../../Data/Notified"),a("../../../../../Data/Collection")),h=a("./CustomVariableModel"),i="VALIDATION_SUCCESS",j={ID_FIELD:"name",VALIDATION_SUCCESS:i,validate:function(a){return"object"!=typeof a?"variable must be an object":a.hasOwnProperty("name")?"string"!=typeof a.name?"variable.name must be a string":a.hasOwnProperty("value")?i:"variable.value must be defined":"variable.name must be defined"},createAPI:e(function(a,b,c){function e(a,b){if(!(b instanceof Object))throw Error("value must be an object");return k.add({name:a,value:b})}function f(a,b){var c=k.get(a);return c?null:k.add({name:a,value:b})}function i(){return JSON.stringify(k.toJSON())}var k=g(h).createAPI(a,b,c,j);return d.assign({},k,{update:e,initIfEmpty:f,stringify:i})})};b.exports=f.type.construct(j)},{"../../../../../Data":151,"../../../../../Data/Collection":145,"../../../../../Data/Notified":150,"./CustomVariableModel":131,lodash:30}],130:[function(a,b,c){"use strict";var d=a("lodash"),e=a("../../../../../../Data"),f=(a("../../../../../../Data/Model"),a("../../../../../../Data/Notified").createAPI),g=d.curry,h=g(function(a,b,c,d){return f(k,a,b,c,d)}),i=function(a,b,c){var d={};return a.value[b]=c,d[b]=c,d},j=function(a,b){return"object"!=typeof a.value?a.value:a.value[b]},k=d.defaults({createAPI:h,setter:i,getter:j},e.mutators,e.accessors);b.exports=k},{"../../../../../../Data":151,"../../../../../../Data/Model":148,"../../../../../../Data/Notified":150,lodash:30}],131:[function(a,b,c){b.exports=a("./Model")},{"./Model":130}],132:[function(a,b,c){b.exports=a("./CustomVariable")},{"./CustomVariable":129}],133:[function(a,b,c){"use strict";var d="_custom_variables",e=(a("lodash"),a("events").EventEmitter),f=(a("../../../../Data/Notified"),a("./CustomVariable"));b.exports={create:function(a){var b=new e,c=this.getCustomVariables(a);return f.createAPI(b,"custom",c)},getCustomVariables:function(a){var b;try{b=JSON.parse(a[d])}catch(c){b=[]}return b}}},{"../../../../Data/Notified":150,"./CustomVariable":132,events:22,lodash:30}],134:[function(a,b,c){b.exports=a("./State")},{"./State":133}],135:[function(a,b,c){"use strict";function d(a,b,c,d,k,l,n,s,B){var C={},D=[],E=new g,F=new w(E),G=v.create(l),H=i(n).values().filter("isColor").value()[0],I={thread:d,events:{thread:{},colorAccessor:{}}},J={EVENTS:y,removeHandler:u,createHandler:t,on:h.bind(E.on,E),once:h.bind(E.once,E),off:h.bind(E.removeListener,E),trigger:h.bind(E.emit,E),source:b,thread:d,query:c,createQuery:a.createQuery,runQuery:a.runQuery,run:a.run,dataAccessors:n,element:k,getScaleRange:function(){return[null,null]},onReflineClicked:function(a){E.emit("showReflinePopup",a)},menu:{show:function(a){var e=[],f=i(b.objectFields).where({
type:"TIME"}).pluck("name").value(),g={top:0,left:0};if(a.x&&a.y)g.left=a.x,g.top=a.y;else{if(!a.event)throw new Error("Menu position is unspecified.");g.left=a.event.clientX,g.top=a.event.clientY}E.emit("interaction",a),e=F.assemblyInteractiveElementActions({query:c,timeFields:f,getter:a.data,menuConfig:a.menu,hiddenActions:a.hide,UUID:d.UUID}).actions,E.emit("actionList:open",{at:g,actions:e})},hide:function(){E.emit("actionList:close")}},tooltip:{show:function(a){E.emit("tooltip:show",a)},update:function(a){E.emit("tooltip:update",a)},move:function(a){E.emit("tooltip:move",a)},hide:function(){E.emit("tooltip:hide")}},filters:{add:function(a){return E.emit("filters.add",a),this},remove:function(a){return E.emit("filters.remove",a),this},addToAll:function(a){return E.emit("filters.addToAll",a),this},removeFromAll:function(a){return E.emit("filters.removeFromAll",a),this}},variables:h.clone(l,!0),eventDispatcher:new g,state:G,scope:{},metrics:n,fields:b.fields,pickAttribute:function(a){return e(E,"pickAttribute",a)},pickMetric:function(a){return e(E,"pickMetric",a)},showWarning:function(a){E.emit("showWarning",a)},onAdd:x,onRemove:x,onChange:x,update:!1,processData:!1,clear:x,onNoDataFound:x,resize:x,onStreamError:x,onViewport:x,onException:x,onNotDirtyData:x,onDirtyData:x,onPivotPaging:x,onStart:x,onStop:x,registerInteractiveElements:function(a,b,c,d){"object"==typeof b&&(c=arguments[1],d=arguments[2],b="");var e={input:a,roles:b,options:c,title:d};F.register(a,c),E.emit("registerInteractiveElements",e)},releaseInteractiveElement:function(a,b){F.release(a,b),E.emit("releaseInteractiveElement",{input:a,options:b})},registered:function(a){return e(E,"registered",a)},requestData:function(){return E.emit("requestData"),d.requestData},isInteractive:function(){return"undefined"==typeof B?!1:B},customReadyStatusDelay:!1,setVisualization:function(a,b){E.emit("setVisualization",{data:a,restart:b})},axisLabels:[],createAxisLabels:function(a){for(var b in a)if(a.hasOwnProperty(b))for(var c=0;c<a[b].length;c++){var d={picks:a[b][c].name,orientation:a[b][c].orientation,position:a[b][c].position,popoverTitle:a[b][c].title};a[b][c].single&&(d.single=!0),this.createAxisLabel(d)}E.emit(y.CREATE_AXIS_LABELS,this.axisLabels)},createAxisLabel:function(a){this.axisLabels.push(a),E.emit(y.CREATE_AXIS_LABEL,a)},removeAxisLabels:function(){this.axisLabels=[],E.emit(y.REMOVE_AXIS_LABELS)},getTicksStep:function(a){return e(E,"getTicksStep",a)},setVisualizationName:function(a){this.variables["Chart Name"]=a},stop:function(){E.emit("stop")},isTimeTrends:function(){return h.contains(z,s)},getVisualizationType:function(){return s},teardownListeners:function(){var a=this;i(C).pairs().each(function(b){a.removeHandler(d,b)}).value()},initListeners:function(){var a=this;i(C).assign(a.createHandler(d,d.EVENTS.MESSAGE,p(j(f,n),o(A(J,"onMessage")),o(A(J,"processData")),A(J,"update")))).assign(a.createHandler(d,d.EVENTS.STARTED,p(o(m(D,r.mutators.empty)),A(J,"onStart")))).assign(a.createHandler(d,d.EVENTS.STOPPED,A(J,"onStop"))).assign(a.createHandler(d,d.EVENTS.ERROR,A(J,"onStreamError"))).assign(a.createHandler(d,d.EVENTS.DIRTY_DATA,A(J,"onDirtyData"))).assign(a.createHandler(d,d.EVENTS.NOT_DIRTY_DATA,A(J,"onNotDirtyData"))).assign(a.createHandler(d,d.EVENTS.NO_DATA,A(J,"onNoDataFound"))).assign(a.createHandler(d,d.EVENTS.VIEWPORT,A(J,"onViewport"))).assign(a.createHandler(d,d.EVENTS.PAGING,A(J,"onPivotPaging"))).value(),H&&a.initColorAccessorListeners(H)},initColorAccessorListeners:function(a){var b=q(p(d.getData.bind(d),A(J,"update")));i(I.events.colorAccessor).assign(t(a,a.EVENTS.UPDATE_COLOR_NUMBER,b)).assign(t(a,a.EVENTS.UPDATE_COLOR_SET,b)).assign(t(a,a.EVENTS.UPDATE_COLOR_POSITIONS,b)).assign(t(a,a.EVENTS.UPDATE_COLOR_SCALE_TYPE,b)).assign(t(a,a.EVENTS.UPDATE_COLOR_RANGE_TYPE,b)).assign(t(a,a.EVENTS.UPDATE_COLOR_RANGE,b)).value()},removeColorAccessorListeners:function(a){var b=this;i(I.events.colorAccessor).pairs().each(function(c){b.removeHandler(a,c)}).value()},getColorAccessor:function(){return h.find(this.dataAccessors,"isColor")}};return J.initListeners(),J}function e(a,b,c){var d="request:"+b,e="response:"+b,f="error:"+b,g=s(a,e,f);return a.emit(d,c),g}function f(a,b){return i(a).values().invoke("updateDomain",b).value(),b}var g=a("events").EventEmitter,h=a("lodash"),i=(a("promise"),h.chain),j=h.partial,k=h.curry,l=h.tap,m=h.wrap,n=h.rearg,o=k(n(l,1,0,2),2),p=h.flow,q=(h.throttle,h.debounce),r=(h.assign,h.get,a("../../../Data")),s=a("../../../Utilities").events.promisify,t=a("../../../Utilities").events.createHandler,u=a("../../../Utilities").events.removeHandler,v=(a("../../../Utilities").colorSchemes,a("./State")),w=(a("../../Source"),a("../../Source/Query/Metric"),a("./InteractiveElements/Manager")),x=(a("../../Accessors/ColorAccessor"),function(){}),y={CREATE_AXIS_LABELS:"axisLabels:create",REMOVE_AXIS_LABELS:"axisLabels:remove",CREATE_AXIS_LABEL:"axisLabel:create"},z=["LINE_AND_BARS","LINE_CHART","LINE_CHART_CONTINUOUS"],A=k(function(a,b){var c=Array.prototype.slice.apply(arguments),d=c.slice(2);return"function"==typeof a[b]?("processData"===b&&console.warn("controller.processData is deprecated. Use controller.update;"),a[b].apply(null,d)):x},3);b.exports={create:d}},{"../../../Data":151,"../../../Utilities":158,"../../Accessors/ColorAccessor":69,"../../Source":114,"../../Source/Query/Metric":102,"./InteractiveElements/Manager":128,"./State":134,events:22,lodash:30,promise:36}],136:[function(a,b,c){b.exports=a("./VisAPI")},{"./VisAPI":135}],137:[function(a,b,c){"use strict";function d(a,b,c,d){return o.pValidate(b).then(function(b){c=c||{};var e=b.id,f=b.type,g=b.visualizationId,i=b.uploadDate,l=n.replace("{{visId}}",g),p=o.getFunctionName(b),q=a+l+"/"+e+"/"+i;switch(f){case m.SCRIPT:return"function"==typeof window[p]?h.resolve():(c["function"]=p,q+=j.paramString(c),"function"==typeof window[p]?h.resolve(b):j.loadScript(q).then(function(){return b}));case m.STYLE:return q+=j.paramString(c),j.loadStyle(q,d).then(function(a){return k(d,a),b});default:return h.reject("unsupported component type")}})}function e(a,b){return new h(function(c,d){var e=o.getFunctionName(a),g=a.type;g===m.SCRIPT?"function"==typeof window[e]?(f(window[e](),b),c(a)):d("component is not loaded"):c(a)})}function f(a,b){a.apply(window,b)}var g=a("lodash"),h=a("promise"),i=a("../../../Data"),j=a("../../../Web"),k=a("apply-css"),l="VALIDATION_SUCCESS",m={SCRIPT:"text/javascript",STYLE:"text/css"},n="/service/visualizations/{{visId}}/source",o={VALIDATION_SUCCESS:l,TYPES:m,END_POINT:n,load:d,initComponent:e,init:function(a,b){return o.pValidate(a).then(g.partial(e,g,b))},getFunctionName:function(a){if(o.isValid(a))return"visComponent_"+a.visualizationId+"_"+a.id;throw Error("invalid component")},validate:function(a){return"object"!=typeof a?"component must be an object":"string"!=typeof a.id?"invalid component id":"string"!=typeof a.name?"invalid component name":"string"!=typeof a.path?"invalid component path":-1===g.values(m).indexOf(a.type)?"invalid component type":"string"!=typeof a.uploadDate?"invalid component uploadDate":"string"!=typeof a.visualizationId?"invalid component visualizationId":l}};b.exports=i.type.construct(o)},{"../../../Data":151,"../../../Web":160,"apply-css":5,lodash:30,promise:36}],138:[function(a,b,c){b.exports=a("./Component")},{"./Component":137}],139:[function(a,b,c){"use strict";function d(a,b,c,d){return k.pValidate(b).then(function(b){c=c||{};var e=a+j+"/"+b+"/"+h.paramString(c,d);return h.loadScript(e).then(function(){return b})})}var e=a("lodash"),f=(a("promise"),a("../../../Data")),g=a("../../Service"),h=a("../../../Web"),i="VALIDATION_SUCCESS",j="/service/visualizations/libs",k={VALIDATION_SUCCESS:i,END_POINT:j,fetch:e.partial(g.fetch,e,j),load:d,validate:function(a){return"string"!=typeof a?"component must be a string":i}};b.exports=f.type.construct(k)},{"../../../Data":151,"../../../Web":160,"../../Service":94,lodash:30,promise:36}],140:[function(a,b,c){b.exports=a("./Library")},{"./Library":139}],141:[function(a,b,c){"use strict";function d(a,b){var c=a.components;return f.all(c.map(e.partial(i.init,e,b)))}var e=a("lodash"),f=a("promise"),g=a("../../Data"),h=a("../Service"),i=a("./Component"),j="VALIDATION_SUCCESS",k="/service/visualizations",l={VALIDATION_SUCCESS:j,END_POINT:k,fetch:e.partial(h.fetch,e,k),init:function(a,b){return l.pValidate(a).then(e.partial(d,e,b))},loadComponents:function(a,b,c,d){var g,h;return b.components.forEach(function(a){a.hasOwnProperty("visualizationId")||(a.visualizationId=b.id),a.hasOwnProperty("path")||(a.path="")}),l.isValid(b)?(h=e.partial(i.load,a,e,c,d),g=b.components,f.all(g.map(h))):f.reject("invalid visualization")},validate:function(a){return"object"!=typeof a?"visualization must be an object":Array.isArray(a.components)?Array.isArray(a.libs)?Array.isArray(a.controls)?j:"controls must be an array":"libs must be an array":"components must be an array"}};b.exports=g.type.construct(l)},{"../../Data":151,"../Service":94,"./Component":138,lodash:30,promise:36}],142:[function(a,b,c){b.exports=a("./Visualization")},{"./Visualization":141}],143:[function(a,b,c){b.exports=a("./Client")},{"./Client":88}],144:[function(a,b,c){"use strict";function d(a){function b(a,b){var c=l(arguments,2),d=a[b].apply(a,c);return d.value()}var c=i(a).result("get").invoke("toJSON");return{get:q(a),toJSON:c.value.bind(c),findWhere:k(b,c,"findWhere"),filter:k(b,c,"filter"),where:k(b,c,"where")}}var e=a("lodash"),f=a("../Data"),g=a("../Notified").createAPI,h=a("../Model"),i=e.chain,j=e.curry,k=e.partial,l=e.slice,m=j(function(a,b){return b.id()===a}),n=j(function(a,b,c){return a.createAPI(null,null,c,b)}),o=j(function(a,b,c){return a.set(c,b)}),p=j(function(a,b){a.push(b)}),q=j(function(a,b){var c=a.get();return e.find(c,m(b))});b.exports=function(a){a=a||h;var b=n(a),c={add:j(function(a,c,d){Array.isArray(d)||(d=[d]);var e=c.validateAll(d);if(c.isValid(d))return i(d).map(b(c)).forEach(p(a)).value();throw Error(e)}),remove:j(function(a,b){var c=e.find(a,m(b)),d=a.indexOf(c);if(d>=0&&d<a.length){var f=a[d];return a.splice(d,1),f}return null}),change:j(function(a,b,c,d){var f,g,h,j,k=e.find(a,m(c));if(k){if(f=k.toJSON(),g=i(f).clone(!0).assign(d).value(),h=b.validate(g),h!==b.VALIDATION_SUCCESS)throw Error(h);return e.isEqual(g,f)?null:(j=e.chain(d).forOwn(o(k)).thru(function(){return k.toJSON()}).value(),[j,f])}return null}),merge:j(function(a,b,c,d,g){var h=d.ID_FIELD||f.type.ID_FIELD;return Array.isArray(g)||(g=[g]),e.chain(g).map(function(f){var g=f[h],i=e.find(c,m(g));return i?b(c,d,g,f):a(c,d,f)[0]}).compact().value()}),createAPI:j(function(a,f,h,j){var l=i(h).map(b(j)).thru(k(g,c,a,f,e,j)).value();return e.assign({},l,d(l))})};return c}},{"../Data":146,"../Model":148,"../Notified":150,lodash:30}],145:[function(a,b,c){b.exports=a("./Collection")},{"./Collection":144}],146:[function(a,b,c){"use strict";function d(a,b){var c={};return c[a]=b,c}function e(a){return"function"==typeof a.id}var f=a("lodash"),g=a("promise"),h=f.chain,i=f.clone,j=f.assign,k=f.isEqual,l=f.isArray,m=f.isObject,n=f.isNull,o=f.isNumber,p=f.isString,q=f.forOwn,r=f.bind,s=f.find,t=f.curry,u=(f.partial,f.partialRight),v=t(function(a,b){a.push(b)}),w={isAccessor:e,type:{ID_FIELD:"id",construct:function(a){var b=a.ID_FIELD||w.type.ID_FIELD,c=a.VALIDATION_SUCCESS,d=a.validate;if("string"!=typeof c)throw Error("invalid VALIDATION_SUCCESS property");if("function"!=typeof d)throw Error("invalid validate property");return j(a,{ID_FIELD:b,pValidate:function e(a){return Array.isArray(a)?g.all(a.map(e)):new g(function(b,e){var f=d(a);f===c?b(a):e(f)})},validateAll:function(a){return a.map(d)},isValid:function(a){return Array.isArray(a)?h(a).map(d).every(this.isSuccess).value():d(a)===c},isSuccess:function(a){return a===c}})}},mutators:{change:t(function(a,b,c,d){var e,f,g=b.ID_FIELD,j=s(a,g,c),l=i(j,!0);if(j){if(e=h(j).clone(!0).assign(d).value(),f=b.validate(e),f!==b.VALIDATION_SUCCESS)throw Error(f);return k(e,j)?null:[h(j).assign(d).clone(!0).value(),l]}return null}),add:t(function(a,b,c){Array.isArray(c)||(c=[c]);var d=b.validateAll(c);if(!b.isValid(c))throw Error(d);return c.forEach(v(a)),i(c,!0)}),merge:t(function(a,b,c,d,e){var f=d.ID_FIELD||w.type.ID_FIELD;return Array.isArray(e)||(e=[e]),h(e).map(function(e){var g=e[f],h=s(c,f,g);return h?b(c,d,g,e):a(c,d,e)[0]}).compact().value()}),remove:t(function(a,b,c){function d(a,b,d){var f=b?s(a,b,c):d,g=a.indexOf(f);return e(a,g)}function e(a,b){var c;return b>=0&&b<a.length?(c=a[b],a.splice(b,1),c):null}var f;if(o(c))f=e(a,c);else{if(!p(c)&&!n(c))throw Error("expected string, number or null");f=d(a,b,c)}return i(f,!0)}),reset:function(a,b){return this.empty(a),j(a,b)},empty:function(a){return l(a)?a.splice(0,a.length):m(a)&&q(a,function(b,c){delete a[c]}),a},setter:t(function(a,b,c){if("string"!=typeof b)throw Error("key must be a string");if("function"==typeof c)throw Error("value must be a primitive or object");return c=i(c,!0),j(a,d(b,c))})},accessors:{id:function(a,b){return b[a.ID_FIELD]},getter:function(a,b){var c=h(a).clone(!0),d=r(c.value,c);return"undefined"==typeof b?d:d()[b]},toJSON:function(a){var b=h(a).clone(!0);return b.value.bind(b)}},defaults:u(j,function(a,b){return"undefined"==typeof a?b:a})};b.exports=w},{lodash:30,promise:36}],147:[function(a,b,c){"use strict";var d=a("lodash"),e=a("../Data"),f=a("../Notified").createAPI,g=d.curry,h=g(function(a,b,c){return a[b]!==c?e.mutators.setter(a,b,c):null}),i=g(function(a,b,c,d){return f(j,a,b,c,d)}),j=d.defaults({createAPI:i,setter:h},e.mutators,e.accessors);b.exports=j},{"../Data":146,"../Notified":150,lodash:30}],148:[function(a,b,c){b.exports=a("./Model")},{"./Model":147}],149:[function(a,b,c){"use strict";function d(a,b,c){e.forOwn(c,function(d,f){switch(f){case n.ADD:a.on(n.ADD,function(){e.partial(b.emit,c.add).apply(b,arguments)});break;case n.REMOVE:a.on(n.REMOVE,function(){e.partial(b.emit,c.remove).apply(b,arguments)});break;case n.CHANGE:a.on(n.CHANGE,function(){e.partial(b.emit,c.change).apply(b,arguments)});break;case n.SET:a.on(n.SET,function(){e.partial(b.emit,c.set).apply(b,arguments)});break;case n.RESET:a.on(n.RESET,function(){e.partial(b.emit,c.reset).apply(b,arguments)})}})}var e=a("lodash"),f=a("../Data"),g=a("events").EventEmitter,h=e.curry,i=e.clone,j=e.omit,k=(f.mutators.add,f.mutators.remove,f.mutators.change,f.mutators.merge,f.mutators.setter,f.accessors.id),l=f.accessors.getter,m=f.accessors.toJSON,n={ADD:"add",REMOVE:"remove",CHANGE:"change",SET:"set",RESET:"reset"},o={EVENTS:n,pipeEmitters:d,add:h(function(a,b,c,d,e,f){var g=a.add(d,e,f);return g&&b.emit(c,g),g}),remove:h(function(a,b,c,d,e,f){var g=a.remove(d,e,f);return g&&b.emit(c,g),g}),change:h(function(a,b,c,d,e,f,g){var h=a.change(d,e,f,g);return h&&b.emit(c,h[0],h[1]),h}),merge:h(function(a,b,c,d,e,f){return a.merge(b,c,d,e,f)}),reset:h(function(a,b,c,d,e){var f=i(d,!0),g=a.reset(d,e);b.emit(c,g,f)}),set:h(function(a,b,c,d,e,f){var g=i(d,!0),h=a.setter(d,e,f);return h&&(b.emit(c,h,g),b.emit(c+":"+e,h,g)),h}),unset:h(function(a,b,c,d,e){var f=i(d,!0),g=a.reset(d,j(d,e));return g&&(b.emit(c,g,f),b.emit(c+":"+e,g,f)),g}),createAPI:h(function(a,b,c,h,i){var j=i.ID_FIELD||f.type.ID_FIELD,p=new g,q={add:(c?c+":":"")+n.ADD,remove:(c?c+":":"")+n.REMOVE,change:(c?c+":":"")+n.CHANGE},r={set:(c?c+":":"")+n.SET,unset:(c?c+":":"")+n.UNSET};return e.isArray(h)?(b&&d(p,b,q),{on:p.on.bind(p),off:p.removeListener.bind(p),once:p.once.bind(p),add:o.merge(a,o.add(a,p,n.ADD),o.change(a,p,n.CHANGE),h,i),reset:o.reset(a,p,n.RESET,h),remove:o.remove(a,p,n.REMOVE,h,j),change:o.change(a,p,n.CHANGE,h,i),get:l(h),toJSON:m(h)}):(b&&d(p,b,r),{on:p.on.bind(p),off:p.removeListener.bind(p),once:p.once.bind(p),set:o.set(a,p,n.SET,h),unset:o.unset(a,p,n.SET,h),reset:o.reset(a,p,n.RESET,h),get:e.partial(a.getter||l,h),id:e.partial(k,i,h),toJSON:m(h)})})};b.exports=o},{"../Data":146,events:22,lodash:30}],150:[function(a,b,c){b.exports=a("./Notified")},{"./Notified":149}],151:[function(a,b,c){b.exports=a("./Data")},{"./Data":146}],152:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d={};return a.on(b,c),d[b]=c,d}},{}],153:[function(a,b,c){var d=a("./promisifyEvent"),e=a("./createHandler"),f=a("./removeHandler");b.exports={promisify:d,createHandler:e,removeHandler:f}},{"./createHandler":152,"./promisifyEvent":154,"./removeHandler":155}],154:[function(a,b,c){"use strict";var d=a("promise"),e=a("events").EventEmitter;b.exports=function(a,b,c){if(!(a instanceof e))throw Error("EventEmitter expected");if("string"!=typeof b)throw Error("success event name expected");if("string"!=typeof c)throw Error("fail event name expected");return new d(function(d,e){function f(b){a.removeListener(c,g),d(b)}function g(c){a.removeListener(b,f),e(c)}a.once(b,f),a.once(c,g)})}},{events:22,promise:36}],155:[function(a,b,c){"use strict";b.exports=function(a,b){var c=b[0],d=b[1];a.off(c,d)}},{}],156:[function(a,b,c){"use strict";var d=a("colorbrewer");d.ZoomSequential={3:["#ffc65f","#9eb778","#0096b6"],4:["#ffd27c","#ccbd67","#7eb184","#008db6"],5:["#ffd27c","#ccbd67","#7eb184","#0096b6","#0082b5"],6:["#ffd27c","#efc15e","#9eb778","#7eb184","#0096b6","#0082b5"],7:["#ffd27c","#efc15e","#9eb778","#7eb184","#43a79b","#008db6","#097bb1"],8:["#ffdc9c","#ffc65f","#efc15e","#9eb778","#7eb184","#43a79b","#008db6","#097bb1"],9:["#ffdc9c","#ffc65f","#efc15e","#9eb778","#7eb184","#43a79b","#008db6","#0082b5","#1473ac"]},d.ZoomPalette={3:["#0095b7","#a0b774","#f4c658"],4:["#0095b7","#a0b774","#f4c658","#fe8b3e"],5:["#0095b7","#a0b774","#f4c658","#fe8b3e","#cf2f23"],6:["#0095b7","#a0b774","#f4c658","#fe8b3e","#cf2f23","#756c56"],7:["#0095b7","#a0b774","#f4c658","#fe8b3e","#cf2f23","#756c56","#007896"],8:["#0095b7","#a0b774","#f4c658","#fe8b3e","#cf2f23","#756c56","#007896","#47a694"],9:["#0095b7","#a0b774","#f4c658","#fe8b3e","#cf2f23","#756c56","#007896","#47a694","#f9a94b"],10:["#0095b7","#a0b774","#f4c658","#fe8b3e","#cf2f23","#756c56","#007896","#47a694","#f9a94b","#ff6b30"],11:["#0095b7","#a0b774","#f4c658","#fe8b3e","#cf2f23","#756c56","#007896","#47a694","#f9a94b","#ff6b30","#e94d29"],12:["#0095b7","#a0b774","#f4c658","#fe8b3e","#cf2f23","#756c56","#007896","#47a694","#f9a94b","#ff6b30","#e94d29","#005b76"]},b.exports=d},{colorbrewer:11}],157:[function(a,b,c){"use strict";function d(){return"undefined"!=typeof navigator&&("ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0)}b.exports=d},{}],158:[function(a,b,c){"use strict";var d=a("./Events/index.ts"),e=a("./detectTouchDevice"),f=a("./colorSchemes");b.exports={events:d,detectTouchDevice:e,colorSchemes:f}},{"./Events/index.ts":153,"./colorSchemes":156,"./detectTouchDevice":157}],159:[function(a,b,c){"use strict";function d(a){return new i(function(b,c){"undefined"===document||a?a instanceof HTMLElement?b(a):c(k.INVALID_ELEMENT):b(document.head)})}function e(a,b){return new i(function(c,d){if("undefined"!==document){var e=document.createElement("script");e.onload=function(){c()},e.onerror=d,e.setAttribute("type","text/javascript"),e.setAttribute("src",a),b.appendChild(e)}})}function f(a,b){return l.request(a).then(function(a){return a})}var g=a("lodash"),h=g.isNaN,i=a("promise"),j=a("xhr"),k={REQUEST_XHR:"invalid xhr options",INVALID_PARAMS:"JSON object expected",INVALID_ELEMENT:"invalid parent element"},l={request:function(a,b){var c=g.clone(a,!0),d="object"==typeof b?l.paramString(b):"";switch(typeof c){case"string":c+=d;break;case"object":"string"==typeof c.uri&&(c.uri+=d),"string"==typeof c.url&&(c.url+=d);break;default:throw Error(k.REQUEST_XHR)}return i.denodeify(j)(c).then(function(a){return 200===a.statusCode?i.resolve(a.body):i.reject(a.rawRequest)})},loadScript:function(a,b){return d(b).then(g.partial(e,a))},loadStyle:function(a,b){return d(b).then(g.partial(f,a))},paramString:function(a){if("object"!=typeof a)throw Error(k.INVALID_PARAMS);return g.reduce(a,function(a,b,c){var d=c+"="+b;return""===a?a+"?"+d:a+"&"+d},"")},secure:function(a){return"boolean"==typeof a.secure?a.secure:"https:"===location.protocol},hostname:function(a){return"string"==typeof a.host?a.host:location.hostname},port:function(a){return"number"==typeof a.port?a.port:h(parseInt(location.port,10))?null:parseInt(location.port,10)},path:function(a){return"string"==typeof a.path?a.path:location.pathname}};b.exports=l},{lodash:30,promise:36,xhr:59}],160:[function(a,b,c){b.exports=a("./Web")},{"./Web":159}],161:[function(a,b,c){"use strict";var d="Invalid options: either standalone credentials or user credentials must be defined",e=a("lodash"),f=a("promise"),g=a("../Client"),h=a("../Client/Service"),i=a("../Client/User");b.exports={createClient:function(a){return a=a||{},this._validate(a.credentials,a.application).then(function(b){return new g(e.assign(a,{credentials:b}))})},_validate:function(a,b){var c,e,j;if("object"!=typeof a)throw new Error(d);if(h.isValidStandalone(a))e=g.MODES.STANDALONE,j=h.getHomePath(b);else{if(!i.isValid(a))throw Error(d);e=g.MODES.CLIENT,j=""}switch(e){case g.MODES.STANDALONE:c=this._validateStandalone(j,a);break;case g.MODES.CLIENT:c=f.resolve();break;default:c=f.reject("Invalid mode")}return c.then(function(){return a})},_validateStandalone:function(a,b){var c={};return b.key&&(c={key:b.key}),b.access_token&&(c={access_token:b.access_token}),i.fetch(a,c)}}},{"../Client":143,"../Client/Service":94,"../Client/User":120,lodash:30,promise:36}]},{},[1,2,3,161])(161)});